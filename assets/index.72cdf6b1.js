var Yy=Object.defineProperty;var a=(t,e)=>Yy(t,"name",{value:e,configurable:!0});import{A as Cd,n as Jy,a as Xy,B as D0}from"./vue.esm-bundler.0d7c29ee.js";import"./FActionBar.231b34b9.js";import"./FAppBar.a483a7cb.js";import"./FAssetAmountInput.b9f4b62c.js";import"./FAssetInputTools.57badf86.js";import"./FAssetLogo.abcf4585.js";import"./FAssetSelect.c02569e5.js";import"./FAssetSelectField.0a3080f2.js";import"./FAssetSwapForm.7d59ccb0.js";import{F as Zy,u as e1,g as t1}from"./FPaymentModal.a560eee8.js";import"./FBottomNav.9593f782.js";import"./FButton.c94e3704.js";import"./FDivider.78d9db3a.js";import"./FFiatDivision.85b94e4a.js";import"./FHint.bf96fb2e.js";import"./FInfoGridItem.6030ded2.js";import"./FInput.cc1e9cf7.js";import"./FListItem.ffbaa156.js";import"./FLoading.8c48f266.js";import"./FModal.1ffcee23.js";import"./FPayingModal.58872440.js";import{b as Oa}from"./FPhoneInput.f53e0b4d.js";import{d as r1}from"./FQRCode.746dafd9.js";import"./FRender.e214a8d0.js";import"./FSearchInput.51b8ce83.js";import"./FSegmentControl.b096dbf1.js";import"./FSlider.319f099a.js";import"./FSwitch.a0db7fb9.js";import"./FTabs.a9d4af47.js";import"./FTextarea.7a177367.js";import"./FToast.5b1fc8b0.js";import"./FTooltip.1ac232ae.js";import{c as Vt,V as Gr,W as Td}from"./iframe.18542905.js";function xa(t){return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(t)}a(xa,"_typeof$1");function n1(t,e){if(xa(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xa(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}a(n1,"_toPrimitive");function Id(t){var e=n1(t,"string");return xa(e)==="symbol"?e:String(e)}a(Id,"_toPropertyKey");function of(t,e,r){return e=Id(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}a(of,"_defineProperty");function N8(){return Cd().appContext.config.globalProperties.$uikit.auth}a(N8,"useAuth");function i1(t,e){let r=null;const i={show:a(o=>{r&&r.component.exposed.close(),Jy(()=>{var p,x;const f=document.querySelector("[data-v-app]"),l=document.createElement("div"),d=Xy(Zy,{...e,...o,fennec:(p=o==null?void 0:o.checkFennec)==null?void 0:p.call(o),metamask:(x=o==null?void 0:o.checkMetamask)==null?void 0:x.call(o),attach:l,onAuth:o.handleAuth,onError:o.handleError,onDestroy:()=>{D0(null,l),r=null,f==null||f.removeChild(l)}});d.appContext=t._context,D0(d,l),f==null||f.appendChild(l),r=d,r.component.exposed.show()})},"show")},s=t.config.globalProperties;s.$uikit=s.$uikit||{},s.$uikit.auth=i}a(i1,"install$1");function s1(){}a(s1,"Auth");s1.install=i1;function F0(t,e,r,n,i,s,o){try{var f=t[s](o),l=f.value}catch(d){r(d);return}f.done?e(l):Promise.resolve(l).then(n,i)}a(F0,"asyncGeneratorStep");function a1(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(l){F0(s,n,i,o,f,"next",l)}a(o,"_next");function f(l){F0(s,n,i,o,f,"throw",l)}a(f,"_throw"),o(void 0)})}}a(a1,"_asyncToGenerator");function o1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a(o1,"_classCallCheck");function q0(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Id(n.key),n)}}a(q0,"_defineProperties");function f1(t,e,r){return e&&q0(t.prototype,e),r&&q0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}a(f1,"_createClass");var Md={exports:{}},Nd={exports:{}};(function(t){function e(r){return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}a(e,"_typeof"),t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Nd);(function(t){var e=Nd.exports.default;function r(){t.exports=r=a(function(){return n},"_regeneratorRuntime"),t.exports.__esModule=!0,t.exports.default=t.exports;var n={},i=Object.prototype,s=i.hasOwnProperty,o=Object.defineProperty||function(c,v,y){c[v]=y.value},f=typeof Symbol=="function"?Symbol:{},l=f.iterator||"@@iterator",d=f.asyncIterator||"@@asyncIterator",p=f.toStringTag||"@@toStringTag";function x(c,v,y){return Object.defineProperty(c,v,{value:y,enumerable:!0,configurable:!0,writable:!0}),c[v]}a(x,"define");try{x({},"")}catch{x=a(function(y,E,g){return y[E]=g},"define")}function T(c,v,y,E){var g=v&&v.prototype instanceof O?v:O,_=Object.create(g.prototype),w=new S(E||[]);return o(_,"_invoke",{value:J(c,y,w)}),_}a(T,"wrap");function R(c,v,y){try{return{type:"normal",arg:c.call(v,y)}}catch(E){return{type:"throw",arg:E}}}a(R,"tryCatch"),n.wrap=T;var N={};function O(){}a(O,"Generator");function B(){}a(B,"GeneratorFunction");function k(){}a(k,"GeneratorFunctionPrototype");var L={};x(L,l,function(){return this});var D=Object.getPrototypeOf,H=D&&D(D(m([])));H&&H!==i&&s.call(H,l)&&(L=H);var K=k.prototype=O.prototype=Object.create(L);function j(c){["next","throw","return"].forEach(function(v){x(c,v,function(y){return this._invoke(v,y)})})}a(j,"defineIteratorMethods");function ie(c,v){function y(g,_,w,h){var A=R(c[g],c,_);if(A.type!=="throw"){var $=A.arg,I=$.value;return I&&e(I)=="object"&&s.call(I,"__await")?v.resolve(I.__await).then(function(q){y("next",q,w,h)},function(q){y("throw",q,w,h)}):v.resolve(I).then(function(q){$.value=q,w($)},function(q){return y("throw",q,w,h)})}h(A.arg)}a(y,"invoke");var E;o(this,"_invoke",{value:a(function(_,w){function h(){return new v(function(A,$){y(_,w,A,$)})}return a(h,"callInvokeWithMethodAndArg"),E=E?E.then(h,h):h()},"value")})}a(ie,"AsyncIterator");function J(c,v,y){var E="suspendedStart";return function(g,_){if(E==="executing")throw new Error("Generator is already running");if(E==="completed"){if(g==="throw")throw _;return u()}for(y.method=g,y.arg=_;;){var w=y.delegate;if(w){var h=ue(w,y);if(h){if(h===N)continue;return h}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(E==="suspendedStart")throw E="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);E="executing";var A=R(c,v,y);if(A.type==="normal"){if(E=y.done?"completed":"suspendedYield",A.arg===N)continue;return{value:A.arg,done:y.done}}A.type==="throw"&&(E="completed",y.method="throw",y.arg=A.arg)}}}a(J,"makeInvokeMethod");function ue(c,v){var y=v.method,E=c.iterator[y];if(E===void 0)return v.delegate=null,y==="throw"&&c.iterator.return&&(v.method="return",v.arg=void 0,ue(c,v),v.method==="throw")||y!=="return"&&(v.method="throw",v.arg=new TypeError("The iterator does not provide a '"+y+"' method")),N;var g=R(E,c.iterator,v.arg);if(g.type==="throw")return v.method="throw",v.arg=g.arg,v.delegate=null,N;var _=g.arg;return _?_.done?(v[c.resultName]=_.value,v.next=c.nextLoc,v.method!=="return"&&(v.method="next",v.arg=void 0),v.delegate=null,N):_:(v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,N)}a(ue,"maybeInvokeDelegate");function P(c){var v={tryLoc:c[0]};1 in c&&(v.catchLoc=c[1]),2 in c&&(v.finallyLoc=c[2],v.afterLoc=c[3]),this.tryEntries.push(v)}a(P,"pushTryEntry");function b(c){var v=c.completion||{};v.type="normal",delete v.arg,c.completion=v}a(b,"resetTryEntry");function S(c){this.tryEntries=[{tryLoc:"root"}],c.forEach(P,this),this.reset(!0)}a(S,"Context");function m(c){if(c){var v=c[l];if(v)return v.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length)){var y=-1,E=a(function g(){for(;++y<c.length;)if(s.call(c,y))return g.value=c[y],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return E.next=E}}return{next:u}}a(m,"values");function u(){return{value:void 0,done:!0}}return a(u,"doneResult"),B.prototype=k,o(K,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:B,configurable:!0}),B.displayName=x(k,p,"GeneratorFunction"),n.isGeneratorFunction=function(c){var v=typeof c=="function"&&c.constructor;return!!v&&(v===B||(v.displayName||v.name)==="GeneratorFunction")},n.mark=function(c){return Object.setPrototypeOf?Object.setPrototypeOf(c,k):(c.__proto__=k,x(c,p,"GeneratorFunction")),c.prototype=Object.create(K),c},n.awrap=function(c){return{__await:c}},j(ie.prototype),x(ie.prototype,d,function(){return this}),n.AsyncIterator=ie,n.async=function(c,v,y,E,g){g===void 0&&(g=Promise);var _=new ie(T(c,v,y,E),g);return n.isGeneratorFunction(v)?_:_.next().then(function(w){return w.done?w.value:_.next()})},j(K),x(K,p,"Generator"),x(K,l,function(){return this}),x(K,"toString",function(){return"[object Generator]"}),n.keys=function(c){var v=Object(c),y=[];for(var E in v)y.push(E);return y.reverse(),a(function g(){for(;y.length;){var _=y.pop();if(_ in v)return g.value=_,g.done=!1,g}return g.done=!0,g},"next")},n.values=m,S.prototype={constructor:S,reset:a(function(v){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!v)for(var y in this)y.charAt(0)==="t"&&s.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},"reset"),stop:a(function(){this.done=!0;var v=this.tryEntries[0].completion;if(v.type==="throw")throw v.arg;return this.rval},"stop"),dispatchException:a(function(v){if(this.done)throw v;var y=this;function E($,I){return w.type="throw",w.arg=v,y.next=$,I&&(y.method="next",y.arg=void 0),!!I}a(E,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var _=this.tryEntries[g],w=_.completion;if(_.tryLoc==="root")return E("end");if(_.tryLoc<=this.prev){var h=s.call(_,"catchLoc"),A=s.call(_,"finallyLoc");if(h&&A){if(this.prev<_.catchLoc)return E(_.catchLoc,!0);if(this.prev<_.finallyLoc)return E(_.finallyLoc)}else if(h){if(this.prev<_.catchLoc)return E(_.catchLoc,!0)}else{if(!A)throw new Error("try statement without catch or finally");if(this.prev<_.finallyLoc)return E(_.finallyLoc)}}}},"dispatchException"),abrupt:a(function(v,y){for(var E=this.tryEntries.length-1;E>=0;--E){var g=this.tryEntries[E];if(g.tryLoc<=this.prev&&s.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var _=g;break}}_&&(v==="break"||v==="continue")&&_.tryLoc<=y&&y<=_.finallyLoc&&(_=null);var w=_?_.completion:{};return w.type=v,w.arg=y,_?(this.method="next",this.next=_.finallyLoc,N):this.complete(w)},"abrupt"),complete:a(function(v,y){if(v.type==="throw")throw v.arg;return v.type==="break"||v.type==="continue"?this.next=v.arg:v.type==="return"?(this.rval=this.arg=v.arg,this.method="return",this.next="end"):v.type==="normal"&&y&&(this.next=y),N},"complete"),finish:a(function(v){for(var y=this.tryEntries.length-1;y>=0;--y){var E=this.tryEntries[y];if(E.finallyLoc===v)return this.complete(E.completion,E.afterLoc),b(E),N}},"finish"),catch:a(function(v){for(var y=this.tryEntries.length-1;y>=0;--y){var E=this.tryEntries[y];if(E.tryLoc===v){var g=E.completion;if(g.type==="throw"){var _=g.arg;b(E)}return _}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:a(function(v,y,E){return this.delegate={iterator:m(v),resultName:y,nextLoc:E},this.method==="next"&&(this.arg=void 0),N},"delegateYield")},n}a(r,"_regeneratorRuntime"),t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Md);var lo=Md.exports(),V0=lo;try{regeneratorRuntime=lo}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=lo:Function("r","regeneratorRuntime = r")(lo)}var u1="mixin_ext",l1=function(){function t(){o1(this,t),this.ctx=void 0,this.connected=!1}return a(t,"Fennec"),f1(t,[{key:"getExt",value:a(function(){var r,n;return(r=window)===null||r===void 0||(n=r.__MIXIN__)===null||n===void 0?void 0:n[u1]},"getExt")},{key:"isAvailable",value:a(function(){return Boolean(this.getExt())},"isAvailable")},{key:"connect",value:function(){var e=a1(V0.mark(a(function n(i){var s;return V0.wrap(a(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.getExt()){f.next=2;break}throw new Error("Browser Extension is not installed");case 2:return f.next=4,(s=this.getExt())===null||s===void 0?void 0:s.enable(i);case 4:this.ctx=f.sent,this.connected=!0;case 6:case"end":return f.stop()}},"_callee$"),n,this)},"_callee")));function r(n){return e.apply(this,arguments)}return a(r,"connect"),r}()},{key:"disconnect",value:a(function(){this.ctx=void 0,this.connected=!1},"disconnect")}]),t}();let Ie;(function(t){t.GET="GET",t.POST="POST"})(Ie||(Ie={}));let K0;(function(t){t.PROFILE_READ="PROFILE:READ",t.PHONE_READ="PHONE:READ",t.ASSETS_READ="ASSETS:READ",t.COLLECTIBLES_READ="COLLECTIBLES:READ",t.CONTACTS_READ="CONTACTS:READ",t.MESSAGES_REPRESENT="MESSAGES:REPRESENT",t.SNAPSHOTS_READ="SNAPSHOTS:READ",t.CIRCLES_READ="CIRCLES:READ",t.CIRCLES_WRITE="CIRCLES:WRITE"})(K0||(K0={}));let H0;(function(t){t.DEPOSIT="deposit",t.TRANSFER="transfer",t.WITHDRAWAL="withdrawal",t.WITHDRAWAL_FEE_CHARGED="fee",t.WITHDRAWAL_FAILED="rebate",t.RAW="raw"})(H0||(H0={}));let G0;(function(t){t.DEPOSIT_CONFIRMED="DEPOSIT_CONFIRMED",t.TRANSFER_INITIALIZED="TRANSFER_INITIALIZED",t.WITHDRAWAL_INITIALIZED="WITHDRAWAL_INITIALIZED",t.WITHDRAWAL_FEE_CHARGED="WITHDRAWAL_FEE_CHARGED",t.WITHDRAWAL_FAILED="WITHDRAWAL_FAILED"})(G0||(G0={}));let j0;(function(t){t.PLAIN_TEXT="PLAIN_TEXT",t.PLAIN_STICKER="PLAIN_STICKER",t.PLAIN_IMAGE="PLAIN_IMAGE",t.PLAIN_AUDIO="PLAIN_AUDIO",t.PLAIN_VIDEO="PLAIN_VIDEO",t.PLAIN_CONTACT="PLAIN_CONTACT",t.APP_CARD="APP_CARD",t.PLAIN_DATA="PLAIN_DATA",t.PLAIN_LIVE="PLAIN_LIVE",t.PLAIN_LOCATION="PLAIN_LOCATION",t.PLAIN_POST="PLAIN_POST",t.APP_BUTTON_GROUP="APP_BUTTON_GROUP",t.SYSTEM_ACCOUNT_SNAPSHOT="SYSTEM_ACCOUNT_SNAPSHOT",t.MESSAGE_PIN="MESSAGE_PIN"})(j0||(j0={}));function h1(t){return{getAsset(e){return t.send(`/assets/${e}`,Ie.GET)},getAssets(){return t.send("/assets",Ie.GET)},getExchangeRates(){return t.send("/fiats",Ie.GET)},getExernalExchangeRates(){return t.send("/external/fiats",Ie.GET)},getFee(e){return t.send(`/assets/${e}/fee`,Ie.GET)}}}a(h1,"createAssetEndpoints");function c1(t){return{addConversationCircle(e,r){return t.send(`/conversation/${e}/circles`,Ie.POST,r)},addUserToCircle(e,r){return t.send(`/users/${e}/circles`,Ie.POST,r)},createCircle(e){return t.send("/circles",Ie.POST,e)},deleteCircle(e){return t.send(`/circles/${e}/delete`,Ie.POST)},getCircle(e){return t.send(`/circles/${e}`,Ie.GET)},getCircleConversations(e,r){return t.send(`/circles/${e}/conversations`,Ie.GET,"",r)},getCircles(){return t.send("/circles",Ie.GET)},removeConversationCircle(e,r){return t.send(`/conversation/${e}/circles`,Ie.POST,r)},removeUserFromCircle(e,r){return t.send(`/users/${e}/circles`,Ie.POST,r)},updateCircle(e,r){return t.send(`/circles/${e}`,Ie.POST,r)}}}a(c1,"createCircleEndpoints");function d1(t){return{getCollectibleOutputs(e){return t.send("/collectibles/outputs",Ie.GET,"",e)},getCollectibleToken(e){return t.send(`/collectibles/tokens/${e}`,Ie.GET)},sendCollectibleAction(e,r,n){return t.send(`/collectibles/requests/${e}/${r}`,Ie.POST,{pin:n})},sendCollectibleRequest(e){return t.send("/collectibles/requests",Ie.POST,e)}}}a(d1,"createCollectibleEndpoints");function p1(t){return{addParticipants(e){return t.send(`/conversations/${e}/participants/ADD`,Ie.POST)},createConversation(e){return t.send("/conversations",Ie.POST,e)},exitConversation(e){return t.send(`/conversations/${e}/exit`,Ie.POST)},getConversation(e){return t.send(`/conversation/${e}`,Ie.GET)},joinConversation(e,r){return t.send(`/conversations/${e}/join`,Ie.POST,r)},muteConversation(e,r){return t.send(`/conversations/${e}/mute`,Ie.POST,r)},removeParticipants(e,r){return t.send(`/conversations/${e}/participants/REMOVE`,Ie.POST,r)},rotateConversation(e){return t.send(`/conversations/${e}/rotate`,Ie.POST)},updateConversation(e,r){return t.send(`/conversation/${e}`,Ie.POST,r)},updateConversationRole(e,r){return t.send(`/conversation/${e}/participants/ROLE`,Ie.POST,r)}}}a(p1,"createConversationEndpoints");function g1(t){return{acknowledgements(e){return t.send("/acknowledgements",Ie.POST,e)},getAttachment(e){return t.send(`/attachments/${e}`,Ie.GET)},sendMessages(e){return t.send("/messages",Ie.POST,e)},uploadAttachment(e){return t.send("/attachments",Ie.POST,e)}}}a(g1,"createMessageEndpoints");function v1(t){return{createMultisigs(e){return t.send("/multisigs/requests",Ie.POST,e)},getMultisigsOutputs(e){return t.send("/multisigs/outputs",Ie.GET,"",e)},multisigsAction(e,r,n){return t.send(`/multisigs/requests/${e}/${r}`,Ie.POST,{action:r,pin:n})}}}a(v1,"createMultisigEndpoints");function m1(t){return{getExternalTransactions(e){return t.send("/external/transactions",Ie.GET,"",e)},getNetworkAsset(e){return t.send(`/network/assets/${e}`,Ie.GET)},getNetworkChains(){return t.send("/network/chains",Ie.GET)},getNetworkSnapshot(e){return t.send(`/network/snapshots/${e}`,Ie.GET)},getNetworkSnapshots(e){return t.send("/network/snapshots",Ie.GET,"",e)},getNetworkTicker(e){return t.send("/network/ticker",Ie.GET,e)},getNetworkTopAssets(){return t.send("/network/assets/top",Ie.GET)},outputs(e){return t.send("/outputs",Ie.POST,e)},searchNetworkAsset(e){return t.send(`/network/assets/search/${e}`,Ie.GET)},ticker(e){return t.send("/ticker",Ie.GET,"",e)}}}a(m1,"createNetworkEndpoints");function y1(t){return{getAccessToken(e){return t.send("/oauth/token",Ie.POST,e)}}}a(y1,"createOAuthEndpoints");function w1(t){return{getPinLogs(e){return t.send("/logs",Ie.GET,"",e)},updatePin(e,r){return t.send("/pin/update",Ie.POST,{old_pin:e,pin:r})},verifyPin(e){return t.send("/pin/verify",Ie.POST,e)}}}a(w1,"createPinEndpoints");function b1(t){return{getSnapshot(e){return t.send(`/snapshots/${e}`,Ie.GET)},getSnapshots(e){return t.send("/snapshots",Ie.GET,"",e)},getTransfer(e){return t.send(`/transfer/trace/${e}`,Ie.GET)},payments(e){return t.send("/payments",Ie.POST,e)},transactions(e){return t.send("/transactions",Ie.POST,e)},transfer(e){return t.send("/transfers",Ie.POST,e)}}}a(b1,"createTransferEndpoints");function x1(t){return{addAppToFavorite(e){return t.send(`/apps/${e}/favorite`,Ie.POST)},codes(e){return t.send(`/codes/${e}`,Ie.GET)},createUser(e){return t.send("/users",Ie.POST,e)},getBlockingUsers(){return t.send("/blocking_users",Ie.GET)},getFriends(){return t.send("/friends",Ie.GET)},getMe(){return t.send("/me",Ie.GET)},getUser(e){return t.send(`/users/${e}`,Ie.GET)},getUserFavoriteApps(e){return t.send(`/users/${e}/apps/favorite`,Ie.GET)},getUsers(e){return t.send("/users/fetch",Ie.POST,e)},removeAppFromFavorite(e){return t.send(`/apps/${e}/unfavorite`,Ie.POST)},searchUser(e){return t.send(`/search/${e}`,Ie.GET)},updateProfile(e){return t.send("/me",Ie.POST,e)},updateRelationship(e){return t.send("/relationships",Ie.POST,e)}}}a(x1,"createUserEndpoints");function E1(t){return{createWithdrawAddress(e){return t.send("/addresses",Ie.POST,e)},deleteWithdrawAddress(e,r){return t.send(`/addresses/${e}/delete`,Ie.POST,r)},getAssetWithdrawAddresses(e){return t.send(`/assets/${e}/addresses`,Ie.GET)},getWithdrawAddress(e){return t.send(`/addresses/${e}`,Ie.GET)},withdraw(e){return t.send("/withdrawals",Ie.POST,e)}}}a(E1,"createWithdrawEndpoints");function z0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}a(z0,"ownKeys$3");function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z0(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}a($r,"_objectSpread$3");const _1=a(function(t){return $r($r($r($r($r($r($r($r($r($r($r($r({},h1(t)),c1(t)),d1(t)),p1(t)),g1(t)),v1(t)),m1(t)),y1(t)),w1(t)),b1(t)),x1(t)),E1(t))},"createEndpoints"),A1={HTTP_URL:"https://api.mixin.one",WS_URL:"wss://mixin-blaze.zeromesh.net"};class Rd{constructor(e=A1.HTTP_URL,r={}){this.axios=void 0,this.axios=Oa.create({baseURL:e,headers:r}),this.axios.interceptors.response.use(n=>{if(n.data.error){const{code:i,description:s}=n.data.error;return Promise.reject(new Error(`${i}: ${s}`))}return Promise.resolve(n)})}get hasSubscriptions(){return!1}get isConnected(){return!0}get instance(){return this.axios}async connect(){}async disconnect(){}clone(){throw new Error("Unimplemented")}on(e,r){return console.error("HTTP Provider does not have 'on' emitters, use WebSockets instead"),()=>{}}async send(e,r,n,i){return(await this.axios.request({data:n,method:r,params:i,url:e})).data.data}subscribe(e,r,n,i){throw new Error("HTTP Provider does not have subscriptions, use WebSockets instead")}unsubscribe(e,r,n){throw new Error("HTTP Provider does not have subscriptions, use WebSockets instead")}}a(Rd,"HttpProvider");const S1={HttpProvider:Rd};var Rt={options:{usePureJavaScript:!1}},Bd={exports:{}},Al={},C1=Al,$0={};Al.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=T1(t,e);else{var i=0,s=e.length,o=e.charAt(0),f=[0];for(i=0;i<t.length;++i){for(var l=0,d=t[i];l<f.length;++l)d+=f[l]<<8,f[l]=d%s,d=d/s|0;for(;d>0;)f.push(d%s),d=d/s|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=o;for(i=f.length-1;i>=0;--i)n+=e[f[i]]}if(r){var p=new RegExp(".{1,"+r+"}","g");n=n.match(p).join(`\r
`)}return n};Al.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=$0[e];if(!r){r=$0[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,s=e.charAt(0),o=[0],n=0;n<t.length;n++){var f=r[t.charCodeAt(n)];if(f===void 0)return;for(var l=0,d=f;l<o.length;++l)d+=o[l]*i,o[l]=d&255,d>>=8;for(;d>0;)o.push(d&255),d>>=8}for(var p=0;t[p]===s&&p<t.length-1;++p)o.push(0);return typeof Buffer<"u"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function T1(t,e){var r=0,n=e.length,i=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var o=0,f=t.at(r);o<s.length;++o)f+=s[o]<<8,s[o]=f%n,f=f/n|0;for(;f>0;)s.push(f%n),f=f/n|0}var l="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)l+=i;for(r=s.length-1;r>=0;--r)l+=e[s[r]];return l}a(T1,"_encodeWithByteBuffer");var W0=Rt,Q0=C1,ee=Bd.exports=W0.util=W0.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){ee.nextTick=process.nextTick,typeof setImmediate=="function"?ee.setImmediate=setImmediate:ee.setImmediate=ee.nextTick;return}if(typeof setImmediate=="function"){ee.setImmediate=function(){return setImmediate.apply(void 0,arguments)},ee.nextTick=function(o){return setImmediate(o)};return}if(ee.setImmediate=function(o){setTimeout(o,0)},typeof window<"u"&&typeof window.postMessage=="function"){let o=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var l=e.slice();e.length=0,l.forEach(function(d){d()})}};a(o,"handler");var t="forge.setImmediate",e=[];ee.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(l){l()})}).observe(i,{attributes:!0});var s=ee.setImmediate;ee.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),s(f)):(e.push(f),e.length===1&&i.setAttribute("a",n=!n))}}ee.nextTick=ee.setImmediate})();ee.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;ee.globalScope=function(){return ee.isNodejs?Vt:typeof self>"u"?window:self}();ee.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};ee.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};ee.isArrayBufferView=function(t){return t&&ee.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function La(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}a(La,"_checkBitsParam");ee.ByteBuffer=Sl;function Sl(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(ee.isArrayBuffer(t)||ee.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof Sl||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}a(Sl,"ByteStringBuffer");ee.ByteStringBuffer=Sl;var I1=4096;ee.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>I1&&(this.data.substr(0,1),this._constructedStringLength=0)};ee.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};ee.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};ee.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};ee.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};ee.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};ee.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(ee.encodeUtf8(t))};ee.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ee.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ee.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ee.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};ee.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};ee.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};ee.ByteStringBuffer.prototype.putInt=function(t,e){La(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};ee.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};ee.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};ee.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};ee.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};ee.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};ee.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};ee.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};ee.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};ee.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};ee.ByteStringBuffer.prototype.getInt=function(t){La(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};ee.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ee.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ee.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ee.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};ee.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};ee.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};ee.ByteStringBuffer.prototype.copy=function(){var t=ee.createBuffer(this.data);return t.read=this.read,t};ee.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};ee.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};ee.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};ee.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ee.ByteStringBuffer.prototype.toString=function(){return ee.decodeUtf8(this.bytes())};function M1(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=ee.isArrayBuffer(t),n=ee.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}a(M1,"DataBuffer");ee.DataBuffer=M1;ee.DataBuffer.prototype.length=function(){return this.write-this.read};ee.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};ee.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};ee.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};ee.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};ee.DataBuffer.prototype.putBytes=function(t,e){if(ee.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(ee.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof ee.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&ee.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof ee.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=ee.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=ee.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=ee.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=ee.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=ee.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};ee.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};ee.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};ee.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};ee.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};ee.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};ee.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};ee.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};ee.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};ee.DataBuffer.prototype.putInt=function(t,e){La(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};ee.DataBuffer.prototype.putSignedInt=function(t,e){return La(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};ee.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};ee.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};ee.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};ee.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};ee.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};ee.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};ee.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};ee.DataBuffer.prototype.getInt=function(t){La(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};ee.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ee.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ee.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ee.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};ee.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};ee.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};ee.DataBuffer.prototype.copy=function(){return new ee.DataBuffer(this)};ee.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};ee.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};ee.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};ee.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ee.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return ee.binary.raw.encode(e);if(t==="hex")return ee.binary.hex.encode(e);if(t==="base64")return ee.binary.base64.encode(e);if(t==="utf8")return ee.text.utf8.decode(e);if(t==="utf16")return ee.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};ee.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=ee.encodeUtf8(t)),new ee.ByteBuffer(t)};ee.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};ee.xorBytes=function(t,e,r){for(var n="",i="",s="",o=0,f=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),f>=10&&(n+=s,s="",f=0),s+=String.fromCharCode(i),++f;return n+=s,n};ee.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};ee.bytesToHex=function(t){return ee.createBuffer(t).toHex()};ee.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",di=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],kd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ee.encode64=function(t,e){for(var r="",n="",i,s,o,f=0;f<t.length;)i=t.charCodeAt(f++),s=t.charCodeAt(f++),o=t.charCodeAt(f++),r+=ci.charAt(i>>2),r+=ci.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=ci.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":ci.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ee.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,s,o=0;o<t.length;)r=di[t.charCodeAt(o++)-43],n=di[t.charCodeAt(o++)-43],i=di[t.charCodeAt(o++)-43],s=di[t.charCodeAt(o++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(e+=String.fromCharCode((i&3)<<6|s)));return e};ee.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};ee.decodeUtf8=function(t){return decodeURIComponent(escape(t))};ee.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Q0.encode,decode:Q0.decode}};ee.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};ee.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};ee.binary.hex.encode=ee.bytesToHex;ee.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,s=r;for(t.length&1&&(i=1,n[s++]=parseInt(t[0],16));i<t.length;i+=2)n[s++]=parseInt(t.substr(i,2),16);return e?s-r:n};ee.binary.base64.encode=function(t,e){for(var r="",n="",i,s,o,f=0;f<t.byteLength;)i=t[f++],s=t[f++],o=t[f++],r+=ci.charAt(i>>2),r+=ci.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=ci.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":ci.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ee.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,o,f,l=0,d=r;l<t.length;)i=di[t.charCodeAt(l++)-43],s=di[t.charCodeAt(l++)-43],o=di[t.charCodeAt(l++)-43],f=di[t.charCodeAt(l++)-43],n[d++]=i<<2|s>>4,o!==64&&(n[d++]=(s&15)<<4|o>>2,f!==64&&(n[d++]=(o&3)<<6|f));return e?d-r:n.subarray(0,d)};ee.binary.base58.encode=function(t,e){return ee.binary.baseN.encode(t,kd,e)};ee.binary.base58.decode=function(t,e){return ee.binary.baseN.decode(t,kd,e)};ee.text={utf8:{},utf16:{}};ee.text.utf8.encode=function(t,e,r){t=ee.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};ee.text.utf8.decode=function(t){return ee.decodeUtf8(String.fromCharCode.apply(null,t))};ee.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,o=r,f=0;f<t.length;++f)i[o++]=t.charCodeAt(f),s+=2;return e?s-r:n};ee.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};ee.deflate=function(t,e,r){if(e=ee.decode64(t.deflate(ee.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};ee.inflate=function(t,e,r){var n=t.inflate(ee.encode64(e)).rval;return n===null?null:ee.decode64(n)};var Cl=a(function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=ee.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),Tl=a(function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(ee.decode64(r))),r},"_getStorageObject"),N1=a(function(t,e,r,n){var i=Tl(t,e);i===null&&(i={}),i[r]=n,Cl(t,e,i)},"_setItem"),R1=a(function(t,e,r){var n=Tl(t,e);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),B1=a(function(t,e,r){var n=Tl(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),Cl(t,e,n)}},"_removeItem"),k1=a(function(t,e){Cl(t,e,null)},"_clearItems"),ff=a(function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,o=null;for(var f in r){i=r[f];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),s=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),s=!0)}catch(l){o=l}if(s)break}if(!s)throw o;return n},"_callStorageFunction");ee.setItem=function(t,e,r,n,i){ff(N1,arguments,i)};ee.getItem=function(t,e,r,n){return ff(R1,arguments,n)};ee.removeItem=function(t,e,r,n){ff(B1,arguments,n)};ee.clearItems=function(t,e,r){ff(k1,arguments,r)};ee.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=r===null?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(n.port!==80&&n.scheme==="http"||n.port!==443&&n.scheme==="https")&&(n.fullHost+=":"+n.port):n.scheme==="http"?n.port=80:n.scheme==="https"&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var Ya=null;ee.getQueryVariables=function(t){var e=a(function(n){for(var i={},s=n.split("&"),o=0;o<s.length;o++){var f=s[o].indexOf("="),l,d;f>0?(l=s[o].substring(0,f),d=s[o].substring(f+1)):(l=s[o],d=null),l in i||(i[l]=[]),!(l in Object.prototype)&&d!==null&&i[l].push(unescape(d))}return i},"parse"),r;return typeof t>"u"?(Ya===null&&(typeof window<"u"&&window.location&&window.location.search?Ya=e(window.location.search.substring(1)):Ya={}),r=Ya):r=e(t),r};ee.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split("/");i.length>0&&i[0]===""&&i.shift();var s=r===""?{}:ee.getQueryVariables(r);return{pathString:e,queryString:r,path:i,query:s}};ee.makeRequest=function(t){var e=ee.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(n){return typeof n>"u"?e.path:e.path[n]},getQuery:function(n,i){var s;return typeof n>"u"?s=e.query:(s=e.query[n],s&&typeof i<"u"&&(s=s[i])),s},getQueryLast:function(n,i){var s,o=r.getQuery(n);return o?s=o[o.length-1]:s=i,s}};return r};ee.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")};ee.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};ee.format=function(t){for(var e=/%./g,r,n,i=0,s=[],o=0;r=e.exec(t);){n=t.substring(o,e.lastIndex-2),n.length>0&&s.push(n),o=e.lastIndex;var f=r[0][1];switch(f){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+f+"?>")}}return s.push(t.substring(o)),s.join("")};ee.formatNumber=function(t,e,r,n){var i=t,s=isNaN(e=Math.abs(e))?2:e,o=r===void 0?",":r,f=n===void 0?".":n,l=i<0?"-":"",d=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",p=d.length>3?d.length%3:0;return l+(p?d.substr(0,p)+f:"")+d.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+f)+(s?o+Math.abs(i-d).toFixed(s).slice(2):"")};ee.formatSize=function(t){return t>=1073741824?t=ee.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=ee.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=ee.formatNumber(t/1024,0)+" KiB":t=ee.formatNumber(t,0)+" bytes",t};ee.bytesFromIP=function(t){return t.indexOf(".")!==-1?ee.bytesFromIPv4(t):t.indexOf(":")!==-1?ee.bytesFromIPv6(t):null};ee.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=ee.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};ee.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(o){return o.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=ee.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=ee.hexToBytes(t[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};ee.bytesToIP=function(t){return t.length===4?ee.bytesToIPv4(t):t.length===16?ee.bytesToIPv6(t):null};ee.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};ee.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var s=ee.bytesToHex(t[i]+t[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var o=r[r.length-1],f=e.length;!o||f!==o.end+1?r.push({start:f,end:f}):(o.end=f,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(s)}if(r.length>0){var l=r[n];l.end-l.start>0&&(e.splice(l.start,l.end-l.start+1,""),l.start===0&&e.unshift(""),l.end===7&&e.push(""))}return e.join(":")};ee.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in ee&&!t.update)return e(null,ee.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return ee.cores=navigator.hardwareConcurrency,e(null,ee.cores);if(typeof Worker>"u")return ee.cores=1,e(null,ee.cores);if(typeof Blob>"u")return ee.cores=2,e(null,ee.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(o){var f=Date.now(),l=f+4;self.postMessage({st:f,et:l})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(o,f,l){if(f===0){var d=Math.floor(o.reduce(function(p,x){return p+x},0)/o.length);return ee.cores=Math.max(1,d),URL.revokeObjectURL(r),e(null,ee.cores)}i(l,function(p,x){o.push(s(l,x)),n(o,f-1,l)})}a(n,"sample");function i(o,f){for(var l=[],d=[],p=0;p<o;++p){var x=new Worker(r);x.addEventListener("message",function(T){if(d.push(T.data),d.length===o){for(var R=0;R<o;++R)l[R].terminate();f(null,d)}}),l.push(x)}for(var p=0;p<o;++p)l[p].postMessage(p)}a(i,"map");function s(o,f){for(var l=[],d=0;d<o;++d)for(var p=f[d],x=l[d]=[],T=0;T<o;++T)if(d!==T){var R=f[T];(p.st>R.st&&p.st<R.et||R.st>p.st&&R.st<p.et)&&x.push(T)}return l.reduce(function(N,O){return Math.max(N,O.length)},0)}a(s,"reduce")};var da=Rt;da.pki=da.pki||{};var Tu=da.pki.oids=da.oids=da.oids||{};function _e(t,e){Tu[t]=e,Tu[e]=t}a(_e,"_IN");function Bt(t,e){Tu[t]=e}a(Bt,"_I_");_e("1.2.840.113549.1.1.1","rsaEncryption");_e("1.2.840.113549.1.1.4","md5WithRSAEncryption");_e("1.2.840.113549.1.1.5","sha1WithRSAEncryption");_e("1.2.840.113549.1.1.7","RSAES-OAEP");_e("1.2.840.113549.1.1.8","mgf1");_e("1.2.840.113549.1.1.9","pSpecified");_e("1.2.840.113549.1.1.10","RSASSA-PSS");_e("1.2.840.113549.1.1.11","sha256WithRSAEncryption");_e("1.2.840.113549.1.1.12","sha384WithRSAEncryption");_e("1.2.840.113549.1.1.13","sha512WithRSAEncryption");_e("1.3.101.112","EdDSA25519");_e("1.2.840.10040.4.3","dsa-with-sha1");_e("1.3.14.3.2.7","desCBC");_e("1.3.14.3.2.26","sha1");_e("2.16.840.1.101.3.4.2.1","sha256");_e("2.16.840.1.101.3.4.2.2","sha384");_e("2.16.840.1.101.3.4.2.3","sha512");_e("1.2.840.113549.2.5","md5");_e("1.2.840.113549.1.7.1","data");_e("1.2.840.113549.1.7.2","signedData");_e("1.2.840.113549.1.7.3","envelopedData");_e("1.2.840.113549.1.7.4","signedAndEnvelopedData");_e("1.2.840.113549.1.7.5","digestedData");_e("1.2.840.113549.1.7.6","encryptedData");_e("1.2.840.113549.1.9.1","emailAddress");_e("1.2.840.113549.1.9.2","unstructuredName");_e("1.2.840.113549.1.9.3","contentType");_e("1.2.840.113549.1.9.4","messageDigest");_e("1.2.840.113549.1.9.5","signingTime");_e("1.2.840.113549.1.9.6","counterSignature");_e("1.2.840.113549.1.9.7","challengePassword");_e("1.2.840.113549.1.9.8","unstructuredAddress");_e("1.2.840.113549.1.9.14","extensionRequest");_e("1.2.840.113549.1.9.20","friendlyName");_e("1.2.840.113549.1.9.21","localKeyId");_e("1.2.840.113549.1.9.22.1","x509Certificate");_e("1.2.840.113549.1.12.10.1.1","keyBag");_e("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");_e("1.2.840.113549.1.12.10.1.3","certBag");_e("1.2.840.113549.1.12.10.1.4","crlBag");_e("1.2.840.113549.1.12.10.1.5","secretBag");_e("1.2.840.113549.1.12.10.1.6","safeContentsBag");_e("1.2.840.113549.1.5.13","pkcs5PBES2");_e("1.2.840.113549.1.5.12","pkcs5PBKDF2");_e("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");_e("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");_e("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");_e("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");_e("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");_e("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");_e("1.2.840.113549.2.7","hmacWithSHA1");_e("1.2.840.113549.2.8","hmacWithSHA224");_e("1.2.840.113549.2.9","hmacWithSHA256");_e("1.2.840.113549.2.10","hmacWithSHA384");_e("1.2.840.113549.2.11","hmacWithSHA512");_e("1.2.840.113549.3.7","des-EDE3-CBC");_e("2.16.840.1.101.3.4.1.2","aes128-CBC");_e("2.16.840.1.101.3.4.1.22","aes192-CBC");_e("2.16.840.1.101.3.4.1.42","aes256-CBC");_e("2.5.4.3","commonName");_e("2.5.4.5","serialName");_e("2.5.4.6","countryName");_e("2.5.4.7","localityName");_e("2.5.4.8","stateOrProvinceName");_e("2.5.4.9","streetAddress");_e("2.5.4.10","organizationName");_e("2.5.4.11","organizationalUnitName");_e("2.5.4.13","description");_e("2.5.4.15","businessCategory");_e("2.5.4.17","postalCode");_e("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");_e("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");_e("2.16.840.1.113730.1.1","nsCertType");_e("2.16.840.1.113730.1.13","nsComment");Bt("2.5.29.1","authorityKeyIdentifier");Bt("2.5.29.2","keyAttributes");Bt("2.5.29.3","certificatePolicies");Bt("2.5.29.4","keyUsageRestriction");Bt("2.5.29.5","policyMapping");Bt("2.5.29.6","subtreesConstraint");Bt("2.5.29.7","subjectAltName");Bt("2.5.29.8","issuerAltName");Bt("2.5.29.9","subjectDirectoryAttributes");Bt("2.5.29.10","basicConstraints");Bt("2.5.29.11","nameConstraints");Bt("2.5.29.12","policyConstraints");Bt("2.5.29.13","basicConstraints");_e("2.5.29.14","subjectKeyIdentifier");_e("2.5.29.15","keyUsage");Bt("2.5.29.16","privateKeyUsagePeriod");_e("2.5.29.17","subjectAltName");_e("2.5.29.18","issuerAltName");_e("2.5.29.19","basicConstraints");Bt("2.5.29.20","cRLNumber");Bt("2.5.29.21","cRLReason");Bt("2.5.29.22","expirationDate");Bt("2.5.29.23","instructionCode");Bt("2.5.29.24","invalidityDate");Bt("2.5.29.25","cRLDistributionPoints");Bt("2.5.29.26","issuingDistributionPoint");Bt("2.5.29.27","deltaCRLIndicator");Bt("2.5.29.28","issuingDistributionPoint");Bt("2.5.29.29","certificateIssuer");Bt("2.5.29.30","nameConstraints");_e("2.5.29.31","cRLDistributionPoints");_e("2.5.29.32","certificatePolicies");Bt("2.5.29.33","policyMappings");Bt("2.5.29.34","policyConstraints");_e("2.5.29.35","authorityKeyIdentifier");Bt("2.5.29.36","policyConstraints");_e("2.5.29.37","extKeyUsage");Bt("2.5.29.46","freshestCRL");Bt("2.5.29.54","inhibitAnyPolicy");_e("1.3.6.1.4.1.11129.2.4.2","timestampList");_e("1.3.6.1.5.5.7.1.1","authorityInfoAccess");_e("1.3.6.1.5.5.7.3.1","serverAuth");_e("1.3.6.1.5.5.7.3.2","clientAuth");_e("1.3.6.1.5.5.7.3.3","codeSigning");_e("1.3.6.1.5.5.7.3.4","emailProtection");_e("1.3.6.1.5.5.7.3.8","timeStamping");var Gt=Rt,Ne=Gt.asn1=Gt.asn1||{};Ne.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Ne.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Ne.create=function(t,e,r,n,i){if(Gt.util.isArray(n)){for(var s=[],o=0;o<n.length;++o)n[o]!==void 0&&s.push(n[o]);n=s}var f={tagClass:t,type:e,constructed:r,composed:r||Gt.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(f.bitStringContents=i.bitStringContents,f.original=Ne.copy(f)),f};Ne.copy=function(t,e){var r;if(Gt.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(Ne.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:Ne.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};Ne.equals=function(t,e,r){if(Gt.util.isArray(t)){if(!Gt.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Ne.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&Ne.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};Ne.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function fa(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}a(fa,"_checkBufferLength");var P1=a(function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;fa(t,e,s),n=t.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");Ne.fromDer=function(t,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=Gt.util.createBuffer(t)),ho(t,t.length(),0,e)};function ho(t,e,r,n){var i;fa(t,e,2);var s=t.getByte();e--;var o=s&192,f=s&31;i=t.length();var l=P1(t,e);if(e-=i-t.length(),l!==void 0&&l>e){if(n.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=t.length(),d.remaining=e,d.requested=l,d}l=e}var p,x,T=(s&32)===32;if(T)if(p=[],l===void 0)for(;;){if(fa(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),p.push(ho(t,e,r+1,n)),e-=i-t.length()}else for(;l>0;)i=t.length(),p.push(ho(t,l,r+1,n)),e-=i-t.length(),l-=i-t.length();if(p===void 0&&o===Ne.Class.UNIVERSAL&&f===Ne.Type.BITSTRING&&(x=t.bytes(l)),p===void 0&&n.decodeBitStrings&&o===Ne.Class.UNIVERSAL&&f===Ne.Type.BITSTRING&&l>1){var R=t.read,N=e,O=0;if(f===Ne.Type.BITSTRING&&(fa(t,e,1),O=t.getByte(),e--),O===0)try{i=t.length();var B={verbose:n.verbose,strict:!0,decodeBitStrings:!0},k=ho(t,e,r+1,B),L=i-t.length();e-=L,f==Ne.Type.BITSTRING&&L++;var D=k.tagClass;L===l&&(D===Ne.Class.UNIVERSAL||D===Ne.Class.CONTEXT_SPECIFIC)&&(p=[k])}catch{}p===void 0&&(t.read=R,e=N)}if(p===void 0){if(l===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");l=e}if(f===Ne.Type.BMPSTRING)for(p="";l>0;l-=2)fa(t,e,2),p+=String.fromCharCode(t.getInt16()),e-=2;else p=t.getBytes(l)}var H=x===void 0?null:{bitStringContents:x};return Ne.create(o,f,T,p,H)}a(ho,"_fromDer");Ne.toDer=function(t){var e=Gt.util.createBuffer(),r=t.tagClass|t.type,n=Gt.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=Ne.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&n.putBuffer(Ne.toDer(t.value[s]))}else if(t.type===Ne.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)n.putInt16(t.value.charCodeAt(s));else t.type===Ne.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)===0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var o=n.length(),f="";do f+=String.fromCharCode(o&255),o=o>>>8;while(o>0);e.putByte(f.length|128);for(var s=f.length-1;s>=0;--s)e.putByte(f.charCodeAt(s))}return e.putBuffer(n),e};Ne.oidToDer=function(t){var e=t.split("."),r=Gt.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,s,o,f=2;f<e.length;++f){n=!0,i=[],s=parseInt(e[f],10);do o=s&127,s=s>>>7,n||(o|=128),i.push(o),n=!1;while(s>0);for(var l=i.length-1;l>=0;--l)r.putByte(i[l])}return r};Ne.derToOid=function(t){var e;typeof t=="string"&&(t=Gt.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};Ne.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),f=0;if(t.length>11){var l=t.charAt(10),d=10;l!=="+"&&l!=="-"&&(f=parseInt(t.substr(10,2),10),d+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,f,0),d&&(l=t.charAt(d),l==="+"||l==="-")){var p=parseInt(t.substr(d+1,2),10),x=parseInt(t.substr(d+4,2),10),T=p*60+x;T*=6e4,l==="+"?e.setTime(+e-T):e.setTime(+e+T)}return e};Ne.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),f=parseInt(t.substr(12,2),10),l=0,d=0,p=!1;t.charAt(t.length-1)==="Z"&&(p=!0);var x=t.length-5,T=t.charAt(x);if(T==="+"||T==="-"){var R=parseInt(t.substr(x+1,2),10),N=parseInt(t.substr(x+4,2),10);d=R*60+N,d*=6e4,T==="+"&&(d*=-1),p=!0}return t.charAt(14)==="."&&(l=parseFloat(t.substr(14),10)*1e3),p?(e.setUTCFullYear(r,n,i),e.setUTCHours(s,o,f,l),e.setTime(+e+d)):(e.setFullYear(r,n,i),e.setHours(s,o,f,l)),e};Ne.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};Ne.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};Ne.integerToDer=function(t){var e=Gt.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};Ne.derToInteger=function(t){typeof t=="string"&&(t=Gt.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};Ne.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&Gt.util.isArray(e.value))for(var s=0,o=0;i&&o<e.value.length;++o)i=e.value[o].optional||!1,t.value[s]&&(i=Ne.validate(t.value[s],e.value[o],r,n),i?++s:e.value[o].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t))if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var Y0=/[^\\u0000-\\u00ff]/;Ne.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",s=0;s<e*r;++s)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case Ne.Class.UNIVERSAL:n+="Universal:";break;case Ne.Class.APPLICATION:n+="Application:";break;case Ne.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Ne.Class.PRIVATE:n+="Private:";break}if(t.tagClass===Ne.Class.UNIVERSAL)switch(n+=t.type,t.type){case Ne.Type.NONE:n+=" (None)";break;case Ne.Type.BOOLEAN:n+=" (Boolean)";break;case Ne.Type.INTEGER:n+=" (Integer)";break;case Ne.Type.BITSTRING:n+=" (Bit string)";break;case Ne.Type.OCTETSTRING:n+=" (Octet string)";break;case Ne.Type.NULL:n+=" (Null)";break;case Ne.Type.OID:n+=" (Object Identifier)";break;case Ne.Type.ODESC:n+=" (Object Descriptor)";break;case Ne.Type.EXTERNAL:n+=" (External or Instance of)";break;case Ne.Type.REAL:n+=" (Real)";break;case Ne.Type.ENUMERATED:n+=" (Enumerated)";break;case Ne.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Ne.Type.UTF8:n+=" (UTF8)";break;case Ne.Type.ROID:n+=" (Relative Object Identifier)";break;case Ne.Type.SEQUENCE:n+=" (Sequence)";break;case Ne.Type.SET:n+=" (Set)";break;case Ne.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Ne.Type.IA5String:n+=" (IA5String (ASCII))";break;case Ne.Type.UTCTIME:n+=" (UTC time)";break;case Ne.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Ne.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var o=0,f="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(o+=1,f+=Ne.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(f+=","));n+=i+"Sub values: "+o+f}else{if(n+=i+"Value: ",t.type===Ne.Type.OID){var l=Ne.derToOid(t.value);n+=l,Gt.pki&&Gt.pki.oids&&l in Gt.pki.oids&&(n+=" ("+Gt.pki.oids[l]+") ")}if(t.type===Ne.Type.INTEGER)try{n+=Ne.derToInteger(t.value)}catch{n+="0x"+Gt.util.bytesToHex(t.value)}else if(t.type===Ne.Type.BITSTRING){if(t.value.length>1?n+="0x"+Gt.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var d=t.value.charCodeAt(0);d==1?n+=" (1 unused bit shown)":d>1&&(n+=" ("+d+" unused bits shown)")}}else t.type===Ne.Type.OCTETSTRING?(Y0.test(t.value)||(n+="("+t.value+") "),n+="0x"+Gt.util.bytesToHex(t.value)):t.type===Ne.Type.UTF8?n+=Gt.util.decodeUtf8(t.value):t.type===Ne.Type.PRINTABLESTRING||t.type===Ne.Type.IA5String?n+=t.value:Y0.test(t.value)?n+="0x"+Gt.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n};var dr=Rt;dr.cipher=dr.cipher||{};dr.cipher.algorithms=dr.cipher.algorithms||{};dr.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=dr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new dr.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};dr.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=dr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new dr.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};dr.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),dr.cipher.algorithms[t]=e};dr.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in dr.cipher.algorithms?dr.cipher.algorithms[t]:null};var Il=dr.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};Il.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=dr.util.createBuffer(),this.output=t.output||dr.util.createBuffer(),this.mode.start(e)};Il.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Il.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))};var cr=Rt;cr.cipher=cr.cipher||{};var Et=cr.cipher.modes=cr.cipher.modes||{};Et.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Et.ecb.prototype.start=function(t){};Et.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Et.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Et.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Et.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Et.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Et.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=uf(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Et.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};Et.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Et.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Et.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Et.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=cr.util.createBuffer(),this._partialBytes=0};Et.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=uf(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Et.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Et.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Et.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=cr.util.createBuffer(),this._partialBytes=0};Et.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=uf(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Et.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Et.ofb.prototype.decrypt=Et.ofb.prototype.encrypt;Et.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=cr.util.createBuffer(),this._partialBytes=0};Et.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=uf(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Et.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}lf(this._inBlock)};Et.ctr.prototype.decrypt=Et.ctr.prototype.encrypt;Et.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=cr.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Et.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=cr.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=cr.util.createBuffer(t.additionalData):r=cr.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=cr.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Iu(n*8)))}this._inBlock=this._j0.slice(0),lf(this._inBlock),this._partialBytes=0,r=cr.util.createBuffer(r),this._aDataLength=Iu(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Et.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),lf(this._inBlock)};Et.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),lf(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Et.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=cr.util.createBuffer();var n=this._aDataLength.concat(Iu(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Et.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var s=t[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Et.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};Et.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,s=this._m[r][i];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};Et.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};Et.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var f=[0,0,0,0],l=o/n|0,d=(n-1-o%n)*e;f[l]=1<<e-1<<d,s[o]=this.generateSubHashTable(this.multiply(f,t),e)}return s};Et.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var f=i[s],l=i[o];i[s+o]=[f[0]^l[0],f[1]^l[1],f[2]^l[2],f[3]^l[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var d=i[s^n];i[s]=[t[0]^d[0],t[1]^d[1],t[2]^d[2],t[3]^d[3]]}return i};function uf(t,e){if(typeof t=="string"&&(t=cr.util.createBuffer(t)),cr.util.isArray(t)&&t.length>4){var r=t;t=cr.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!cr.util.isArray(t)){for(var i=[],s=e/4,n=0;n<s;++n)i.push(t.getInt32());t=i}return t}a(uf,"transformIV");function lf(t){t[t.length-1]=t[t.length-1]+1&4294967295}a(lf,"inc32");function Iu(t){return[t/4294967296|0,t&4294967295]}a(Iu,"from64To32");var Dt=Rt;Dt.aes=Dt.aes||{};Dt.aes.startEncrypting=function(t,e,r,n){var i=hf({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};Dt.aes.createEncryptionCipher=function(t,e){return hf({key:t,output:null,decrypt:!1,mode:e})};Dt.aes.startDecrypting=function(t,e,r,n){var i=hf({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};Dt.aes.createDecryptionCipher=function(t,e){return hf({key:t,output:null,decrypt:!0,mode:e})};Dt.aes.Algorithm=function(t,e){Ml||Od();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return Nu(r._w,n,i,!1)},decrypt:function(n,i){return Nu(r._w,n,i,!0)}}}),r._init=!1};Dt.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Dt.util.createBuffer(e);else if(Dt.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Dt.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!Dt.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!Dt.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=Ld(e,t.decrypt&&!o),this._init=!0}};Dt.aes._expandKey=function(t,e){return Ml||Od(),Ld(t,e)};Dt.aes._updateBlock=Nu;Ps("AES-ECB",Dt.cipher.modes.ecb);Ps("AES-CBC",Dt.cipher.modes.cbc);Ps("AES-CFB",Dt.cipher.modes.cfb);Ps("AES-OFB",Dt.cipher.modes.ofb);Ps("AES-CTR",Dt.cipher.modes.ctr);Ps("AES-GCM",Dt.cipher.modes.gcm);function Ps(t,e){var r=a(function(){return new Dt.aes.Algorithm(t,e)},"factory");Dt.cipher.registerAlgorithm(t,r)}a(Ps,"registerAlgorithm$1");var Ml=!1,Ji=4,Nr,Mu,Pd,Li,gn;function Od(){Ml=!0,Pd=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Nr=new Array(256),Mu=new Array(256),Li=new Array(4),gn=new Array(4);for(var e=0;e<4;++e)Li[e]=new Array(256),gn[e]=new Array(256);for(var r=0,n=0,i,s,o,f,l,d,p,e=0;e<256;++e){f=n^n<<1^n<<2^n<<3^n<<4,f=f>>8^f&255^99,Nr[r]=f,Mu[f]=r,l=t[f],i=t[r],s=t[i],o=t[s],d=l<<24^f<<16^f<<8^(f^l),p=(i^s^o)<<24^(r^o)<<16^(r^s^o)<<8^(r^i^o);for(var x=0;x<4;++x)Li[x][r]=d,gn[x][f]=p,d=d<<24|d>>>8,p=p<<24|p>>>8;r===0?r=n=1:(r=i^t[t[t[i^o]]],n^=t[t[n]])}}a(Od,"initialize");function Ld(t,e){for(var r=t.slice(0),n,i=1,s=r.length,o=s+6+1,f=Ji*o,l=s;l<f;++l)n=r[l-1],l%s===0?(n=Nr[n>>>16&255]<<24^Nr[n>>>8&255]<<16^Nr[n&255]<<8^Nr[n>>>24]^Pd[i]<<24,i++):s>6&&l%s===4&&(n=Nr[n>>>24]<<24^Nr[n>>>16&255]<<16^Nr[n>>>8&255]<<8^Nr[n&255]),r[l]=r[l-s]^n;if(e){var d,p=gn[0],x=gn[1],T=gn[2],R=gn[3],N=r.slice(0);f=r.length;for(var l=0,O=f-Ji;l<f;l+=Ji,O-=Ji)if(l===0||l===f-Ji)N[l]=r[O],N[l+1]=r[O+3],N[l+2]=r[O+2],N[l+3]=r[O+1];else for(var B=0;B<Ji;++B)d=r[O+B],N[l+(3&-B)]=p[Nr[d>>>24]]^x[Nr[d>>>16&255]]^T[Nr[d>>>8&255]]^R[Nr[d&255]];r=N}return r}a(Ld,"_expandKey");function Nu(t,e,r,n){var i=t.length/4-1,s,o,f,l,d;n?(s=gn[0],o=gn[1],f=gn[2],l=gn[3],d=Mu):(s=Li[0],o=Li[1],f=Li[2],l=Li[3],d=Nr);var p,x,T,R,N,O,B;p=e[0]^t[0],x=e[n?3:1]^t[1],T=e[2]^t[2],R=e[n?1:3]^t[3];for(var k=3,L=1;L<i;++L)N=s[p>>>24]^o[x>>>16&255]^f[T>>>8&255]^l[R&255]^t[++k],O=s[x>>>24]^o[T>>>16&255]^f[R>>>8&255]^l[p&255]^t[++k],B=s[T>>>24]^o[R>>>16&255]^f[p>>>8&255]^l[x&255]^t[++k],R=s[R>>>24]^o[p>>>16&255]^f[x>>>8&255]^l[T&255]^t[++k],p=N,x=O,T=B;r[0]=d[p>>>24]<<24^d[x>>>16&255]<<16^d[T>>>8&255]<<8^d[R&255]^t[++k],r[n?3:1]=d[x>>>24]<<24^d[T>>>16&255]<<16^d[R>>>8&255]<<8^d[p&255]^t[++k],r[2]=d[T>>>24]<<24^d[R>>>16&255]<<16^d[p>>>8&255]<<8^d[x&255]^t[++k],r[n?1:3]=d[R>>>24]<<24^d[p>>>16&255]<<16^d[x>>>8&255]<<8^d[T&255]^t[++k]}a(Nu,"_updateBlock$1");function hf(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=Dt.cipher.createDecipher(r,t.key):n=Dt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,o){var f=null;o instanceof Dt.util.ByteBuffer&&(f=o,o={}),o=o||{},o.output=f,o.iv=s,i.call(n,o)},n}a(hf,"_createCipher$1");var jt=Rt;jt.des=jt.des||{};jt.des.startEncrypting=function(t,e,r,n){var i=cf({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};jt.des.createEncryptionCipher=function(t,e){return cf({key:t,output:null,decrypt:!1,mode:e})};jt.des.startDecrypting=function(t,e,r,n){var i=cf({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};jt.des.createDecryptionCipher=function(t,e){return cf({key:t,output:null,decrypt:!0,mode:e})};jt.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return J0(r._keys,n,i,!1)},decrypt:function(n,i){return J0(r._keys,n,i,!0)}}}),r._init=!1};jt.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=jt.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=H1(e),this._init=!0}};Vn("DES-ECB",jt.cipher.modes.ecb);Vn("DES-CBC",jt.cipher.modes.cbc);Vn("DES-CFB",jt.cipher.modes.cfb);Vn("DES-OFB",jt.cipher.modes.ofb);Vn("DES-CTR",jt.cipher.modes.ctr);Vn("3DES-ECB",jt.cipher.modes.ecb);Vn("3DES-CBC",jt.cipher.modes.cbc);Vn("3DES-CFB",jt.cipher.modes.cfb);Vn("3DES-OFB",jt.cipher.modes.ofb);Vn("3DES-CTR",jt.cipher.modes.ctr);function Vn(t,e){var r=a(function(){return new jt.des.Algorithm(t,e)},"factory");jt.cipher.registerAlgorithm(t,r)}a(Vn,"registerAlgorithm");var O1=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],L1=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],U1=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],D1=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],F1=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],q1=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],V1=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],K1=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function H1(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],f=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],d=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],p=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],x=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],T=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],R=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],N=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],O=t.length()>8?3:1,B=[],k=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],L=0,D,H=0;H<O;H++){var K=t.getInt32(),j=t.getInt32();D=(K>>>4^j)&252645135,j^=D,K^=D<<4,D=(j>>>-16^K)&65535,K^=D,j^=D<<-16,D=(K>>>2^j)&858993459,j^=D,K^=D<<2,D=(j>>>-16^K)&65535,K^=D,j^=D<<-16,D=(K>>>1^j)&1431655765,j^=D,K^=D<<1,D=(j>>>8^K)&16711935,K^=D,j^=D<<8,D=(K>>>1^j)&1431655765,j^=D,K^=D<<1,D=K<<8|j>>>20&240,K=j<<24|j<<8&16711680|j>>>8&65280|j>>>24&240,j=D;for(var ie=0;ie<k.length;++ie){k[ie]?(K=K<<2|K>>>26,j=j<<2|j>>>26):(K=K<<1|K>>>27,j=j<<1|j>>>27),K&=-15,j&=-15;var J=e[K>>>28]|r[K>>>24&15]|n[K>>>20&15]|i[K>>>16&15]|s[K>>>12&15]|o[K>>>8&15]|f[K>>>4&15],ue=l[j>>>28]|d[j>>>24&15]|p[j>>>20&15]|x[j>>>16&15]|T[j>>>12&15]|R[j>>>8&15]|N[j>>>4&15];D=(ue>>>16^J)&65535,B[L++]=J^D,B[L++]=ue^D<<16}}return B}a(H1,"_createKeys");function J0(t,e,r,n){var i=t.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,f=e[0],l=e[1];o=(f>>>4^l)&252645135,l^=o,f^=o<<4,o=(f>>>16^l)&65535,l^=o,f^=o<<16,o=(l>>>2^f)&858993459,f^=o,l^=o<<2,o=(l>>>8^f)&16711935,f^=o,l^=o<<8,o=(f>>>1^l)&1431655765,l^=o,f^=o<<1,f=f<<1|f>>>31,l=l<<1|l>>>31;for(var d=0;d<i;d+=3){for(var p=s[d+1],x=s[d+2],T=s[d];T!=p;T+=x){var R=l^t[T],N=(l>>>4|l<<28)^t[T+1];o=f,f=l,l=o^(L1[R>>>24&63]|D1[R>>>16&63]|q1[R>>>8&63]|K1[R&63]|O1[N>>>24&63]|U1[N>>>16&63]|F1[N>>>8&63]|V1[N&63])}o=f,f=l,l=o}f=f>>>1|f<<31,l=l>>>1|l<<31,o=(f>>>1^l)&1431655765,l^=o,f^=o<<1,o=(l>>>8^f)&16711935,f^=o,l^=o<<8,o=(l>>>2^f)&858993459,f^=o,l^=o<<2,o=(f>>>16^l)&65535,l^=o,f^=o<<16,o=(f>>>4^l)&252645135,l^=o,f^=o<<4,r[0]=f,r[1]=l}a(J0,"_updateBlock");function cf(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=jt.cipher.createDecipher(r,t.key):n=jt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,o){var f=null;o instanceof jt.util.ByteBuffer&&(f=o,o={}),o=o||{},o.output=f,o.iv=s,i.call(n,o)},n}a(cf,"_createCipher");var Co=Rt,G1=Co.md=Co.md||{};Co.md.algorithms=Co.md.algorithms||{};var Qn=Rt,j1=Qn.hmac=Qn.hmac||{};j1.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(s,o){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in Qn.md.algorithms)e=Qn.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(o===null)o=t;else{if(typeof o=="string")o=Qn.util.createBuffer(o);else if(Qn.util.isArray(o)){var f=o;o=Qn.util.createBuffer();for(var l=0;l<f.length;++l)o.putByte(f[l])}var d=o.length();d>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),r=Qn.util.createBuffer(),n=Qn.util.createBuffer(),d=o.length();for(var l=0;l<d;++l){var f=o.at(l);r.putByte(54^f),n.putByte(92^f)}if(d<e.blockLength)for(var f=e.blockLength-d,l=0;l<f;++l)r.putByte(54),n.putByte(92);t=o,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(s){e.update(s)},i.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(n),e.update(s),e.digest()},i.digest=i.getMac,i};var Rr=Rt,z1=Rr.pkcs5=Rr.pkcs5||{},Wn;Rr.util.isNodejs&&!Rr.options.usePureJavaScript&&(Wn=Gr);Rr.pbkdf2=z1.pbkdf2=function(t,e,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),Rr.util.isNodejs&&!Rr.options.usePureJavaScript&&Wn.pbkdf2&&(i===null||typeof i!="object")&&(Wn.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?Wn.pbkdf2Sync.length===4?Wn.pbkdf2(t,e,r,n,function(D,H){if(D)return s(D);s(null,H.toString("binary"))}):Wn.pbkdf2(t,e,r,n,i,function(D,H){if(D)return s(D);s(null,H.toString("binary"))}):Wn.pbkdf2Sync.length===4?Wn.pbkdf2Sync(t,e,r,n).toString("binary"):Wn.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Rr.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Rr.md[i].create()}var o=i.digestLength;if(n>4294967295*o){var f=new Error("Derived key is too long.");if(s)return s(f);throw f}var l=Math.ceil(n/o),d=n-(l-1)*o,p=Rr.hmac.create();p.start(i,t);var x="",T,R,N;if(!s){for(var O=1;O<=l;++O){p.start(null,null),p.update(e),p.update(Rr.util.int32ToBytes(O)),T=N=p.digest().getBytes();for(var B=2;B<=r;++B)p.start(null,null),p.update(N),R=p.digest().getBytes(),T=Rr.util.xorBytes(T,R,o),N=R;x+=O<l?T:T.substr(0,d)}return x}var O=1,B;function k(){if(O>l)return s(null,x);p.start(null,null),p.update(e),p.update(Rr.util.int32ToBytes(O)),T=N=p.digest().getBytes(),B=2,L()}a(k,"outer");function L(){if(B<=r)return p.start(null,null),p.update(N),R=p.digest().getBytes(),T=Rr.util.xorBytes(T,R,o),N=R,++B,Rr.util.setImmediate(L);x+=O<l?T:T.substr(0,d),++O,k()}a(L,"inner"),k()};var To=Rt,Ud=To.pem=To.pem||{};Ud.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=Ja(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=Ja(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=Ja(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=Ja(t.headers[i]);return t.procType&&(r+=`\r
`),r+=To.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};Ud.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(t),!!s;){var o={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:To.util.decode64(s[3])};if(e.push(o),!!s[2]){for(var f=s[2].split(i),l=0;s&&l<f.length;){for(var d=f[l].replace(/\s+$/,""),p=l+1;p<f.length;++p){var x=f[p];if(!/\s/.test(x[0]))break;d+=x,l=p}if(s=d.match(n),s){for(var T={name:s[1],values:[]},R=s[2].split(","),N=0;N<R.length;++N)T.values.push($1(R[N]));if(o.procType)if(!o.contentDomain&&T.name==="Content-Domain")o.contentDomain=R[0]||"";else if(!o.dekInfo&&T.name==="DEK-Info"){if(T.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:R[0],parameters:R[1]||null}}else o.headers.push(T);else{if(T.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(T.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:R[0],type:R[1]}}}++l}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function Ja(t){for(var e=t.name+": ",r=[],n=a(function(l,d){return" "+d},"insertSpace"),i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var s=0,o=-1,i=0;i<e.length;++i,++s)if(s>65&&o!==-1){var f=e[o];f===","?(++o,e=e.substr(0,o)+`\r
 `+e.substr(o)):e=e.substr(0,o)+`\r
`+f+e.substr(o+1),s=i-o-1,o=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(o=i);return e}a(Ja,"foldHeader");function $1(t){return t.replace(/^\s+/,"")}a($1,"ltrim");var Cn=Rt,Dd=Cn.sha256=Cn.sha256||{};Cn.md.sha256=Cn.md.algorithms.sha256=Dd;Dd.create=function(){Fd||W1();var t=null,e=Cn.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=Cn.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Cn.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=o[1],o[1]=o[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),X0(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Cn.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(Ru.substr(0,n.blockLength-o));for(var f,l,d=n.fullMessageLength[0]*8,p=0;p<n.fullMessageLength.length-1;++p)f=n.fullMessageLength[p+1]*8,l=f/4294967296>>>0,d+=l,i.putInt32(d>>>0),d=f>>>0;i.putInt32(d);var x={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};X0(x,r,i);var T=Cn.util.createBuffer();return T.putInt32(x.h0),T.putInt32(x.h1),T.putInt32(x.h2),T.putInt32(x.h3),T.putInt32(x.h4),T.putInt32(x.h5),T.putInt32(x.h6),T.putInt32(x.h7),T},n};var Ru=null,Fd=!1,qd=null;function W1(){Ru=String.fromCharCode(128),Ru+=Cn.util.fillString(String.fromCharCode(0),64),qd=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Fd=!0}a(W1,"_init$2");function X0(t,e,r){for(var n,i,s,o,f,l,d,p,x,T,R,N,O,B,k,L=r.length();L>=64;){for(d=0;d<16;++d)e[d]=r.getInt32();for(;d<64;++d)n=e[d-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[d-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[d]=n+e[d-7]+i+e[d-16]|0;for(p=t.h0,x=t.h1,T=t.h2,R=t.h3,N=t.h4,O=t.h5,B=t.h6,k=t.h7,d=0;d<64;++d)o=(N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7),f=B^N&(O^B),s=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),l=p&x|T&(p^x),n=k+o+f+qd[d]+e[d],i=s+l,k=B,B=O,O=N,N=R+n>>>0,R=T,T=x,x=p,p=n+i>>>0;t.h0=t.h0+p|0,t.h1=t.h1+x|0,t.h2=t.h2+T|0,t.h3=t.h3+R|0,t.h4=t.h4+N|0,t.h5=t.h5+O|0,t.h6=t.h6+B|0,t.h7=t.h7+k|0,L-=64}}a(X0,"_update$2");var _n=Rt,co=null;_n.util.isNodejs&&!_n.options.usePureJavaScript&&!process.versions["node-webkit"]&&(co=Gr);var Q1=_n.prng=_n.prng||{};Q1.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(d,p){if(!p)return e.generateSync(d);var x=e.plugin.cipher,T=e.plugin.increment,R=e.plugin.formatKey,N=e.plugin.formatSeed,O=_n.util.createBuffer();e.key=null,B();function B(k){if(k)return p(k);if(O.length()>=d)return p(null,O.getBytes(d));if(e.generated>1048575&&(e.key=null),e.key===null)return _n.util.nextTick(function(){s(B)});var L=x(e.key,e.seed);e.generated+=L.length,O.putBytes(L),e.key=R(x(e.key,T(e.seed))),e.seed=N(x(e.key,e.seed)),_n.util.setImmediate(B)}a(B,"generate")},e.generateSync=function(d){var p=e.plugin.cipher,x=e.plugin.increment,T=e.plugin.formatKey,R=e.plugin.formatSeed;e.key=null;for(var N=_n.util.createBuffer();N.length()<d;){e.generated>1048575&&(e.key=null),e.key===null&&o();var O=p(e.key,e.seed);e.generated+=O.length,N.putBytes(O),e.key=T(p(e.key,x(e.seed))),e.seed=R(p(e.key,e.seed))}return N.getBytes(d)};function s(d){if(e.pools[0].messageLength>=32)return f(),d();var p=32-e.pools[0].messageLength<<5;e.seedFile(p,function(x,T){if(x)return d(x);e.collect(T),f(),d()})}a(s,"_reseed");function o(){if(e.pools[0].messageLength>=32)return f();var d=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(d)),f()}a(o,"_reseedSync");function f(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var d=e.plugin.md.create();d.update(e.keyBytes);for(var p=1,x=0;x<32;++x)e.reseeds%p===0&&(d.update(e.pools[x].digest().getBytes()),e.pools[x].start()),p=p<<1;e.keyBytes=d.digest().getBytes(),d.start(),d.update(e.keyBytes);var T=d.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(T),e.generated=0}a(f,"_seed");function l(d){var p=null,x=_n.util.globalScope,T=x.crypto||x.msCrypto;T&&T.getRandomValues&&(p=a(function(K){return T.getRandomValues(K)},"getRandomValues"));var R=_n.util.createBuffer();if(p)for(;R.length()<d;){var N=Math.max(1,Math.min(d-R.length(),65536)/4),O=new Uint32Array(Math.floor(N));try{p(O);for(var B=0;B<O.length;++B)R.putInt32(O[B])}catch(K){if(!(typeof QuotaExceededError<"u"&&K instanceof QuotaExceededError))throw K}}if(R.length()<d)for(var k,L,D,H=Math.floor(Math.random()*65536);R.length()<d;){L=16807*(H&65535),k=16807*(H>>16),L+=(k&32767)<<16,L+=k>>15,L=(L&2147483647)+(L>>31),H=L&4294967295;for(var B=0;B<3;++B)D=H>>>(B<<3),D^=Math.floor(Math.random()*256),R.putByte(String.fromCharCode(D&255))}return R.getBytes(d)}return a(l,"defaultSeedFile"),co?(e.seedFile=function(d,p){co.randomBytes(d,function(x,T){if(x)return p(x);p(null,T.toString())})},e.seedFileSync=function(d){return co.randomBytes(d).toString()}):(e.seedFile=function(d,p){try{p(null,l(d))}catch(x){p(x)}},e.seedFileSync=l),e.collect=function(d){for(var p=d.length,x=0;x<p;++x)e.pools[e.pool].update(d.substr(x,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(d,p){for(var x="",T=0;T<p;T+=8)x+=String.fromCharCode(d>>T&255);e.collect(x)},e.registerWorker=function(d){if(d===self)e.seedFile=function(x,T){function R(N){var O=N.data;O.forge&&O.forge.prng&&(self.removeEventListener("message",R),T(O.forge.prng.err,O.forge.prng.bytes))}a(R,"listener"),self.addEventListener("message",R),self.postMessage({forge:{prng:{needed:x}}})};else{var p=a(function(x){var T=x.data;T.forge&&T.forge.prng&&e.seedFile(T.forge.prng.needed,function(R,N){d.postMessage({forge:{prng:{err:R,bytes:N}}})})},"listener");d.addEventListener("message",p)}},e};var Mr=Rt;(function(){Mr.random&&Mr.random.getBytes||function(t){var e={},r=new Array(4),n=Mr.util.createBuffer();e.formatKey=function(x){var T=Mr.util.createBuffer(x);return x=new Array(4),x[0]=T.getInt32(),x[1]=T.getInt32(),x[2]=T.getInt32(),x[3]=T.getInt32(),Mr.aes._expandKey(x,!1)},e.formatSeed=function(x){var T=Mr.util.createBuffer(x);return x=new Array(4),x[0]=T.getInt32(),x[1]=T.getInt32(),x[2]=T.getInt32(),x[3]=T.getInt32(),x},e.cipher=function(x,T){return Mr.aes._updateBlock(x,T,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(x){return++x[3],x},e.md=Mr.md.sha256;function i(){var x=Mr.prng.create(e);return x.getBytes=function(T,R){return x.generate(T,R)},x.getBytesSync=function(T){return x.generate(T)},x}a(i,"spawnPrng");var s=i(),o=null,f=Mr.util.globalScope,l=f.crypto||f.msCrypto;if(l&&l.getRandomValues&&(o=a(function(x){return l.getRandomValues(x)},"getRandomValues")),!Mr.util.isNodejs&&!o){if(s.collectInt(+new Date,32),typeof navigator<"u"){var d="";for(var p in navigator)try{typeof navigator[p]=="string"&&(d+=navigator[p])}catch{}s.collect(d),d=null}t&&(t().mousemove(function(x){s.collectInt(x.clientX,16),s.collectInt(x.clientY,16)}),t().keypress(function(x){s.collectInt(x.charCode,8)}))}if(!Mr.random)Mr.random=s;else for(var p in s)Mr.random[p]=s[p];Mr.random.createInstance=i}(typeof jQuery<"u"?jQuery:null)})();var Ur=Rt,zf=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Z0=[1,2,3,5],Y1=a(function(t,e){return t<<e&65535|(t&65535)>>16-e},"rol"),J1=a(function(t,e){return(t&65535)>>e|t<<16-e&65535},"ror");Ur.rc2=Ur.rc2||{};Ur.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Ur.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,s=Math.ceil(i/8),o=255>>(i&7),f;for(f=n;f<128;f++)r.putByte(zf[r.at(f-1)+r.at(f-n)&255]);for(r.setAt(128-s,zf[r.at(128-s)&o]),f=127-s;f>=0;f--)r.setAt(f,zf[r.at(f+1)^r.at(f+s)]);return r};var Vd=a(function(t,e,r){var n=!1,i=null,s=null,o=null,f,l,d,p,x=[];for(t=Ur.rc2.expandKey(t,e),d=0;d<64;d++)x.push(t.getInt16Le());r?(f=a(function(N){for(d=0;d<4;d++)N[d]+=x[p]+(N[(d+3)%4]&N[(d+2)%4])+(~N[(d+3)%4]&N[(d+1)%4]),N[d]=Y1(N[d],Z0[d]),p++},"mixRound"),l=a(function(N){for(d=0;d<4;d++)N[d]+=x[N[(d+3)%4]&63]},"mashRound")):(f=a(function(N){for(d=3;d>=0;d--)N[d]=J1(N[d],Z0[d]),N[d]-=x[p]+(N[(d+3)%4]&N[(d+2)%4])+(~N[(d+3)%4]&N[(d+1)%4]),p--},"mixRound"),l=a(function(N){for(d=3;d>=0;d--)N[d]-=x[N[(d+3)%4]&63]},"mashRound"));var T=a(function(N){var O=[];for(d=0;d<4;d++){var B=i.getInt16Le();o!==null&&(r?B^=o.getInt16Le():o.putInt16Le(B)),O.push(B&65535)}p=r?0:63;for(var k=0;k<N.length;k++)for(var L=0;L<N[k][0];L++)N[k][1](O);for(d=0;d<4;d++)o!==null&&(r?o.putInt16Le(O[d]):O[d]^=o.getInt16Le()),s.putInt16Le(O[d])},"runPlan"),R=null;return R={start:function(N,O){N&&typeof N=="string"&&(N=Ur.util.createBuffer(N)),n=!1,i=Ur.util.createBuffer(),s=O||new Ur.util.createBuffer,o=N,R.output=s},update:function(N){for(n||i.putBuffer(N);i.length()>=8;)T([[5,f],[1,l],[6,f],[1,l],[5,f]])},finish:function(N){var O=!0;if(r)if(N)O=N(8,i,!r);else{var B=i.length()===8?8:8-i.length();i.fillWithByte(B,B)}if(O&&(n=!0,R.update()),!r&&(O=i.length()===0,O))if(N)O=N(8,s,!r);else{var k=s.length(),L=s.at(k-1);L>k?O=!1:s.truncate(L)}return O}},R},"createCipher");Ur.rc2.startEncrypting=function(t,e,r){var n=Ur.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Ur.rc2.createEncryptionCipher=function(t,e){return Vd(t,e,!0)};Ur.rc2.startDecrypting=function(t,e,r){var n=Ur.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Ur.rc2.createDecryptionCipher=function(t,e){return Vd(t,e,!1)};var Bu=Rt;Bu.jsbn=Bu.jsbn||{};var ei;function ge(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}a(ge,"BigInteger$3");Bu.jsbn.BigInteger=ge;function It(){return new ge(null)}a(It,"nbi");function X1(t,e,r,n,i,s){for(;--s>=0;){var o=e*this.data[t++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=o&67108863}return i}a(X1,"am1");function Z1(t,e,r,n,i,s){for(var o=e&32767,f=e>>15;--s>=0;){var l=this.data[t]&32767,d=this.data[t++]>>15,p=f*l+d*o;l=o*l+((p&32767)<<15)+r.data[n]+(i&1073741823),i=(l>>>30)+(p>>>15)+f*d+(i>>>30),r.data[n++]=l&1073741823}return i}a(Z1,"am2");function eh(t,e,r,n,i,s){for(var o=e&16383,f=e>>14;--s>=0;){var l=this.data[t]&16383,d=this.data[t++]>>14,p=f*l+d*o;l=o*l+((p&16383)<<14)+r.data[n]+i,i=(l>>28)+(p>>14)+f*d,r.data[n++]=l&268435455}return i}a(eh,"am3");typeof navigator>"u"?(ge.prototype.am=eh,ei=28):navigator.appName=="Microsoft Internet Explorer"?(ge.prototype.am=Z1,ei=30):navigator.appName!="Netscape"?(ge.prototype.am=X1,ei=26):(ge.prototype.am=eh,ei=28);ge.prototype.DB=ei;ge.prototype.DM=(1<<ei)-1;ge.prototype.DV=1<<ei;var Nl=52;ge.prototype.FV=Math.pow(2,Nl);ge.prototype.F1=Nl-ei;ge.prototype.F2=2*ei-Nl;var ew="0123456789abcdefghijklmnopqrstuvwxyz",df=new Array,Os,Jr;Os="0".charCodeAt(0);for(Jr=0;Jr<=9;++Jr)df[Os++]=Jr;Os="a".charCodeAt(0);for(Jr=10;Jr<36;++Jr)df[Os++]=Jr;Os="A".charCodeAt(0);for(Jr=10;Jr<36;++Jr)df[Os++]=Jr;function th(t){return ew.charAt(t)}a(th,"int2char");function Kd(t,e){var r=df[t.charCodeAt(e)];return r==null?-1:r}a(Kd,"intAt");function tw(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}a(tw,"bnpCopyTo");function rw(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}a(rw,"bnpFromInt");function pi(t){var e=It();return e.fromInt(t),e}a(pi,"nbv");function nw(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var o=r==8?t[n]&255:Kd(t,n);if(o<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=o:s+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&ge.ZERO.subTo(this,this)}a(nw,"bnpFromString");function iw(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}a(iw,"bnpClamp");function sw(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,s="",o=this.t,f=this.DB-o*this.DB%e;if(o-- >0)for(f<this.DB&&(n=this.data[o]>>f)>0&&(i=!0,s=th(n));o>=0;)f<e?(n=(this.data[o]&(1<<f)-1)<<e-f,n|=this.data[--o]>>(f+=this.DB-e)):(n=this.data[o]>>(f-=e)&r,f<=0&&(f+=this.DB,--o)),n>0&&(i=!0),i&&(s+=th(n));return i?s:"0"}a(sw,"bnToString");function aw(){var t=It();return ge.ZERO.subTo(this,t),t}a(aw,"bnNegate");function ow(){return this.s<0?this.negate():this}a(ow,"bnAbs");function fw(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}a(fw,"bnCompareTo");function pf(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}a(pf,"nbits");function uw(){return this.t<=0?0:this.DB*(this.t-1)+pf(this.data[this.t-1]^this.s&this.DM)}a(uw,"bnBitLength");function lw(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}a(lw,"bnpDLShiftTo");function hw(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}a(hw,"bnpDRShiftTo");function cw(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(t/this.DB),o=this.s<<r&this.DM,f;for(f=this.t-1;f>=0;--f)e.data[f+s+1]=this.data[f]>>n|o,o=(this.data[f]&i)<<r;for(f=s-1;f>=0;--f)e.data[f]=0;e.data[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp()}a(cw,"bnpLShiftTo");function dw(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)e.data[o-r-1]|=(this.data[o]&s)<<i,e.data[o-r]=this.data[o]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}a(dw,"bnpRShiftTo");function pw(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}a(pw,"bnpSubTo");function gw(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&ge.ZERO.subTo(e,e)}a(gw,"bnpMultiplyTo");function vw(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}a(vw,"bnpSquareTo");function mw(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=It());var s=It(),o=this.s,f=t.s,l=this.DB-pf(n.data[n.t-1]);l>0?(n.lShiftTo(l,s),i.lShiftTo(l,r)):(n.copyTo(s),i.copyTo(r));var d=s.t,p=s.data[d-1];if(p!=0){var x=p*(1<<this.F1)+(d>1?s.data[d-2]>>this.F2:0),T=this.FV/x,R=(1<<this.F1)/x,N=1<<this.F2,O=r.t,B=O-d,k=e==null?It():e;for(s.dlShiftTo(B,k),r.compareTo(k)>=0&&(r.data[r.t++]=1,r.subTo(k,r)),ge.ONE.dlShiftTo(d,k),k.subTo(s,s);s.t<d;)s.data[s.t++]=0;for(;--B>=0;){var L=r.data[--O]==p?this.DM:Math.floor(r.data[O]*T+(r.data[O-1]+N)*R);if((r.data[O]+=s.am(0,L,r,B,0,d))<L)for(s.dlShiftTo(B,k),r.subTo(k,r);r.data[O]<--L;)r.subTo(k,r)}e!=null&&(r.drShiftTo(d,e),o!=f&&ge.ZERO.subTo(e,e)),r.t=d,r.clamp(),l>0&&r.rShiftTo(l,r),o<0&&ge.ZERO.subTo(r,r)}}}a(mw,"bnpDivRemTo");function yw(t){var e=It();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(ge.ZERO)>0&&t.subTo(e,e),e}a(yw,"bnMod");function ji(t){this.m=t}a(ji,"Classic");function ww(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}a(ww,"cConvert");function bw(t){return t}a(bw,"cRevert");function xw(t){t.divRemTo(this.m,null,t)}a(xw,"cReduce");function Ew(t,e,r){t.multiplyTo(e,r),this.reduce(r)}a(Ew,"cMulTo");function _w(t,e){t.squareTo(e),this.reduce(e)}a(_w,"cSqrTo");ji.prototype.convert=ww;ji.prototype.revert=bw;ji.prototype.reduce=xw;ji.prototype.mulTo=Ew;ji.prototype.sqrTo=_w;function Aw(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}a(Aw,"bnpInvDigit");function zi(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}a(zi,"Montgomery");function Sw(t){var e=It();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(ge.ZERO)>0&&this.m.subTo(e,e),e}a(Sw,"montConvert");function Cw(t){var e=It();return t.copyTo(e),this.reduce(e),e}a(Cw,"montRevert");function Tw(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}a(Tw,"montReduce");function Iw(t,e){t.squareTo(e),this.reduce(e)}a(Iw,"montSqrTo");function Mw(t,e,r){t.multiplyTo(e,r),this.reduce(r)}a(Mw,"montMulTo");zi.prototype.convert=Sw;zi.prototype.revert=Cw;zi.prototype.reduce=Tw;zi.prototype.mulTo=Mw;zi.prototype.sqrTo=Iw;function Nw(){return(this.t>0?this.data[0]&1:this.s)==0}a(Nw,"bnpIsEven");function Rw(t,e){if(t>4294967295||t<1)return ge.ONE;var r=It(),n=It(),i=e.convert(this),s=pf(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)}a(Rw,"bnpExp");function Bw(t,e){var r;return t<256||e.isEven()?r=new ji(e):r=new zi(e),this.exp(t,r)}a(Bw,"bnModPowInt");ge.prototype.copyTo=tw;ge.prototype.fromInt=rw;ge.prototype.fromString=nw;ge.prototype.clamp=iw;ge.prototype.dlShiftTo=lw;ge.prototype.drShiftTo=hw;ge.prototype.lShiftTo=cw;ge.prototype.rShiftTo=dw;ge.prototype.subTo=pw;ge.prototype.multiplyTo=gw;ge.prototype.squareTo=vw;ge.prototype.divRemTo=mw;ge.prototype.invDigit=Aw;ge.prototype.isEven=Nw;ge.prototype.exp=Rw;ge.prototype.toString=sw;ge.prototype.negate=aw;ge.prototype.abs=ow;ge.prototype.compareTo=fw;ge.prototype.bitLength=uw;ge.prototype.mod=yw;ge.prototype.modPowInt=Bw;ge.ZERO=pi(0);ge.ONE=pi(1);function kw(){var t=It();return this.copyTo(t),t}a(kw,"bnClone");function Pw(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}a(Pw,"bnIntValue");function Ow(){return this.t==0?this.s:this.data[0]<<24>>24}a(Ow,"bnByteValue");function Lw(){return this.t==0?this.s:this.data[0]<<16>>16}a(Lw,"bnShortValue");function Uw(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}a(Uw,"bnpChunkSize");function Dw(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}a(Dw,"bnSigNum");function Fw(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=pi(r),i=It(),s=It(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(t)+o}a(Fw,"bnpToRadix");function qw(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,o=0,f=0;f<t.length;++f){var l=Kd(t,f);if(l<0){t.charAt(f)=="-"&&this.signum()==0&&(i=!0);continue}o=e*o+l,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(o,0)),i&&ge.ZERO.subTo(this,this)}a(qw,"bnpFromRadix");function Vw(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(ge.ONE.shiftLeft(t-1),Rl,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(ge.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}a(Vw,"bnpFromNumber");function Kw(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}a(Kw,"bnToByteArray");function Hw(t){return this.compareTo(t)==0}a(Hw,"bnEquals");function Gw(t){return this.compareTo(t)<0?this:t}a(Gw,"bnMin");function jw(t){return this.compareTo(t)>0?this:t}a(jw,"bnMax");function zw(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}a(zw,"bnpBitwiseTo");function $w(t,e){return t&e}a($w,"op_and");function Ww(t){var e=It();return this.bitwiseTo(t,$w,e),e}a(Ww,"bnAnd");function Rl(t,e){return t|e}a(Rl,"op_or");function Qw(t){var e=It();return this.bitwiseTo(t,Rl,e),e}a(Qw,"bnOr");function Hd(t,e){return t^e}a(Hd,"op_xor");function Yw(t){var e=It();return this.bitwiseTo(t,Hd,e),e}a(Yw,"bnXor");function Gd(t,e){return t&~e}a(Gd,"op_andnot");function Jw(t){var e=It();return this.bitwiseTo(t,Gd,e),e}a(Jw,"bnAndNot");function Xw(){for(var t=It(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}a(Xw,"bnNot");function Zw(t){var e=It();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}a(Zw,"bnShiftLeft");function e2(t){var e=It();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}a(e2,"bnShiftRight");function t2(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}a(t2,"lbit");function r2(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+t2(this.data[t]);return this.s<0?this.t*this.DB:-1}a(r2,"bnGetLowestSetBit");function n2(t){for(var e=0;t!=0;)t&=t-1,++e;return e}a(n2,"cbit");function i2(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=n2(this.data[r]^e);return t}a(i2,"bnBitCount");function s2(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}a(s2,"bnTestBit");function a2(t,e){var r=ge.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}a(a2,"bnpChangeBit");function o2(t){return this.changeBit(t,Rl)}a(o2,"bnSetBit");function f2(t){return this.changeBit(t,Gd)}a(f2,"bnClearBit");function u2(t){return this.changeBit(t,Hd)}a(u2,"bnFlipBit");function l2(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}a(l2,"bnpAddTo");function h2(t){var e=It();return this.addTo(t,e),e}a(h2,"bnAdd");function c2(t){var e=It();return this.subTo(t,e),e}a(c2,"bnSubtract");function d2(t){var e=It();return this.multiplyTo(t,e),e}a(d2,"bnMultiply");function p2(t){var e=It();return this.divRemTo(t,e,null),e}a(p2,"bnDivide");function g2(t){var e=It();return this.divRemTo(t,null,e),e}a(g2,"bnRemainder");function v2(t){var e=It(),r=It();return this.divRemTo(t,e,r),new Array(e,r)}a(v2,"bnDivideAndRemainder");function m2(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}a(m2,"bnpDMultiply");function y2(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}a(y2,"bnpDAddOffset");function Ua(){}a(Ua,"NullExp");function jd(t){return t}a(jd,"nNop");function w2(t,e,r){t.multiplyTo(e,r)}a(w2,"nMulTo");function b2(t,e){t.squareTo(e)}a(b2,"nSqrTo");Ua.prototype.convert=jd;Ua.prototype.revert=jd;Ua.prototype.mulTo=w2;Ua.prototype.sqrTo=b2;function x2(t){return this.exp(t,new Ua)}a(x2,"bnPow");function E2(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}a(E2,"bnpMultiplyLowerTo");function _2(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}a(_2,"bnpMultiplyUpperTo");function Ls(t){this.r2=It(),this.q3=It(),ge.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}a(Ls,"Barrett");function A2(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=It();return t.copyTo(e),this.reduce(e),e}a(A2,"barrettConvert");function S2(t){return t}a(S2,"barrettRevert");function C2(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}a(C2,"barrettReduce");function T2(t,e){t.squareTo(e),this.reduce(e)}a(T2,"barrettSqrTo");function I2(t,e,r){t.multiplyTo(e,r),this.reduce(r)}a(I2,"barrettMulTo");Ls.prototype.convert=A2;Ls.prototype.revert=S2;Ls.prototype.reduce=C2;Ls.prototype.mulTo=I2;Ls.prototype.sqrTo=T2;function M2(t,e){var r=t.bitLength(),n,i=pi(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new ji(e):e.isEven()?s=new Ls(e):s=new zi(e);var o=new Array,f=3,l=n-1,d=(1<<n)-1;if(o[1]=s.convert(this),n>1){var p=It();for(s.sqrTo(o[1],p);f<=d;)o[f]=It(),s.mulTo(p,o[f-2],o[f]),f+=2}var x=t.t-1,T,R=!0,N=It(),O;for(r=pf(t.data[x])-1;x>=0;){for(r>=l?T=t.data[x]>>r-l&d:(T=(t.data[x]&(1<<r+1)-1)<<l-r,x>0&&(T|=t.data[x-1]>>this.DB+r-l)),f=n;(T&1)==0;)T>>=1,--f;if((r-=f)<0&&(r+=this.DB,--x),R)o[T].copyTo(i),R=!1;else{for(;f>1;)s.sqrTo(i,N),s.sqrTo(N,i),f-=2;f>0?s.sqrTo(i,N):(O=i,i=N,N=O),s.mulTo(N,o[T],i)}for(;x>=0&&(t.data[x]&1<<r)==0;)s.sqrTo(i,N),O=i,i=N,N=O,--r<0&&(r=this.DB-1,--x)}return s.revert(i)}a(M2,"bnModPow");function N2(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}a(N2,"bnGCD");function R2(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}a(R2,"bnpModInt");function B2(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return ge.ZERO;for(var r=t.clone(),n=this.clone(),i=pi(1),s=pi(0),o=pi(0),f=pi(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!f.isEven())&&(o.addTo(this,o),f.subTo(t,f)),o.rShiftTo(1,o)):f.isEven()||f.subTo(t,f),f.rShiftTo(1,f);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),s.subTo(f,s)):(n.subTo(r,n),e&&o.subTo(i,o),f.subTo(s,f))}if(n.compareTo(ge.ONE)!=0)return ge.ZERO;if(f.compareTo(t)>=0)return f.subtract(t);if(f.signum()<0)f.addTo(t,f);else return f;return f.signum()<0?f.add(t):f}a(B2,"bnModInverse");var ln=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],k2=(1<<26)/ln[ln.length-1];function P2(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=ln[ln.length-1]){for(e=0;e<ln.length;++e)if(r.data[0]==ln[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<ln.length;){for(var n=ln[e],i=e+1;i<ln.length&&n<k2;)n*=ln[i++];for(n=r.modInt(n);e<i;)if(n%ln[e++]==0)return!1}return r.millerRabin(t)}a(P2,"bnIsProbablePrime");function O2(t){var e=this.subtract(ge.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=L2(),s,o=0;o<t;++o){do s=new ge(this.bitLength(),i);while(s.compareTo(ge.ONE)<=0||s.compareTo(e)>=0);var f=s.modPow(n,this);if(f.compareTo(ge.ONE)!=0&&f.compareTo(e)!=0){for(var l=1;l++<r&&f.compareTo(e)!=0;)if(f=f.modPowInt(2,this),f.compareTo(ge.ONE)==0)return!1;if(f.compareTo(e)!=0)return!1}}return!0}a(O2,"bnpMillerRabin");function L2(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}a(L2,"bnGetPrng");ge.prototype.chunkSize=Uw;ge.prototype.toRadix=Fw;ge.prototype.fromRadix=qw;ge.prototype.fromNumber=Vw;ge.prototype.bitwiseTo=zw;ge.prototype.changeBit=a2;ge.prototype.addTo=l2;ge.prototype.dMultiply=m2;ge.prototype.dAddOffset=y2;ge.prototype.multiplyLowerTo=E2;ge.prototype.multiplyUpperTo=_2;ge.prototype.modInt=R2;ge.prototype.millerRabin=O2;ge.prototype.clone=kw;ge.prototype.intValue=Pw;ge.prototype.byteValue=Ow;ge.prototype.shortValue=Lw;ge.prototype.signum=Dw;ge.prototype.toByteArray=Kw;ge.prototype.equals=Hw;ge.prototype.min=Gw;ge.prototype.max=jw;ge.prototype.and=Ww;ge.prototype.or=Qw;ge.prototype.xor=Yw;ge.prototype.andNot=Jw;ge.prototype.not=Xw;ge.prototype.shiftLeft=Zw;ge.prototype.shiftRight=e2;ge.prototype.getLowestSetBit=r2;ge.prototype.bitCount=i2;ge.prototype.testBit=s2;ge.prototype.setBit=o2;ge.prototype.clearBit=f2;ge.prototype.flipBit=u2;ge.prototype.add=h2;ge.prototype.subtract=c2;ge.prototype.multiply=d2;ge.prototype.divide=p2;ge.prototype.remainder=g2;ge.prototype.divideAndRemainder=v2;ge.prototype.modPow=M2;ge.prototype.modInverse=B2;ge.prototype.pow=x2;ge.prototype.gcd=N2;ge.prototype.isProbablePrime=P2;var Tn=Rt,zd=Tn.sha1=Tn.sha1||{};Tn.md.sha1=Tn.md.algorithms.sha1=zd;zd.create=function(){$d||U2();var t=null,e=Tn.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=Tn.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Tn.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=o[1],o[1]=o[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),rh(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Tn.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(ku.substr(0,n.blockLength-o));for(var f,l,d=n.fullMessageLength[0]*8,p=0;p<n.fullMessageLength.length-1;++p)f=n.fullMessageLength[p+1]*8,l=f/4294967296>>>0,d+=l,i.putInt32(d>>>0),d=f>>>0;i.putInt32(d);var x={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};rh(x,r,i);var T=Tn.util.createBuffer();return T.putInt32(x.h0),T.putInt32(x.h1),T.putInt32(x.h2),T.putInt32(x.h3),T.putInt32(x.h4),T},n};var ku=null,$d=!1;function U2(){ku=String.fromCharCode(128),ku+=Tn.util.fillString(String.fromCharCode(0),64),$d=!0}a(U2,"_init$1");function rh(t,e,r){for(var n,i,s,o,f,l,d,p,x=r.length();x>=64;){for(i=t.h0,s=t.h1,o=t.h2,f=t.h3,l=t.h4,p=0;p<16;++p)n=r.getInt32(),e[p]=n,d=f^s&(o^f),n=(i<<5|i>>>27)+d+l+1518500249+n,l=f,f=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;p<20;++p)n=e[p-3]^e[p-8]^e[p-14]^e[p-16],n=n<<1|n>>>31,e[p]=n,d=f^s&(o^f),n=(i<<5|i>>>27)+d+l+1518500249+n,l=f,f=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;p<32;++p)n=e[p-3]^e[p-8]^e[p-14]^e[p-16],n=n<<1|n>>>31,e[p]=n,d=s^o^f,n=(i<<5|i>>>27)+d+l+1859775393+n,l=f,f=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;p<40;++p)n=e[p-6]^e[p-16]^e[p-28]^e[p-32],n=n<<2|n>>>30,e[p]=n,d=s^o^f,n=(i<<5|i>>>27)+d+l+1859775393+n,l=f,f=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;p<60;++p)n=e[p-6]^e[p-16]^e[p-28]^e[p-32],n=n<<2|n>>>30,e[p]=n,d=s&o|f&(s^o),n=(i<<5|i>>>27)+d+l+2400959708+n,l=f,f=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;p<80;++p)n=e[p-6]^e[p-16]^e[p-28]^e[p-32],n=n<<2|n>>>30,e[p]=n,d=s^o^f,n=(i<<5|i>>>27)+d+l+3395469782+n,l=f,f=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+o|0,t.h3=t.h3+f|0,t.h4=t.h4+l|0,x-=64}}a(rh,"_update$1");var Nn=Rt,Wd=Nn.pkcs1=Nn.pkcs1||{};Wd.encode_rsa_oaep=function(t,e,r){var n,i,s,o;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md)),s?s.start():s=Nn.md.sha1.create(),o||(o=s);var f=Math.ceil(t.n.bitLength()/8),l=f-2*s.digestLength-2;if(e.length>l){var d=new Error("RSAES-OAEP input message length is too long.");throw d.length=e.length,d.maxLength=l,d}n||(n=""),s.update(n,"raw");for(var p=s.digest(),x="",T=l-e.length,R=0;R<T;R++)x+="\0";var N=p.getBytes()+x+""+e;if(!i)i=Nn.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var d=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw d.seedLength=i.length,d.digestLength=s.digestLength,d}var O=Io(i,f-s.digestLength-1,o),B=Nn.util.xorBytes(N,O,N.length),k=Io(B,s.digestLength,o),L=Nn.util.xorBytes(i,k,i.length);return"\0"+L+B};Wd.decode_rsa_oaep=function(t,e,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var B=new Error("RSAES-OAEP encoded message length is invalid.");throw B.length=e.length,B.expectedLength=o,B}if(i===void 0?i=Nn.md.sha1.create():i.start(),s||(s=i),o<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var f=i.digest().getBytes(),l=e.charAt(0),d=e.substring(1,i.digestLength+1),p=e.substring(1+i.digestLength),x=Io(p,i.digestLength,s),T=Nn.util.xorBytes(d,x,d.length),R=Io(T,o-i.digestLength-1,s),N=Nn.util.xorBytes(p,R,p.length),O=N.substring(0,i.digestLength),B=l!=="\0",k=0;k<i.digestLength;++k)B|=f.charAt(k)!==O.charAt(k);for(var L=1,D=i.digestLength,H=i.digestLength;H<N.length;H++){var K=N.charCodeAt(H),j=K&1^1,ie=L?65534:0;B|=K&ie,L=L&j,D+=L}if(B||N.charCodeAt(D)!==1)throw new Error("Invalid RSAES-OAEP padding.");return N.substring(D+1)};function Io(t,e,r){r||(r=Nn.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+o),n+=r.digest().getBytes()}return n.substring(0,e)}a(Io,"rsa_mgf1");var Mi=Rt;(function(){if(Mi.prime)return;var t=Mi.prime=Mi.prime||{},e=Mi.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=a(function(x,T){return x|T},"op_or");t.generateProbablePrime=function(x,T,R){typeof T=="function"&&(R=T,T={}),T=T||{};var N=T.algorithm||"PRIMEINC";typeof N=="string"&&(N={name:N}),N.options=N.options||{};var O=T.prng||Mi.random,B={nextBytes:function(k){for(var L=O.getBytesSync(k.length),D=0;D<k.length;++D)k[D]=L.charCodeAt(D)}};if(N.name==="PRIMEINC")return s(x,B,N.options,R);throw new Error("Invalid prime generation algorithm: "+N.name)};function s(x,T,R,N){return"workers"in R?l(x,T,R,N):o(x,T,R,N)}a(s,"primeincFindPrime");function o(x,T,R,N){var O=d(x,T),B=0,k=p(O.bitLength());"millerRabinTests"in R&&(k=R.millerRabinTests);var L=10;"maxBlockTime"in R&&(L=R.maxBlockTime),f(O,x,T,B,k,L,N)}a(o,"primeincFindPrimeWithoutWorkers");function f(x,T,R,N,O,B,k){var L=+new Date;do{if(x.bitLength()>T&&(x=d(T,R)),x.isProbablePrime(O))return k(null,x);x.dAddOffset(r[N++%8],0)}while(B<0||+new Date-L<B);Mi.util.setImmediate(function(){f(x,T,R,N,O,B,k)})}a(f,"_primeinc");function l(x,T,R,N){if(typeof Worker>"u")return o(x,T,R,N);var O=d(x,T),B=R.workers,k=R.workLoad||100,L=k*30/8,D=R.workerScript||"forge/prime.worker.js";if(B===-1)return Mi.util.estimateCores(function(K,j){K&&(j=2),B=j-1,H()});H();function H(){B=Math.max(1,B);for(var K=[],j=0;j<B;++j)K[j]=new Worker(D);for(var j=0;j<B;++j)K[j].addEventListener("message",J);var ie=!1;function J(ue){if(!ie){var P=ue.data;if(P.found){for(var b=0;b<K.length;++b)K[b].terminate();return ie=!0,N(null,new e(P.prime,16))}O.bitLength()>x&&(O=d(x,T));var S=O.toString(16);ue.target.postMessage({hex:S,workLoad:k}),O.dAddOffset(L,0)}}a(J,"workerMessage")}a(H,"generate")}a(l,"primeincFindPrimeWithWorkers");function d(x,T){var R=new e(x,T),N=x-1;return R.testBit(N)||R.bitwiseTo(e.ONE.shiftLeft(N),i,R),R.dAddOffset(31-R.mod(n).byteValue(),0),R}a(d,"generateRandom");function p(x){return x<=100?27:x<=150?18:x<=200?15:x<=250?12:x<=300?9:x<=350?8:x<=400?7:x<=500?6:x<=600?5:x<=800?4:x<=1250?3:2}a(p,"getMillerRabinTests")})();var pt=Rt;if(typeof Tt>"u")var Tt=pt.jsbn.BigInteger;var Pu=pt.util.isNodejs?Gr:null,fe=pt.asn1,Xr=pt.util;pt.pki=pt.pki||{};pt.pki.rsa=pt.rsa=pt.rsa||{};var dt=pt.pki,D2=[6,4,2,4,2,4,6,2],F2={name:"PrivateKeyInfo",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},q2={name:"RSAPrivateKey",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},V2={name:"RSAPublicKey",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},K2=pt.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:fe.Class.UNIVERSAL,type:fe.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},H2=a(function(t){var e;if(t.algorithm in dt.oids)e=dt.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=fe.oidToDer(e).getBytes(),i=fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[]),s=fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[]);s.value.push(fe.create(fe.Class.UNIVERSAL,fe.Type.OID,!1,n)),s.value.push(fe.create(fe.Class.UNIVERSAL,fe.Type.NULL,!1,""));var o=fe.create(fe.Class.UNIVERSAL,fe.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(s),i.value.push(o),fe.toDer(i).getBytes()},"emsaPkcs1v15encode"),Qd=a(function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(Tt.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(Tt.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new Tt(pt.util.bytesToHex(pt.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(Tt.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(s)<0;)i=i.add(e.p);var o=i.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return o=o.multiply(n.modInverse(e.n)).mod(e.n),o},"_modPow");dt.rsa.encrypt=function(t,e,r){var n=r,i,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=Yd(t,e,r)):(i=pt.util.createBuffer(),i.putBytes(t));for(var o=new Tt(i.toHex(),16),f=Qd(o,e,n),l=f.toString(16),d=pt.util.createBuffer(),p=s-Math.ceil(l.length/2);p>0;)d.putByte(0),--p;return d.putBytes(pt.util.hexToBytes(l)),d.getBytes()};dt.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=i,s}var o=new Tt(pt.util.createBuffer(t).toHex(),16);if(o.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var f=Qd(o,e,r),l=f.toString(16),d=pt.util.createBuffer(),p=i-Math.ceil(l.length/2);p>0;)d.putByte(0),--p;return d.putBytes(pt.util.hexToBytes(l)),n!==!1?Mo(d.getBytes(),e,r):d.getBytes()};dt.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||pt.random,i={nextBytes:function(f){for(var l=n.getBytesSync(f.length),d=0;d<f.length;++d)f[d]=l.charCodeAt(d)}},s=r.algorithm||"PRIMEINC",o;if(s==="PRIMEINC")o={algorithm:s,state:0,bits:t,rng:i,eInt:e||65537,e:new Tt(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+s);return o};dt.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new Tt(null);r.fromInt(30);for(var n=0,i=a(function(x,T){return x|T},"op_or"),s=+new Date,o,f=0;t.keys===null&&(e<=0||f<e);){if(t.state===0){var l=t.p===null?t.pBits:t.qBits,d=l-1;t.pqState===0?(t.num=new Tt(l,t.rng),t.num.testBit(d)||t.num.bitwiseTo(Tt.ONE.shiftLeft(d),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>l?t.pqState=0:t.num.isProbablePrime(j2(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(D2[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(Tt.ONE).gcd(t.e).compareTo(Tt.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(Tt.ONE),t.q1=t.q.subtract(Tt.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(Tt.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var p=t.e.modInverse(t.phi);t.keys={privateKey:dt.rsa.setPrivateKey(t.n,t.e,p,t.p,t.q,p.mod(t.p1),p.mod(t.q1),t.q.modInverse(t.p)),publicKey:dt.rsa.setPublicKey(t.n,t.e)}}o=+new Date,f+=o-s,s=o}return t.keys!==null};dt.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(nh("generateKeyPair"))return Pu.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(f,l,d){if(f)return n(f);n(null,{privateKey:dt.privateKeyFromPem(d),publicKey:dt.publicKeyFromPem(l)})});if(ih("generateKey")&&ih("exportKey"))return Xr.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:ah(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(f){return Xr.globalScope.crypto.subtle.exportKey("pkcs8",f.privateKey)}).then(void 0,function(f){n(f)}).then(function(f){if(f){var l=dt.privateKeyFromAsn1(fe.fromDer(pt.util.createBuffer(f)));n(null,{privateKey:l,publicKey:dt.setRsaPublicKey(l.n,l.e)})}});if(sh("generateKey")&&sh("exportKey")){var i=Xr.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:ah(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(f){var l=f.target.result,d=Xr.globalScope.msCrypto.subtle.exportKey("pkcs8",l.privateKey);d.oncomplete=function(p){var x=p.target.result,T=dt.privateKeyFromAsn1(fe.fromDer(pt.util.createBuffer(x)));n(null,{privateKey:T,publicKey:dt.setRsaPublicKey(T.n,T.e)})},d.onerror=function(p){n(p)}},i.onerror=function(f){n(f)};return}}else if(nh("generateKeyPairSync")){var s=Pu.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:dt.privateKeyFromPem(s.privateKey),publicKey:dt.publicKeyFromPem(s.publicKey)}}}var o=dt.rsa.createKeyPairGenerationState(t,e,r);if(!n)return dt.rsa.stepKeyPairGenerationState(o,0),o.keys;G2(o,r,n)};dt.setRsaPublicKey=dt.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(f,l,d){return Yd(f,l,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(f,l){return pt.pkcs1.encode_rsa_oaep(l,f,s)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(f){return f}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var o=i.encode(n,r,!0);return dt.rsa.encrypt(o,r,!0)},r.verify=function(n,i,s){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),s==="RSASSA-PKCS1-V1_5"?s={verify:function(f,l){l=Mo(l,r,!0);var d=fe.fromDer(l);return f===d.value[1].value}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(f,l){return l=Mo(l,r,!0),f===l}});var o=dt.rsa.decrypt(i,r,!0,!1);return s.verify(n,o,r.n.bitLength())},r};dt.setRsaPrivateKey=dt.rsa.setPrivateKey=function(t,e,r,n,i,s,o,f){var l={n:t,e,d:r,p:n,q:i,dP:s,dQ:o,qInv:f};return l.decrypt=function(d,p,x){typeof p=="string"?p=p.toUpperCase():p===void 0&&(p="RSAES-PKCS1-V1_5");var T=dt.rsa.decrypt(d,l,!1,!1);if(p==="RSAES-PKCS1-V1_5")p={decode:Mo};else if(p==="RSA-OAEP"||p==="RSAES-OAEP")p={decode:function(R,N){return pt.pkcs1.decode_rsa_oaep(N,R,x)}};else if(["RAW","NONE","NULL",null].indexOf(p)!==-1)p={decode:function(R){return R}};else throw new Error('Unsupported encryption scheme: "'+p+'".');return p.decode(T,l,!1)},l.sign=function(d,p){var x=!1;typeof p=="string"&&(p=p.toUpperCase()),p===void 0||p==="RSASSA-PKCS1-V1_5"?(p={encode:H2},x=1):(p==="NONE"||p==="NULL"||p===null)&&(p={encode:function(){return d}},x=1);var T=p.encode(d,l.n.bitLength());return dt.rsa.encrypt(T,l,x)},l};dt.wrapRsaPrivateKey=function(t){return fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,fe.integerToDer(0).getBytes()),fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.OID,!1,fe.oidToDer(dt.oids.rsaEncryption).getBytes()),fe.create(fe.Class.UNIVERSAL,fe.Type.NULL,!1,"")]),fe.create(fe.Class.UNIVERSAL,fe.Type.OCTETSTRING,!1,fe.toDer(t).getBytes())])};dt.privateKeyFromAsn1=function(t){var e={},r=[];if(fe.validate(t,F2,e,r)&&(t=fe.fromDer(pt.util.createBuffer(e.privateKey))),e={},r=[],!fe.validate(t,q2,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,o,f,l,d,p,x;return i=pt.util.createBuffer(e.privateKeyModulus).toHex(),s=pt.util.createBuffer(e.privateKeyPublicExponent).toHex(),o=pt.util.createBuffer(e.privateKeyPrivateExponent).toHex(),f=pt.util.createBuffer(e.privateKeyPrime1).toHex(),l=pt.util.createBuffer(e.privateKeyPrime2).toHex(),d=pt.util.createBuffer(e.privateKeyExponent1).toHex(),p=pt.util.createBuffer(e.privateKeyExponent2).toHex(),x=pt.util.createBuffer(e.privateKeyCoefficient).toHex(),dt.setRsaPrivateKey(new Tt(i,16),new Tt(s,16),new Tt(o,16),new Tt(f,16),new Tt(l,16),new Tt(d,16),new Tt(p,16),new Tt(x,16))};dt.privateKeyToAsn1=dt.privateKeyToRSAPrivateKey=function(t){return fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,fe.integerToDer(0).getBytes()),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,bn(t.n)),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,bn(t.e)),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,bn(t.d)),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,bn(t.p)),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,bn(t.q)),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,bn(t.dP)),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,bn(t.dQ)),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,bn(t.qInv))])};dt.publicKeyFromAsn1=function(t){var e={},r=[];if(fe.validate(t,K2,e,r)){var n=fe.derToOid(e.publicKeyOid);if(n!==dt.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!fe.validate(t,V2,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=pt.util.createBuffer(e.publicKeyModulus).toHex(),o=pt.util.createBuffer(e.publicKeyExponent).toHex();return dt.setRsaPublicKey(new Tt(s,16),new Tt(o,16))};dt.publicKeyToAsn1=dt.publicKeyToSubjectPublicKeyInfo=function(t){return fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.OID,!1,fe.oidToDer(dt.oids.rsaEncryption).getBytes()),fe.create(fe.Class.UNIVERSAL,fe.Type.NULL,!1,"")]),fe.create(fe.Class.UNIVERSAL,fe.Type.BITSTRING,!1,[dt.publicKeyToRSAPublicKey(t)])])};dt.publicKeyToRSAPublicKey=function(t){return fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,bn(t.n)),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,bn(t.e))])};function Yd(t,e,r){var n=pt.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var o=i-3-t.length,f;if(r===0||r===1){f=r===0?0:255;for(var l=0;l<o;++l)n.putByte(f)}else for(;o>0;){for(var d=0,p=pt.random.getBytes(o),l=0;l<o;++l)f=p.charCodeAt(l),f===0?++d:n.putByte(f);o=d}return n.putByte(0),n.putBytes(t),n}a(Yd,"_encodePkcs1_v1_5");function Mo(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),s=pt.util.createBuffer(t),o=s.getByte(),f=s.getByte();if(o!==0||r&&f!==0&&f!==1||!r&&f!=2||r&&f===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var l=0;if(f===0){l=i-3-n;for(var d=0;d<l;++d)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(f===1)for(l=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++l}else if(f===2)for(l=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++l}var p=s.getByte();if(p!==0||l!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}a(Mo,"_decodePkcs1_v1_5");function G2(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){s(t.pBits,function(f,l){if(f)return r(f);if(t.p=l,t.q!==null)return o(f,t.q);s(t.qBits,o)})}a(i,"generate");function s(f,l){pt.prime.generateProbablePrime(f,n,l)}a(s,"getPrime");function o(f,l){if(f)return r(f);if(t.q=l,t.p.compareTo(t.q)<0){var d=t.p;t.p=t.q,t.q=d}if(t.p.subtract(Tt.ONE).gcd(t.e).compareTo(Tt.ONE)!==0){t.p=null,i();return}if(t.q.subtract(Tt.ONE).gcd(t.e).compareTo(Tt.ONE)!==0){t.q=null,s(t.qBits,o);return}if(t.p1=t.p.subtract(Tt.ONE),t.q1=t.q.subtract(Tt.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(Tt.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,o);return}var p=t.e.modInverse(t.phi);t.keys={privateKey:dt.rsa.setPrivateKey(t.n,t.e,p,t.p,t.q,p.mod(t.p1),p.mod(t.q1),t.q.modInverse(t.p)),publicKey:dt.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}a(o,"finish")}a(G2,"_generateKeyPair");function bn(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=pt.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}a(bn,"_bnToBytes");function j2(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}a(j2,"_getMillerRabinTests");function nh(t){return pt.util.isNodejs&&typeof Pu[t]=="function"}a(nh,"_detectNodeCrypto");function ih(t){return typeof Xr.globalScope<"u"&&typeof Xr.globalScope.crypto=="object"&&typeof Xr.globalScope.crypto.subtle=="object"&&typeof Xr.globalScope.crypto.subtle[t]=="function"}a(ih,"_detectSubtleCrypto");function sh(t){return typeof Xr.globalScope<"u"&&typeof Xr.globalScope.msCrypto=="object"&&typeof Xr.globalScope.msCrypto.subtle=="object"&&typeof Xr.globalScope.msCrypto.subtle[t]=="function"}a(sh,"_detectSubtleMsCrypto");function ah(t){for(var e=pt.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}a(ah,"_intToUint8Array");var He=Rt;if(typeof z2>"u")var z2=He.jsbn.BigInteger;var he=He.asn1,vt=He.pki=He.pki||{};vt.pbe=He.pbe=He.pbe||{};var Ni=vt.oids,$2={name:"EncryptedPrivateKeyInfo",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:he.Class.UNIVERSAL,type:he.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:he.Class.UNIVERSAL,type:he.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},W2={name:"PBES2Algorithms",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:he.Class.UNIVERSAL,type:he.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:he.Class.UNIVERSAL,type:he.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:he.Class.UNIVERSAL,type:he.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:he.Class.UNIVERSAL,type:he.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:he.Class.UNIVERSAL,type:he.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:he.Class.UNIVERSAL,type:he.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:he.Class.UNIVERSAL,type:he.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Q2={name:"pkcs-12PbeParams",tagClass:he.Class.UNIVERSAL,type:he.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:he.Class.UNIVERSAL,type:he.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:he.Class.UNIVERSAL,type:he.Type.INTEGER,constructed:!1,capture:"iterations"}]};vt.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=He.random.getBytesSync(r.saltSize),i=r.count,s=he.integerToDer(i),o,f,l;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var d,p,x;switch(r.algorithm){case"aes128":o=16,d=16,p=Ni["aes128-CBC"],x=He.aes.createEncryptionCipher;break;case"aes192":o=24,d=16,p=Ni["aes192-CBC"],x=He.aes.createEncryptionCipher;break;case"aes256":o=32,d=16,p=Ni["aes256-CBC"],x=He.aes.createEncryptionCipher;break;case"des":o=8,d=8,p=Ni.desCBC,x=He.des.createEncryptionCipher;break;default:var T=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw T.algorithm=r.algorithm,T}var R="hmacWith"+r.prfAlgorithm.toUpperCase(),N=Xd(R),O=He.pkcs5.pbkdf2(e,n,i,o,N),B=He.random.getBytesSync(d),k=x(O);k.start(B),k.update(he.toDer(t)),k.finish(),l=k.output.getBytes();var L=Y2(n,s,o,R);f=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Ni.pkcs5PBES2).getBytes()),he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Ni.pkcs5PBKDF2).getBytes()),L]),he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(p).getBytes()),he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,B)])])])}else if(r.algorithm==="3des"){o=24;var D=new He.util.ByteBuffer(n),O=vt.pbe.generatePkcs12Key(e,D,1,i,o),B=vt.pbe.generatePkcs12Key(e,D,2,i,o),k=He.des.createEncryptionCipher(O);k.start(B),k.update(he.toDer(t)),k.finish(),l=k.output.getBytes(),f=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(Ni["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,n),he.create(he.Class.UNIVERSAL,he.Type.INTEGER,!1,s.getBytes())])])}else{var T=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw T.algorithm=r.algorithm,T}var H=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[f,he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,l)]);return H};vt.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!he.validate(t,$2,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=he.derToOid(n.encryptionOid),f=vt.pbe.getCipher(o,n.encryptionParams,e),l=He.util.createBuffer(n.encryptedData);return f.update(l),f.finish()&&(r=he.fromDer(f.output)),r};vt.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:he.toDer(t).getBytes()};return He.pem.encode(r,{maxline:e})};vt.encryptedPrivateKeyFromPem=function(t){var e=He.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return he.fromDer(e.body)};vt.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=vt.wrapRsaPrivateKey(vt.privateKeyToAsn1(t));return n=vt.encryptPrivateKeyInfo(n,e,r),vt.encryptedPrivateKeyToPem(n)}var i,s,o,f;switch(r.algorithm){case"aes128":i="AES-128-CBC",o=16,s=He.random.getBytesSync(16),f=He.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",o=24,s=He.random.getBytesSync(16),f=He.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",o=32,s=He.random.getBytesSync(16),f=He.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",o=24,s=He.random.getBytesSync(8),f=He.des.createEncryptionCipher;break;case"des":i="DES-CBC",o=8,s=He.random.getBytesSync(8),f=He.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw l.algorithm=r.algorithm,l}var d=He.pbe.opensslDeriveBytes(e,s.substr(0,8),o),p=f(d);p.start(s),p.update(he.toDer(vt.privateKeyToAsn1(t))),p.finish();var x={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:He.util.bytesToHex(s).toUpperCase()},body:p.output.getBytes()};return He.pem.encode(x)};vt.decryptRsaPrivateKey=function(t,e){var r=null,n=He.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,o;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,o=He.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,o=He.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,o=He.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,o=He.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,o=He.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,o=a(function(x){return He.rc2.createDecryptionCipher(x,40)},"cipherFn");break;case"RC2-64-CBC":s=8,o=a(function(x){return He.rc2.createDecryptionCipher(x,64)},"cipherFn");break;case"RC2-128-CBC":s=16,o=a(function(x){return He.rc2.createDecryptionCipher(x,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var f=He.util.hexToBytes(n.dekInfo.parameters),l=He.pbe.opensslDeriveBytes(e,f.substr(0,8),s),d=o(l);if(d.start(f),d.update(He.util.createBuffer(n.body)),d.finish())r=d.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=vt.decryptPrivateKeyInfo(he.fromDer(r),e):r=he.fromDer(r),r!==null&&(r=vt.privateKeyFromAsn1(r)),r};vt.pbe.generatePkcs12Key=function(t,e,r,n,i,s){var o,f;if(typeof s>"u"||s===null){if(!("sha1"in He.md))throw new Error('"sha1" hash algorithm unavailable.');s=He.md.sha1.create()}var l=s.digestLength,d=s.blockLength,p=new He.util.ByteBuffer,x=new He.util.ByteBuffer;if(t!=null){for(f=0;f<t.length;f++)x.putInt16(t.charCodeAt(f));x.putInt16(0)}var T=x.length(),R=e.length(),N=new He.util.ByteBuffer;N.fillWithByte(r,d);var O=d*Math.ceil(R/d),B=new He.util.ByteBuffer;for(f=0;f<O;f++)B.putByte(e.at(f%R));var k=d*Math.ceil(T/d),L=new He.util.ByteBuffer;for(f=0;f<k;f++)L.putByte(x.at(f%T));var D=B;D.putBuffer(L);for(var H=Math.ceil(i/l),K=1;K<=H;K++){var j=new He.util.ByteBuffer;j.putBytes(N.bytes()),j.putBytes(D.bytes());for(var ie=0;ie<n;ie++)s.start(),s.update(j.getBytes()),j=s.digest();var J=new He.util.ByteBuffer;for(f=0;f<d;f++)J.putByte(j.at(f%l));var ue=Math.ceil(R/d)+Math.ceil(T/d),P=new He.util.ByteBuffer;for(o=0;o<ue;o++){var b=new He.util.ByteBuffer(D.getBytes(d)),S=511;for(f=J.length()-1;f>=0;f--)S=S>>8,S+=J.at(f)+b.at(f),b.setAt(f,S&255);P.putBuffer(b)}D=P,p.putBuffer(j)}return p.truncate(p.length()-i),p};vt.pbe.getCipher=function(t,e,r){switch(t){case vt.oids.pkcs5PBES2:return vt.pbe.getCipherForPBES2(t,e,r);case vt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case vt.oids["pbewithSHAAnd40BitRC2-CBC"]:return vt.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};vt.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!he.validate(e,W2,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(t=he.derToOid(n.kdfOid),t!==vt.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=he.derToOid(n.encOid),t!==vt.oids["aes128-CBC"]&&t!==vt.oids["aes192-CBC"]&&t!==vt.oids["aes256-CBC"]&&t!==vt.oids["des-EDE3-CBC"]&&t!==vt.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var o=n.kdfSalt,f=He.util.createBuffer(n.kdfIterationCount);f=f.getInt(f.length()<<3);var l,d;switch(vt.oids[t]){case"aes128-CBC":l=16,d=He.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,d=He.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,d=He.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,d=He.des.createDecryptionCipher;break;case"desCBC":l=8,d=He.des.createDecryptionCipher;break}var p=Jd(n.prfOid),x=He.pkcs5.pbkdf2(r,o,f,l,p),T=n.encIv,R=d(x);return R.start(T),R};vt.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!he.validate(e,Q2,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=He.util.createBuffer(n.salt),f=He.util.createBuffer(n.iterations);f=f.getInt(f.length()<<3);var l,d,p;switch(t){case vt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,d=8,p=He.des.startDecrypting;break;case vt.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,d=8,p=a(function(O,B){var k=He.rc2.createDecryptionCipher(O,40);return k.start(B,null),k},"cipherFn");break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var x=Jd(n.prfOid),T=vt.pbe.generatePkcs12Key(r,o,1,f,l,x);x.start();var R=vt.pbe.generatePkcs12Key(r,o,2,f,d,x);return p(T,R)};vt.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in He.md))throw new Error('"md5" hash algorithm unavailable.');n=He.md.md5.create()}e===null&&(e="");for(var i=[oh(n,t+e)],s=16,o=1;s<r;++o,s+=16)i.push(oh(n,i[o-1]+t+e));return i.join("").substr(0,r)};function oh(t,e){return t.start().update(e).digest().getBytes()}a(oh,"hash$2");function Jd(t){var e;if(!t)e="hmacWithSHA1";else if(e=vt.oids[he.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Xd(e)}a(Jd,"prfOidToMessageDigest");function Xd(t){var e=He.md;switch(t){case"hmacWithSHA224":e=He.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}a(Xd,"prfAlgorithmToMessageDigest");function Y2(t,e,r,n){var i=he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OCTETSTRING,!1,t),he.create(he.Class.UNIVERSAL,he.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(he.create(he.Class.UNIVERSAL,he.Type.INTEGER,!1,He.util.hexToBytes(r.toString(16))),he.create(he.Class.UNIVERSAL,he.Type.SEQUENCE,!0,[he.create(he.Class.UNIVERSAL,he.Type.OID,!1,he.oidToDer(vt.oids[n]).getBytes()),he.create(he.Class.UNIVERSAL,he.Type.NULL,!1,"")])),i}a(Y2,"createPbkdf2Params");var ps=Rt,Be=ps.asn1,Us=ps.pkcs7asn1=ps.pkcs7asn1||{};ps.pkcs7=ps.pkcs7||{};ps.pkcs7.asn1=Us;var Zd={name:"ContentInfo",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Be.Class.UNIVERSAL,type:Be.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Be.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Us.contentInfoValidator=Zd;var ep={name:"EncryptedContentInfo",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Be.Class.UNIVERSAL,type:Be.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Be.Class.UNIVERSAL,type:Be.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Be.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Be.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Us.envelopedDataValidator={name:"EnvelopedData",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Be.Class.UNIVERSAL,type:Be.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(ep)};Us.encryptedDataValidator={name:"EncryptedData",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Be.Class.UNIVERSAL,type:Be.Type.INTEGER,constructed:!1,capture:"version"}].concat(ep)};var J2={name:"SignerInfo",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Be.Class.UNIVERSAL,type:Be.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Be.Class.UNIVERSAL,type:Be.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Be.Class.UNIVERSAL,type:Be.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Be.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Be.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Be.Class.UNIVERSAL,type:Be.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Be.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Us.signedDataValidator={name:"SignedData",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Be.Class.UNIVERSAL,type:Be.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},Zd,{name:"SignedData.Certificates",tagClass:Be.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Be.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SET,capture:"signerInfos",optional:!0,value:[J2]}]};Us.recipientInfoValidator={name:"RecipientInfo",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Be.Class.UNIVERSAL,type:Be.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Be.Class.UNIVERSAL,type:Be.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Be.Class.UNIVERSAL,type:Be.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Be.Class.UNIVERSAL,type:Be.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Be.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:Be.Class.UNIVERSAL,type:Be.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};var Ui=Rt;Ui.mgf=Ui.mgf||{};var X2=Ui.mgf.mgf1=Ui.mgf1=Ui.mgf1||{};X2.create=function(t){var e={generate:function(r,n){for(var i=new Ui.util.ByteBuffer,s=Math.ceil(n/t.digestLength),o=0;o<s;o++){var f=new Ui.util.ByteBuffer;f.putInt32(o),t.start(),t.update(r+f.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-n),i.getBytes()}};return e};var No=Rt;No.mgf=No.mgf||{};No.mgf.mgf1=No.mgf1;var Bi=Rt,Z2=Bi.pss=Bi.pss||{};Z2.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,n=e.digestLength,i=t.salt||null;typeof i=="string"&&(i=Bi.util.createBuffer(i));var s;if("saltLength"in t)s=t.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var o=t.prng||Bi.random,f={};return f.encode=function(l,d){var p,x=d-1,T=Math.ceil(x/8),R=l.digest().getBytes();if(T<n+s+2)throw new Error("Message is too long to encrypt.");var N;i===null?N=o.getBytesSync(s):N=i.bytes();var O=new Bi.util.ByteBuffer;O.fillWithByte(0,8),O.putBytes(R),O.putBytes(N),e.start(),e.update(O.getBytes());var B=e.digest().getBytes(),k=new Bi.util.ByteBuffer;k.fillWithByte(0,T-s-n-2),k.putByte(1),k.putBytes(N);var L=k.getBytes(),D=T-n-1,H=r.generate(B,D),K="";for(p=0;p<D;p++)K+=String.fromCharCode(L.charCodeAt(p)^H.charCodeAt(p));var j=65280>>8*T-x&255;return K=String.fromCharCode(K.charCodeAt(0)&~j)+K.substr(1),K+B+String.fromCharCode(188)},f.verify=function(l,d,p){var x,T=p-1,R=Math.ceil(T/8);if(d=d.substr(-R),R<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(d.charCodeAt(R-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var N=R-n-1,O=d.substr(0,N),B=d.substr(N,n),k=65280>>8*R-T&255;if((O.charCodeAt(0)&k)!==0)throw new Error("Bits beyond keysize not zero as expected.");var L=r.generate(B,N),D="";for(x=0;x<N;x++)D+=String.fromCharCode(O.charCodeAt(x)^L.charCodeAt(x));D=String.fromCharCode(D.charCodeAt(0)&~k)+D.substr(1);var H=R-n-s-2;for(x=0;x<H;x++)if(D.charCodeAt(x)!==0)throw new Error("Leftmost octets not zero as expected");if(D.charCodeAt(H)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var K=D.substr(-s),j=new Bi.util.ByteBuffer;j.fillWithByte(0,8),j.putBytes(l),j.putBytes(K),e.start(),e.update(j.getBytes());var ie=e.digest().getBytes();return B===ie},f};var Te=Rt,U=Te.asn1,Se=Te.pki=Te.pki||{},ht=Se.oids,Xt={};Xt.CN=ht.commonName;Xt.commonName="CN";Xt.C=ht.countryName;Xt.countryName="C";Xt.L=ht.localityName;Xt.localityName="L";Xt.ST=ht.stateOrProvinceName;Xt.stateOrProvinceName="ST";Xt.O=ht.organizationName;Xt.organizationName="O";Xt.OU=ht.organizationalUnitName;Xt.organizationalUnitName="OU";Xt.E=ht.emailAddress;Xt.emailAddress="E";var tp=Te.pki.rsa.publicKeyValidator,eb={name:"Certificate",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:U.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:U.Class.UNIVERSAL,type:U.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:U.Class.UNIVERSAL,type:U.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:U.Class.UNIVERSAL,type:U.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:U.Class.UNIVERSAL,type:U.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},tp,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:U.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:U.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:U.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:U.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},tb={name:"rsapss",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:U.Class.UNIVERSAL,type:U.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:U.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:U.Class.UNIVERSAL,type:U.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:U.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:U.Class.UNIVERSAL,type:U.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:U.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:U.Class.UNIVERSAL,type:U.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},rb={name:"CertificationRequestInfo",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},tp,{name:"CertificationRequestInfo.attributes",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:U.Class.UNIVERSAL,type:U.Type.SET,constructed:!0}]}]}]},nb={name:"CertificationRequest",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[rb,{name:"CertificationRequest.signatureAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:U.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};Se.RDNAttributesAsArray=function(t,e){for(var r=[],n,i,s,o=0;o<t.value.length;++o){n=t.value[o];for(var f=0;f<n.value.length;++f)s={},i=n.value[f],s.type=U.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in ht&&(s.name=ht[s.type],s.name in Xt&&(s.shortName=Xt[s.name])),e&&(e.update(s.type),e.update(s.value)),r.push(s)}return r};Se.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],i=U.derToOid(n.value[0].value),s=n.value[1].value,o=0;o<s.length;++o){var f={};if(f.type=i,f.value=s[o].value,f.valueTagClass=s[o].type,f.type in ht&&(f.name=ht[f.type],f.name in Xt&&(f.shortName=Xt[f.name])),f.type===ht.extensionRequest){f.extensions=[];for(var l=0;l<f.value.length;++l)f.extensions.push(Se.certificateExtensionFromAsn1(f.value[l]))}e.push(f)}return e};function yi(t,e){typeof e=="string"&&(e={shortName:e});for(var r=null,n,i=0;r===null&&i<t.attributes.length;++i)n=t.attributes[i],(e.type&&e.type===n.type||e.name&&e.name===n.name||e.shortName&&e.shortName===n.shortName)&&(r=n);return r}a(yi,"_getAttribute");var Ro=a(function(t,e,r){var n={};if(t!==ht["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:ht.sha1},mgf:{algorithmOid:ht.mgf1,hash:{algorithmOid:ht.sha1}},saltLength:20});var i={},s=[];if(!U.validate(e,tb,i,s)){var o=new Error("Cannot read RSASSA-PSS parameter block.");throw o.errors=s,o}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=U.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=U.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=U.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters");Se.certificateFromPem=function(t,e,r){var n=Te.pem.decode(t)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=U.fromDer(n.body,r);return Se.certificateFromAsn1(s,e)};Se.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:U.toDer(Se.certificateToAsn1(t)).getBytes()};return Te.pem.encode(r,{maxline:e})};Se.publicKeyFromPem=function(t){var e=Te.pem.decode(t)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=U.fromDer(e.body);return Se.publicKeyFromAsn1(n)};Se.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:U.toDer(Se.publicKeyToAsn1(t)).getBytes()};return Te.pem.encode(r,{maxline:e})};Se.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:U.toDer(Se.publicKeyToRSAPublicKey(t)).getBytes()};return Te.pem.encode(r,{maxline:e})};Se.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||Te.md.sha1.create(),n=e.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=U.toDer(Se.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":i=U.toDer(Se.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}r.start(),r.update(i);var s=r.digest();if(e.encoding==="hex"){var o=s.toHex();return e.delimiter?o.match(/.{2}/g).join(e.delimiter):o}else{if(e.encoding==="binary")return s.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return s};Se.certificationRequestFromPem=function(t,e,r){var n=Te.pem.decode(t)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=U.fromDer(n.body,r);return Se.certificationRequestFromAsn1(s,e)};Se.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:U.toDer(Se.certificationRequestToAsn1(t)).getBytes()};return Te.pem.encode(r,{maxline:e})};Se.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return yi(t.issuer,e)},t.issuer.addField=function(e){Zr([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return yi(t.subject,e)},t.subject.addField=function(e){Zr([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){Zr(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){Zr(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)rp(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var r=null,n,i=0;r===null&&i<t.extensions.length;++i)n=t.extensions[i],(e.id&&n.id===e.id||e.name&&n.name===e.name)&&(r=n);return r},t.sign=function(e,r){t.md=r||Te.md.sha1.create();var n=ht[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=Se.getTBSCertificate(t);var s=U.toDer(t.tbsCertificate);t.md.update(s.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,i=t.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=n.attributes,s.actualIssuer=i.attributes,s}var o=e.md;if(o===null){if(e.signatureOid in ht){var f=ht[e.signatureOid];switch(f){case"sha1WithRSAEncryption":o=Te.md.sha1.create();break;case"md5WithRSAEncryption":o=Te.md.md5.create();break;case"sha256WithRSAEncryption":o=Te.md.sha256.create();break;case"sha384WithRSAEncryption":o=Te.md.sha384.create();break;case"sha512WithRSAEncryption":o=Te.md.sha512.create();break;case"RSASSA-PSS":o=Te.md.sha256.create();break}}if(o===null){var s=new Error("Could not compute certificate digest. Unknown signature OID.");throw s.signatureOid=e.signatureOid,s}var l=e.tbsCertificate||Se.getTBSCertificate(e),d=U.toDer(l);o.update(d.getBytes())}if(o!==null){var p;switch(e.signatureOid){case ht.sha1WithRSAEncryption:p=void 0;break;case ht["RSASSA-PSS"]:var x,T;if(x=ht[e.signatureParameters.mgf.hash.algorithmOid],x===void 0||Te.md[x]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=e.signatureParameters.mgf.hash.algorithmOid,s.name=x,s}if(T=ht[e.signatureParameters.mgf.algorithmOid],T===void 0||Te.mgf[T]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=e.signatureParameters.mgf.algorithmOid,s.name=T,s}if(T=Te.mgf[T].create(Te.md[x].create()),x=ht[e.signatureParameters.hash.algorithmOid],x===void 0||Te.md[x]===void 0)throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:x};p=Te.pss.create(Te.md[x].create(),T,e.signatureParameters.saltLength);break}r=t.publicKey.verify(o.digest().getBytes(),e.signature,p)}return r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,o,f=0;r&&f<n.attributes.length;++f)s=n.attributes[f],o=i.attributes[f],(s.type!==o.type||s.value!==o.value)&&(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return Se.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=ht.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var i=t.generateSubjectKeyIdentifier().getBytes();return Te.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},t};Se.certificateFromAsn1=function(t,e){var r={},n=[];if(!U.validate(t,eb,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=U.derToOid(r.publicKeyOid);if(s!==Se.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=Se.createCertificate();o.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=Te.util.createBuffer(r.certSerialNumber);o.serialNumber=f.toHex(),o.signatureOid=Te.asn1.derToOid(r.certSignatureOid),o.signatureParameters=Ro(o.signatureOid,r.certSignatureParams,!0),o.siginfo.algorithmOid=Te.asn1.derToOid(r.certinfoSignatureOid),o.siginfo.parameters=Ro(o.siginfo.algorithmOid,r.certinfoSignatureParams,!1),o.signature=r.certSignature;var l=[];if(r.certValidity1UTCTime!==void 0&&l.push(U.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&l.push(U.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&l.push(U.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&l.push(U.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(o.validity.notBefore=l[0],o.validity.notAfter=l[1],o.tbsCertificate=r.tbsCertificate,e){if(o.md=null,o.signatureOid in ht){var s=ht[o.signatureOid];switch(s){case"sha1WithRSAEncryption":o.md=Te.md.sha1.create();break;case"md5WithRSAEncryption":o.md=Te.md.md5.create();break;case"sha256WithRSAEncryption":o.md=Te.md.sha256.create();break;case"sha384WithRSAEncryption":o.md=Te.md.sha384.create();break;case"sha512WithRSAEncryption":o.md=Te.md.sha512.create();break;case"RSASSA-PSS":o.md=Te.md.sha256.create();break}}if(o.md===null){var i=new Error("Could not compute certificate digest. Unknown signature OID.");throw i.signatureOid=o.signatureOid,i}var d=U.toDer(o.tbsCertificate);o.md.update(d.getBytes())}var p=Te.md.sha1.create();o.issuer.getField=function(T){return yi(o.issuer,T)},o.issuer.addField=function(T){Zr([T]),o.issuer.attributes.push(T)},o.issuer.attributes=Se.RDNAttributesAsArray(r.certIssuer,p),r.certIssuerUniqueId&&(o.issuer.uniqueId=r.certIssuerUniqueId),o.issuer.hash=p.digest().toHex();var x=Te.md.sha1.create();return o.subject.getField=function(T){return yi(o.subject,T)},o.subject.addField=function(T){Zr([T]),o.subject.attributes.push(T)},o.subject.attributes=Se.RDNAttributesAsArray(r.certSubject,x),r.certSubjectUniqueId&&(o.subject.uniqueId=r.certSubjectUniqueId),o.subject.hash=x.digest().toHex(),r.certExtensions?o.extensions=Se.certificateExtensionsFromAsn1(r.certExtensions):o.extensions=[],o.publicKey=Se.publicKeyFromAsn1(r.subjectPublicKeyInfo),o};Se.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(Se.certificateExtensionFromAsn1(n.value[i]));return e};Se.certificateExtensionFromAsn1=function(t){var e={};if(e.id=U.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===U.Type.BOOLEAN?(e.critical=t.value[1].value.charCodeAt(0)!==0,e.value=t.value[2].value):e.value=t.value[1].value,e.id in ht){if(e.name=ht[e.id],e.name==="keyUsage"){var r=U.fromDer(e.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=(n&128)===128,e.nonRepudiation=(n&64)===64,e.keyEncipherment=(n&32)===32,e.dataEncipherment=(n&16)===16,e.keyAgreement=(n&8)===8,e.keyCertSign=(n&4)===4,e.cRLSign=(n&2)===2,e.encipherOnly=(n&1)===1,e.decipherOnly=(i&128)===128}else if(e.name==="basicConstraints"){var r=U.fromDer(e.value);r.value.length>0&&r.value[0].type===U.Type.BOOLEAN?e.cA=r.value[0].value.charCodeAt(0)!==0:e.cA=!1;var s=null;r.value.length>0&&r.value[0].type===U.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(e.pathLenConstraint=U.derToInteger(s))}else if(e.name==="extKeyUsage")for(var r=U.fromDer(e.value),o=0;o<r.value.length;++o){var f=U.derToOid(r.value[o].value);f in ht?e[ht[f]]=!0:e[f]=!0}else if(e.name==="nsCertType"){var r=U.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=(n&128)===128,e.server=(n&64)===64,e.email=(n&32)===32,e.objsign=(n&16)===16,e.reserved=(n&8)===8,e.sslCA=(n&4)===4,e.emailCA=(n&2)===2,e.objCA=(n&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var l,r=U.fromDer(e.value),d=0;d<r.value.length;++d){l=r.value[d];var p={type:l.type,value:l.value};switch(e.altNames.push(p),l.type){case 1:case 2:case 6:break;case 7:p.ip=Te.util.bytesToIP(l.value);break;case 8:p.oid=U.derToOid(l.value);break}}}else if(e.name==="subjectKeyIdentifier"){var r=U.fromDer(e.value);e.subjectKeyIdentifier=Te.util.bytesToHex(r.value)}}return e};Se.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!U.validate(t,nb,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=U.derToOid(r.publicKeyOid);if(s!==Se.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=Se.createCertificationRequest();if(o.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,o.signatureOid=Te.asn1.derToOid(r.csrSignatureOid),o.signatureParameters=Ro(o.signatureOid,r.csrSignatureParams,!0),o.siginfo.algorithmOid=Te.asn1.derToOid(r.csrSignatureOid),o.siginfo.parameters=Ro(o.siginfo.algorithmOid,r.csrSignatureParams,!1),o.signature=r.csrSignature,o.certificationRequestInfo=r.certificationRequestInfo,e){if(o.md=null,o.signatureOid in ht){var s=ht[o.signatureOid];switch(s){case"sha1WithRSAEncryption":o.md=Te.md.sha1.create();break;case"md5WithRSAEncryption":o.md=Te.md.md5.create();break;case"sha256WithRSAEncryption":o.md=Te.md.sha256.create();break;case"sha384WithRSAEncryption":o.md=Te.md.sha384.create();break;case"sha512WithRSAEncryption":o.md=Te.md.sha512.create();break;case"RSASSA-PSS":o.md=Te.md.sha256.create();break}}if(o.md===null){var i=new Error("Could not compute certification request digest. Unknown signature OID.");throw i.signatureOid=o.signatureOid,i}var f=U.toDer(o.certificationRequestInfo);o.md.update(f.getBytes())}var l=Te.md.sha1.create();return o.subject.getField=function(d){return yi(o.subject,d)},o.subject.addField=function(d){Zr([d]),o.subject.attributes.push(d)},o.subject.attributes=Se.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),o.subject.hash=l.digest().toHex(),o.publicKey=Se.publicKeyFromAsn1(r.subjectPublicKeyInfo),o.getAttribute=function(d){return yi(o,d)},o.addAttribute=function(d){Zr([d]),o.attributes.push(d)},o.attributes=Se.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),o};Se.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return yi(t.subject,e)},t.subject.addField=function(e){Zr([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return yi(t,e)},t.addAttribute=function(e){Zr([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){Zr(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){Zr(e),t.attributes=e},t.sign=function(e,r){t.md=r||Te.md.sha1.create();var n=ht[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=Se.getCertificationRequestInfo(t);var s=U.toDer(t.certificationRequestInfo);t.md.update(s.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(r===null){if(t.signatureOid in ht){var n=ht[t.signatureOid];switch(n){case"sha1WithRSAEncryption":r=Te.md.sha1.create();break;case"md5WithRSAEncryption":r=Te.md.md5.create();break;case"sha256WithRSAEncryption":r=Te.md.sha256.create();break;case"sha384WithRSAEncryption":r=Te.md.sha384.create();break;case"sha512WithRSAEncryption":r=Te.md.sha512.create();break;case"RSASSA-PSS":r=Te.md.sha256.create();break}}if(r===null){var i=new Error("Could not compute certification request digest. Unknown signature OID.");throw i.signatureOid=t.signatureOid,i}var s=t.certificationRequestInfo||Se.getCertificationRequestInfo(t),o=U.toDer(s);r.update(o.getBytes())}if(r!==null){var f;switch(t.signatureOid){case ht.sha1WithRSAEncryption:break;case ht["RSASSA-PSS"]:var l,d;if(l=ht[t.signatureParameters.mgf.hash.algorithmOid],l===void 0||Te.md[l]===void 0){var i=new Error("Unsupported MGF hash function.");throw i.oid=t.signatureParameters.mgf.hash.algorithmOid,i.name=l,i}if(d=ht[t.signatureParameters.mgf.algorithmOid],d===void 0||Te.mgf[d]===void 0){var i=new Error("Unsupported MGF function.");throw i.oid=t.signatureParameters.mgf.algorithmOid,i.name=d,i}if(d=Te.mgf[d].create(Te.md[l].create()),l=ht[t.signatureParameters.hash.algorithmOid],l===void 0||Te.md[l]===void 0){var i=new Error("Unsupported RSASSA-PSS hash function.");throw i.oid=t.signatureParameters.hash.algorithmOid,i.name=l,i}f=Te.pss.create(Te.md[l].create(),d,t.signatureParameters.saltLength);break}e=t.publicKey.verify(r.digest().getBytes(),t.signature,f)}return e},t};function gs(t){for(var e=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]),r,n,i=t.attributes,s=0;s<i.length;++s){r=i[s];var o=r.value,f=U.Type.PRINTABLESTRING;"valueTagClass"in r&&(f=r.valueTagClass,f===U.Type.UTF8&&(o=Te.util.encodeUtf8(o))),n=U.create(U.Class.UNIVERSAL,U.Type.SET,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(r.type).getBytes()),U.create(U.Class.UNIVERSAL,f,!1,o)])]),e.value.push(n)}return e}a(gs,"_dnToAsn1");function Zr(t){for(var e,r=0;r<t.length;++r){if(e=t[r],typeof e.name>"u"&&(e.type&&e.type in Se.oids?e.name=Se.oids[e.type]:e.shortName&&e.shortName in Xt&&(e.name=Se.oids[Xt[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in Se.oids)e.type=Se.oids[e.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=e,n}if(typeof e.shortName>"u"&&e.name&&e.name in Xt&&(e.shortName=Xt[e.name]),e.type===ht.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=U.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var i=0;i<e.extensions.length;++i)e.value.push(Se.certificateExtensionToAsn1(rp(e.extensions[i])))}if(typeof e.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}a(Zr,"_fillMissingFields");function rp(t,e){if(e=e||{},typeof t.name>"u"&&t.id&&t.id in Se.oids&&(t.name=Se.oids[t.id]),typeof t.id>"u")if(t.name&&t.name in Se.oids)t.id=Se.oids[t.name];else{var r=new Error("Extension ID not specified.");throw r.extension=t,r}if(typeof t.value<"u")return t;if(t.name==="keyUsage"){var n=0,i=0,s=0;t.digitalSignature&&(i|=128,n=7),t.nonRepudiation&&(i|=64,n=6),t.keyEncipherment&&(i|=32,n=5),t.dataEncipherment&&(i|=16,n=4),t.keyAgreement&&(i|=8,n=3),t.keyCertSign&&(i|=4,n=2),t.cRLSign&&(i|=2,n=1),t.encipherOnly&&(i|=1,n=0),t.decipherOnly&&(s|=128,n=7);var o=String.fromCharCode(n);s!==0?o+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(o+=String.fromCharCode(i)),t.value=U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,o)}else if(t.name==="basicConstraints")t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(U.create(U.Class.UNIVERSAL,U.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in t&&t.value.value.push(U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.pathLenConstraint).getBytes()));else if(t.name==="extKeyUsage"){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);var f=t.value.value;for(var l in t)t[l]===!0&&(l in ht?f.push(U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(ht[l]).getBytes())):l.indexOf(".")!==-1&&f.push(U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(l).getBytes())))}else if(t.name==="nsCertType"){var n=0,i=0;t.client&&(i|=128,n=7),t.server&&(i|=64,n=6),t.email&&(i|=32,n=5),t.objsign&&(i|=16,n=4),t.reserved&&(i|=8,n=3),t.sslCA&&(i|=4,n=2),t.emailCA&&(i|=2,n=1),t.objCA&&(i|=1,n=0);var o=String.fromCharCode(n);i!==0&&(o+=String.fromCharCode(i)),t.value=U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,o)}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);for(var d,p=0;p<t.altNames.length;++p){d=t.altNames[p];var o=d.value;if(d.type===7&&d.ip){if(o=Te.util.bytesFromIP(d.ip),o===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else d.type===8&&(d.oid?o=U.oidToDer(U.oidToDer(d.oid)):o=U.oidToDer(o));t.value.value.push(U.create(U.Class.CONTEXT_SPECIFIC,d.type,!1,o))}}else if(t.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=U.create(U.Class.UNIVERSAL,U.Type.IA5STRING,!1,t.comment)}else if(t.name==="subjectKeyIdentifier"&&e.cert){var x=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=x.toHex(),t.value=U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,x.getBytes())}else if(t.name==="authorityKeyIdentifier"&&e.cert){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);var f=t.value.value;if(t.keyIdentifier){var T=t.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;f.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!1,T))}if(t.authorityCertIssuer){var R=[U.create(U.Class.CONTEXT_SPECIFIC,4,!0,[gs(t.authorityCertIssuer===!0?e.cert.issuer:t.authorityCertIssuer)])];f.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,R))}if(t.serialNumber){var N=Te.util.hexToBytes(t.serialNumber===!0?e.cert.serialNumber:t.serialNumber);f.push(U.create(U.Class.CONTEXT_SPECIFIC,2,!1,N))}}else if(t.name==="cRLDistributionPoints"){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);for(var f=t.value.value,O=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]),B=U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[]),d,p=0;p<t.altNames.length;++p){d=t.altNames[p];var o=d.value;if(d.type===7&&d.ip){if(o=Te.util.bytesFromIP(d.ip),o===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else d.type===8&&(d.oid?o=U.oidToDer(U.oidToDer(d.oid)):o=U.oidToDer(o));B.value.push(U.create(U.Class.CONTEXT_SPECIFIC,d.type,!1,o))}O.value.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[B])),f.push(O)}if(typeof t.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}a(rp,"_fillMissingExtensionFields");function Bl(t,e){switch(t){case ht["RSASSA-PSS"]:var r=[];return e.hash.algorithmOid!==void 0&&r.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.hash.algorithmOid).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&r.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.mgf.algorithmOid).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.mgf.hash.algorithmOid).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&r.push(U.create(U.Class.CONTEXT_SPECIFIC,2,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(e.saltLength).getBytes())])),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,r);default:return U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")}}a(Bl,"_signatureParametersToAsn1");function ib(t){var e=U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[]);if(t.attributes.length===0)return e;for(var r=t.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,o=U.Type.UTF8;"valueTagClass"in i&&(o=i.valueTagClass),o===U.Type.UTF8&&(s=Te.util.encodeUtf8(s));var f=!1;"valueConstructed"in i&&(f=i.valueConstructed);var l=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(i.type).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SET,!0,[U.create(U.Class.UNIVERSAL,o,f,s)])]);e.value.push(l)}return e}a(ib,"_CRIAttributesToAsn1");var sb=new Date("1950-01-01T00:00:00Z"),ab=new Date("2050-01-01T00:00:00Z");function fh(t){return t>=sb&&t<ab?U.create(U.Class.UNIVERSAL,U.Type.UTCTIME,!1,U.dateToUtcTime(t)):U.create(U.Class.UNIVERSAL,U.Type.GENERALIZEDTIME,!1,U.dateToGeneralizedTime(t))}a(fh,"_dateToAsn1");Se.getTBSCertificate=function(t){var e=fh(t.validity.notBefore),r=fh(t.validity.notAfter),n=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.version).getBytes())]),U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,Te.util.hexToBytes(t.serialNumber)),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.siginfo.algorithmOid).getBytes()),Bl(t.siginfo.algorithmOid,t.siginfo.parameters)]),gs(t.issuer),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[e,r]),gs(t.subject),Se.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,[U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,String.fromCharCode(0)+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(U.create(U.Class.CONTEXT_SPECIFIC,2,!0,[U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,String.fromCharCode(0)+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(Se.certificateExtensionsToAsn1(t.extensions)),n};Se.getCertificationRequestInfo=function(t){var e=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.version).getBytes()),gs(t.subject),Se.publicKeyToAsn1(t.publicKey),ib(t)]);return e};Se.distinguishedNameToAsn1=function(t){return gs(t)};Se.certificateToAsn1=function(t){var e=t.tbsCertificate||Se.getTBSCertificate(t);return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[e,U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.signatureOid).getBytes()),Bl(t.signatureOid,t.signatureParameters)]),U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])};Se.certificateExtensionsToAsn1=function(t){var e=U.create(U.Class.CONTEXT_SPECIFIC,3,!0,[]),r=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(Se.certificateExtensionToAsn1(t[n]));return e};Se.certificateExtensionToAsn1=function(t){var e=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);e.value.push(U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.id).getBytes())),t.critical&&e.value.push(U.create(U.Class.UNIVERSAL,U.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=t.value;return typeof t.value!="string"&&(r=U.toDer(r).getBytes()),e.value.push(U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,r)),e};Se.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||Se.getCertificationRequestInfo(t);return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[e,U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.signatureOid).getBytes()),Bl(t.signatureOid,t.signatureParameters)]),U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])};Se.createCaStore=function(t){var e={certs:{}};e.getIssuer=function(o){var f=r(o.issuer);return f},e.addCertificate=function(o){if(typeof o=="string"&&(o=Te.pki.certificateFromPem(o)),n(o.subject),!e.hasCertificate(o))if(o.subject.hash in e.certs){var f=e.certs[o.subject.hash];Te.util.isArray(f)||(f=[f]),f.push(o),e.certs[o.subject.hash]=f}else e.certs[o.subject.hash]=o},e.hasCertificate=function(o){typeof o=="string"&&(o=Te.pki.certificateFromPem(o));var f=r(o.subject);if(!f)return!1;Te.util.isArray(f)||(f=[f]);for(var l=U.toDer(Se.certificateToAsn1(o)).getBytes(),d=0;d<f.length;++d){var p=U.toDer(Se.certificateToAsn1(f[d])).getBytes();if(l===p)return!0}return!1},e.listAllCertificates=function(){var o=[];for(var f in e.certs)if(e.certs.hasOwnProperty(f)){var l=e.certs[f];if(!Te.util.isArray(l))o.push(l);else for(var d=0;d<l.length;++d)o.push(l[d])}return o},e.removeCertificate=function(o){var f;if(typeof o=="string"&&(o=Te.pki.certificateFromPem(o)),n(o.subject),!e.hasCertificate(o))return null;var l=r(o.subject);if(!Te.util.isArray(l))return f=e.certs[o.subject.hash],delete e.certs[o.subject.hash],f;for(var d=U.toDer(Se.certificateToAsn1(o)).getBytes(),p=0;p<l.length;++p){var x=U.toDer(Se.certificateToAsn1(l[p])).getBytes();d===x&&(f=l[p],l.splice(p,1))}return l.length===0&&delete e.certs[o.subject.hash],f};function r(o){return n(o),e.certs[o.hash]||null}a(r,"getBySubject");function n(o){if(!o.hash){var f=Te.md.sha1.create();o.attributes=Se.RDNAttributesAsArray(gs(o),f),o.hash=f.digest().toHex()}}if(a(n,"ensureSubjectHasHash"),t)for(var i=0;i<t.length;++i){var s=t[i];e.addCertificate(s)}return e};Se.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};Se.verifyCertificateChain=function(t,e,r){typeof r=="function"&&(r={verify:r}),r=r||{},e=e.slice(0);var n=e.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,o=null,f=0;do{var l=e.shift(),d=null,p=!1;if(i&&(i<l.validity.notBefore||i>l.validity.notAfter)&&(o={message:"Certificate is not valid yet or has expired.",error:Se.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:i}),o===null){if(d=e[0]||t.getIssuer(l),d===null&&l.isIssuer(l)&&(p=!0,d=l),d){var x=d;Te.util.isArray(x)||(x=[x]);for(var T=!1;!T&&x.length>0;){d=x.shift();try{T=d.verify(l)}catch{}}T||(o={message:"Certificate signature is invalid.",error:Se.certificateError.bad_certificate})}o===null&&(!d||p)&&!t.hasCertificate(l)&&(o={message:"Certificate is not trusted.",error:Se.certificateError.unknown_ca})}if(o===null&&d&&!l.isIssuer(d)&&(o={message:"Certificate issuer is invalid.",error:Se.certificateError.bad_certificate}),o===null)for(var R={keyUsage:!0,basicConstraints:!0},N=0;o===null&&N<l.extensions.length;++N){var O=l.extensions[N];O.critical&&!(O.name in R)&&(o={message:"Certificate has an unsupported critical extension.",error:Se.certificateError.unsupported_certificate})}if(o===null&&(!s||e.length===0&&(!d||p))){var B=l.getExtension("basicConstraints"),k=l.getExtension("keyUsage");if(k!==null&&(!k.keyCertSign||B===null)&&(o={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:Se.certificateError.bad_certificate}),o===null&&B!==null&&!B.cA&&(o={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:Se.certificateError.bad_certificate}),o===null&&k!==null&&"pathLenConstraint"in B){var L=f-1;L>B.pathLenConstraint&&(o={message:"Certificate basicConstraints pathLenConstraint violated.",error:Se.certificateError.bad_certificate})}}var D=o===null?!0:o.error,H=r.verify?r.verify(D,f,n):D;if(H===!0)o=null;else throw D===!0&&(o={message:"The application rejected the certificate.",error:Se.certificateError.bad_certificate}),(H||H===0)&&(typeof H=="object"&&!Te.util.isArray(H)?(H.message&&(o.message=H.message),H.error&&(o.error=H.error)):typeof H=="string"&&(o.error=H)),o;s=!1,++f}while(e.length>0);return!0};var Ut=Rt,Y=Ut.asn1,bt=Ut.pki,Ea=Ut.pkcs12=Ut.pkcs12||{},np={name:"ContentInfo",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Y.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},ob={name:"PFX",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:Y.Class.UNIVERSAL,type:Y.Type.INTEGER,constructed:!1,capture:"version"},np,{name:"PFX.macData",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:Y.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:Y.Class.UNIVERSAL,type:Y.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},fb={name:"SafeBag",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:Y.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},ub={name:"Attribute",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SET,constructed:!0,capture:"values"}]},lb={name:"CertBag",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:Y.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:Y.Class.UNIVERSAL,type:Y.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function ta(t,e,r,n){for(var i=[],s=0;s<t.length;s++)for(var o=0;o<t[s].safeBags.length;o++){var f=t[s].safeBags[o];if(!(n!==void 0&&f.type!==n)){if(e===null){i.push(f);continue}f.attributes[e]!==void 0&&f.attributes[e].indexOf(r)>=0&&i.push(f)}}return i}a(ta,"_getBagsByAttribute");Ea.pkcs12FromAsn1=function(t,e,r){typeof e=="string"?(r=e,e=!0):e===void 0&&(e=!0);var n={},i=[];if(!Y.validate(t,ob,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var o={version:n.version.charCodeAt(0),safeContents:[],getBags:function(B){var k={},L;return"localKeyId"in B?L=B.localKeyId:"localKeyIdHex"in B&&(L=Ut.util.hexToBytes(B.localKeyIdHex)),L===void 0&&!("friendlyName"in B)&&"bagType"in B&&(k[B.bagType]=ta(o.safeContents,null,null,B.bagType)),L!==void 0&&(k.localKeyId=ta(o.safeContents,"localKeyId",L,B.bagType)),"friendlyName"in B&&(k.friendlyName=ta(o.safeContents,"friendlyName",B.friendlyName,B.bagType)),k},getBagsByFriendlyName:function(B,k){return ta(o.safeContents,"friendlyName",B,k)},getBagsByLocalKeyId:function(B,k){return ta(o.safeContents,"localKeyId",B,k)}};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(Y.derToOid(n.contentType)!==bt.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=Y.derToOid(n.contentType),s}var f=n.content.value[0];if(f.tagClass!==Y.Class.UNIVERSAL||f.type!==Y.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(f=kl(f),n.mac){var l=null,d=0,p=Y.derToOid(n.macAlgorithm);switch(p){case bt.oids.sha1:l=Ut.md.sha1.create(),d=20;break;case bt.oids.sha256:l=Ut.md.sha256.create(),d=32;break;case bt.oids.sha384:l=Ut.md.sha384.create(),d=48;break;case bt.oids.sha512:l=Ut.md.sha512.create(),d=64;break;case bt.oids.md5:l=Ut.md.md5.create(),d=16;break}if(l===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+p);var x=new Ut.util.ByteBuffer(n.macSalt),T="macIterations"in n?parseInt(Ut.util.bytesToHex(n.macIterations),16):1,R=Ea.generateKey(r,x,3,T,d,l),N=Ut.hmac.create();N.start(l,R),N.update(f.value);var O=N.getMac();if(O.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return hb(o,f.value,e,r),o};function kl(t){if(t.composed||t.constructed){for(var e=Ut.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}a(kl,"_decodePkcs7Data");function hb(t,e,r,n){if(e=Y.fromDer(e,r),e.tagClass!==Y.Class.UNIVERSAL||e.type!==Y.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<e.value.length;i++){var s=e.value[i],o={},f=[];if(!Y.validate(s,np,o,f)){var l=new Error("Cannot read ContentInfo.");throw l.errors=f,l}var d={encrypted:!1},p=null,x=o.content.value[0];switch(Y.derToOid(o.contentType)){case bt.oids.data:if(x.tagClass!==Y.Class.UNIVERSAL||x.type!==Y.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");p=kl(x).value;break;case bt.oids.encryptedData:p=cb(x,n),d.encrypted=!0;break;default:var l=new Error("Unsupported PKCS#12 contentType.");throw l.contentType=Y.derToOid(o.contentType),l}d.safeBags=db(p,r,n),t.safeContents.push(d)}}a(hb,"_decodeAuthenticatedSafe");function cb(t,e){var r={},n=[];if(!Y.validate(t,Ut.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=Y.derToOid(r.contentType);if(s!==bt.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=Y.derToOid(r.encAlgorithm);var o=bt.pbe.getCipher(s,r.encParameter,e),f=kl(r.encryptedContentAsn1),l=Ut.util.createBuffer(f.value);if(o.update(l),!o.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return o.output.getBytes()}a(cb,"_decryptSafeContents");function db(t,e,r){if(!e&&t.length===0)return[];if(t=Y.fromDer(t,e),t.tagClass!==Y.Class.UNIVERSAL||t.type!==Y.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<t.value.length;i++){var s=t.value[i],o={},f=[];if(!Y.validate(s,fb,o,f)){var l=new Error("Cannot read SafeBag.");throw l.errors=f,l}var d={type:Y.derToOid(o.bagId),attributes:pb(o.bagAttributes)};n.push(d);var p,x,T=o.bagValue.value[0];switch(d.type){case bt.oids.pkcs8ShroudedKeyBag:if(T=bt.decryptPrivateKeyInfo(T,r),T===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case bt.oids.keyBag:try{d.key=bt.privateKeyFromAsn1(T)}catch{d.key=null,d.asn1=T}continue;case bt.oids.certBag:p=lb,x=a(function(){if(Y.derToOid(o.certId)!==bt.oids.x509Certificate){var N=new Error("Unsupported certificate type, only X.509 supported.");throw N.oid=Y.derToOid(o.certId),N}var O=Y.fromDer(o.cert,e);try{d.cert=bt.certificateFromAsn1(O,!0)}catch{d.cert=null,d.asn1=O}},"decoder");break;default:var l=new Error("Unsupported PKCS#12 SafeBag type.");throw l.oid=d.type,l}if(p!==void 0&&!Y.validate(T,p,o,f)){var l=new Error("Cannot read PKCS#12 "+p.name);throw l.errors=f,l}x()}return n}a(db,"_decodeSafeContents");function pb(t){var e={};if(t!==void 0)for(var r=0;r<t.length;++r){var n={},i=[];if(!Y.validate(t[r],ub,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var o=Y.derToOid(n.oid);if(bt.oids[o]!==void 0){e[bt.oids[o]]=[];for(var f=0;f<n.values.length;++f)e[bt.oids[o]].push(n.values[f].value)}}return e}a(pb,"_decodeBagAttributes");Ea.toPkcs12Asn1=function(t,e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=Ut.util.hexToBytes(i);else if(n.generateLocalKeyId)if(e){var o=Ut.util.isArray(e)?e[0]:e;typeof o=="string"&&(o=bt.certificateFromPem(o));var f=Ut.md.sha1.create();f.update(Y.toDer(bt.certificateToAsn1(o)).getBytes()),i=f.digest().getBytes()}else i=Ut.random.getBytes(20);var l=[];i!==null&&l.push(Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(bt.oids.localKeyId).getBytes()),Y.create(Y.Class.UNIVERSAL,Y.Type.SET,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&l.push(Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(bt.oids.friendlyName).getBytes()),Y.create(Y.Class.UNIVERSAL,Y.Type.SET,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.BMPSTRING,!1,n.friendlyName)])])),l.length>0&&(s=Y.create(Y.Class.UNIVERSAL,Y.Type.SET,!0,l));var d=[],p=[];e!==null&&(Ut.util.isArray(e)?p=e:p=[e]);for(var x=[],T=0;T<p.length;++T){e=p[T],typeof e=="string"&&(e=bt.certificateFromPem(e));var R=T===0?s:void 0,N=bt.certificateToAsn1(e),O=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(bt.oids.certBag).getBytes()),Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(bt.oids.x509Certificate).getBytes()),Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OCTETSTRING,!1,Y.toDer(N).getBytes())])])]),R]);x.push(O)}if(x.length>0){var B=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,x),k=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(bt.oids.data).getBytes()),Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OCTETSTRING,!1,Y.toDer(B).getBytes())])]);d.push(k)}var L=null;if(t!==null){var D=bt.wrapRsaPrivateKey(bt.privateKeyToAsn1(t));r===null?L=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(bt.oids.keyBag).getBytes()),Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[D]),s]):L=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(bt.oids.pkcs8ShroudedKeyBag).getBytes()),Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[bt.encryptPrivateKeyInfo(D,r,n)]),s]);var H=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[L]),K=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(bt.oids.data).getBytes()),Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OCTETSTRING,!1,Y.toDer(H).getBytes())])]);d.push(K)}var j=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,d),ie;if(n.useMac){var f=Ut.md.sha1.create(),J=new Ut.util.ByteBuffer(Ut.random.getBytes(n.saltSize)),ue=n.count,t=Ea.generateKey(r,J,3,ue,20),P=Ut.hmac.create();P.start(f,t),P.update(Y.toDer(j).getBytes());var b=P.getMac();ie=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(bt.oids.sha1).getBytes()),Y.create(Y.Class.UNIVERSAL,Y.Type.NULL,!1,"")]),Y.create(Y.Class.UNIVERSAL,Y.Type.OCTETSTRING,!1,b.getBytes())]),Y.create(Y.Class.UNIVERSAL,Y.Type.OCTETSTRING,!1,J.getBytes()),Y.create(Y.Class.UNIVERSAL,Y.Type.INTEGER,!1,Y.integerToDer(ue).getBytes())])}return Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.INTEGER,!1,Y.integerToDer(3).getBytes()),Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(bt.oids.data).getBytes()),Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OCTETSTRING,!1,Y.toDer(j).getBytes())])]),ie])};Ea.generateKey=Ut.pbe.generatePkcs12Key;var wi=Rt,Pl=wi.asn1,vs=wi.pki=wi.pki||{};vs.pemToDer=function(t){var e=wi.pem.decode(t)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return wi.util.createBuffer(e.body)};vs.privateKeyFromPem=function(t){var e=wi.pem.decode(t)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=Pl.fromDer(e.body);return vs.privateKeyFromAsn1(n)};vs.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:Pl.toDer(vs.privateKeyToAsn1(t)).getBytes()};return wi.pem.encode(r,{maxline:e})};vs.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:Pl.toDer(t).getBytes()};return wi.pem.encode(r,{maxline:e})};var Kt=Rt,Da=Kt.sha512=Kt.sha512||{};Kt.md.sha512=Kt.md.algorithms.sha512=Da;var ip=Kt.sha384=Kt.sha512.sha384=Kt.sha512.sha384||{};ip.create=function(){return Da.create("SHA-384")};Kt.md.sha384=Kt.md.algorithms.sha384=ip;Kt.sha512.sha256=Kt.sha512.sha256||{create:function(){return Da.create("SHA-512/256")}};Kt.md["sha512/256"]=Kt.md.algorithms["sha512/256"]=Kt.sha512.sha256;Kt.sha512.sha224=Kt.sha512.sha224||{create:function(){return Da.create("SHA-512/224")}};Kt.md["sha512/224"]=Kt.md.algorithms["sha512/224"]=Kt.sha512.sha224;Da.create=function(t){if(sp||gb(),typeof t>"u"&&(t="SHA-512"),!(t in ki))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=ki[t],r=null,n=Kt.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var o=64;switch(t){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var f={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var l=f.messageLengthSize/4,d=0;d<l;++d)f.fullMessageLength.push(0);n=Kt.util.createBuffer(),r=new Array(e.length);for(var d=0;d<e.length;++d)r[d]=e[d].slice(0);return f},f.start(),f.update=function(l,d){d==="utf8"&&(l=Kt.util.encodeUtf8(l));var p=l.length;f.messageLength+=p,p=[p/4294967296>>>0,p>>>0];for(var x=f.fullMessageLength.length-1;x>=0;--x)f.fullMessageLength[x]+=p[1],p[1]=p[0]+(f.fullMessageLength[x]/4294967296>>>0),f.fullMessageLength[x]=f.fullMessageLength[x]>>>0,p[0]=p[1]/4294967296>>>0;return n.putBytes(l),uh(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),f},f.digest=function(){var l=Kt.util.createBuffer();l.putBytes(n.bytes());var d=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,p=d&f.blockLength-1;l.putBytes(Ou.substr(0,f.blockLength-p));for(var x,T,R=f.fullMessageLength[0]*8,N=0;N<f.fullMessageLength.length-1;++N)x=f.fullMessageLength[N+1]*8,T=x/4294967296>>>0,R+=T,l.putInt32(R>>>0),R=x>>>0;l.putInt32(R);for(var O=new Array(r.length),N=0;N<r.length;++N)O[N]=r[N].slice(0);uh(O,i,l);var B=Kt.util.createBuffer(),k;t==="SHA-512"?k=O.length:t==="SHA-384"?k=O.length-2:k=O.length-4;for(var N=0;N<k;++N)B.putInt32(O[N][0]),(N!==k-1||t!=="SHA-512/224")&&B.putInt32(O[N][1]);return B},f};var Ou=null,sp=!1,Lu=null,ki=null;function gb(){Ou=String.fromCharCode(128),Ou+=Kt.util.fillString(String.fromCharCode(0),128),Lu=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],ki={},ki["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],ki["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],ki["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],ki["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],sp=!0}a(gb,"_init");function uh(t,e,r){for(var n,i,s,o,f,l,d,p,x,T,R,N,O,B,k,L,D,H,K,j,ie,J,ue,P,b,S,m,u,c,v,y,E,g,_,w,h=r.length();h>=128;){for(c=0;c<16;++c)e[c][0]=r.getInt32()>>>0,e[c][1]=r.getInt32()>>>0;for(;c<80;++c)E=e[c-2],v=E[0],y=E[1],n=((v>>>19|y<<13)^(y>>>29|v<<3)^v>>>6)>>>0,i=((v<<13|y>>>19)^(y<<3|v>>>29)^(v<<26|y>>>6))>>>0,_=e[c-15],v=_[0],y=_[1],s=((v>>>1|y<<31)^(v>>>8|y<<24)^v>>>7)>>>0,o=((v<<31|y>>>1)^(v<<24|y>>>8)^(v<<25|y>>>7))>>>0,g=e[c-7],w=e[c-16],y=i+g[1]+o+w[1],e[c][0]=n+g[0]+s+w[0]+(y/4294967296>>>0)>>>0,e[c][1]=y>>>0;for(O=t[0][0],B=t[0][1],k=t[1][0],L=t[1][1],D=t[2][0],H=t[2][1],K=t[3][0],j=t[3][1],ie=t[4][0],J=t[4][1],ue=t[5][0],P=t[5][1],b=t[6][0],S=t[6][1],m=t[7][0],u=t[7][1],c=0;c<80;++c)d=((ie>>>14|J<<18)^(ie>>>18|J<<14)^(J>>>9|ie<<23))>>>0,p=((ie<<18|J>>>14)^(ie<<14|J>>>18)^(J<<23|ie>>>9))>>>0,x=(b^ie&(ue^b))>>>0,T=(S^J&(P^S))>>>0,f=((O>>>28|B<<4)^(B>>>2|O<<30)^(B>>>7|O<<25))>>>0,l=((O<<4|B>>>28)^(B<<30|O>>>2)^(B<<25|O>>>7))>>>0,R=(O&k|D&(O^k))>>>0,N=(B&L|H&(B^L))>>>0,y=u+p+T+Lu[c][1]+e[c][1],n=m+d+x+Lu[c][0]+e[c][0]+(y/4294967296>>>0)>>>0,i=y>>>0,y=l+N,s=f+R+(y/4294967296>>>0)>>>0,o=y>>>0,m=b,u=S,b=ue,S=P,ue=ie,P=J,y=j+i,ie=K+n+(y/4294967296>>>0)>>>0,J=y>>>0,K=D,j=H,D=k,H=L,k=O,L=B,y=i+o,O=n+s+(y/4294967296>>>0)>>>0,B=y>>>0;y=t[0][1]+B,t[0][0]=t[0][0]+O+(y/4294967296>>>0)>>>0,t[0][1]=y>>>0,y=t[1][1]+L,t[1][0]=t[1][0]+k+(y/4294967296>>>0)>>>0,t[1][1]=y>>>0,y=t[2][1]+H,t[2][0]=t[2][0]+D+(y/4294967296>>>0)>>>0,t[2][1]=y>>>0,y=t[3][1]+j,t[3][0]=t[3][0]+K+(y/4294967296>>>0)>>>0,t[3][1]=y>>>0,y=t[4][1]+J,t[4][0]=t[4][0]+ie+(y/4294967296>>>0)>>>0,t[4][1]=y>>>0,y=t[5][1]+P,t[5][0]=t[5][0]+ue+(y/4294967296>>>0)>>>0,t[5][1]=y>>>0,y=t[6][1]+S,t[6][0]=t[6][0]+b+(y/4294967296>>>0)>>>0,t[6][1]=y>>>0,y=t[7][1]+u,t[7][0]=t[7][0]+m+(y/4294967296>>>0)>>>0,t[7][1]=y>>>0,h-=128}}a(uh,"_update");var Ol={},vb=Rt,hr=vb.asn1;Ol.privateKeyValidator={name:"PrivateKeyInfo",tagClass:hr.Class.UNIVERSAL,type:hr.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:hr.Class.UNIVERSAL,type:hr.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:hr.Class.UNIVERSAL,type:hr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:hr.Class.UNIVERSAL,type:hr.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:hr.Class.UNIVERSAL,type:hr.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Ol.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:hr.Class.UNIVERSAL,type:hr.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:hr.Class.UNIVERSAL,type:hr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:hr.Class.UNIVERSAL,type:hr.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:hr.Class.UNIVERSAL,type:hr.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]};var mr=Rt,ap=Ol,mb=ap.publicKeyValidator,yb=ap.privateKeyValidator;if(typeof wb>"u")var wb=mr.jsbn.BigInteger;var Uu=mr.util.ByteBuffer,Fr=typeof Buffer>"u"?Uint8Array:Buffer;mr.pki=mr.pki||{};var bb=mr.pki.ed25519=mr.ed25519=mr.ed25519||{},xt=mr.ed25519;xt.constants={};xt.constants.PUBLIC_KEY_BYTE_LENGTH=32;xt.constants.PRIVATE_KEY_BYTE_LENGTH=64;xt.constants.SEED_BYTE_LENGTH=32;xt.constants.SIGN_BYTE_LENGTH=64;xt.constants.HASH_BYTE_LENGTH=64;xt.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=mr.random.getBytesSync(xt.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==xt.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+xt.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=ri({message:e,encoding:"binary"});for(var r=new Fr(xt.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Fr(xt.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=e[i];return Ab(r,n),{publicKey:r,privateKey:n}};xt.privateKeyFromAsn1=function(t){var e={},r=[],n=mr.asn1.validate(t,yb,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=mr.asn1.derToOid(e.privateKeyOid),o=mr.oids.EdDSA25519;if(s!==o)throw new Error('Invalid OID "'+s+'"; OID must be "'+o+'".');var f=e.privateKey,l=ri({message:mr.asn1.fromDer(f).value,encoding:"binary"});return{privateKeyBytes:l}};xt.publicKeyFromAsn1=function(t){var e={},r=[],n=mr.asn1.validate(t,mb,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=mr.asn1.derToOid(e.publicKeyOid),o=mr.oids.EdDSA25519;if(s!==o)throw new Error('Invalid OID "'+s+'"; OID must be "'+o+'".');var f=e.ed25519PublicKey;if(f.length!==xt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return ri({message:f,encoding:"binary"})};xt.publicKeyFromPrivateKey=function(t){t=t||{};var e=ri({message:t.privateKey,encoding:"binary"});if(e.length!==xt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+xt.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Fr(xt.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};xt.sign=function(t){t=t||{};var e=ri(t),r=ri({message:t.privateKey,encoding:"binary"});if(r.length===xt.constants.SEED_BYTE_LENGTH){var n=xt.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==xt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+xt.constants.SEED_BYTE_LENGTH+" or "+xt.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new Fr(xt.constants.SIGN_BYTE_LENGTH+e.length);Sb(i,e,e.length,r);for(var s=new Fr(xt.constants.SIGN_BYTE_LENGTH),o=0;o<s.length;++o)s[o]=i[o];return s};xt.verify=function(t){t=t||{};var e=ri(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=ri({message:t.signature,encoding:"binary"});if(r.length!==xt.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+xt.constants.SIGN_BYTE_LENGTH);var n=ri({message:t.publicKey,encoding:"binary"});if(n.length!==xt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+xt.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new Fr(xt.constants.SIGN_BYTE_LENGTH+e.length),s=new Fr(xt.constants.SIGN_BYTE_LENGTH+e.length),o;for(o=0;o<xt.constants.SIGN_BYTE_LENGTH;++o)i[o]=r[o];for(o=0;o<e.length;++o)i[o+xt.constants.SIGN_BYTE_LENGTH]=e[o];return Cb(s,i,i.length,n)>=0};function ri(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Fr)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,r);e=new Uu(e,r)}else if(!(e instanceof Uu))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Fr(e.length()),i=0;i<n.length;++i)n[i]=e.at(i);return n}a(ri,"messageToNativeBuffer");var Du=ot(),Bo=ot([1]),xb=ot([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Eb=ot([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),lh=ot([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),hh=ot([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),$f=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),_b=ot([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function pa(t,e){var r=mr.md.sha512.create(),n=new Uu(t);r.update(n.getBytes(e),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new Fr(xt.constants.HASH_BYTE_LENGTH),o=0;o<64;++o)s[o]=i.charCodeAt(o);return s}a(pa,"sha512");function Ab(t,e){var r=[ot(),ot(),ot(),ot()],n,i=pa(e,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Ul(r,i),Ll(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}a(Ab,"crypto_sign_keypair");function Sb(t,e,r,n){var i,s,o=new Float64Array(64),f=[ot(),ot(),ot(),ot()],l=pa(n,32);l[0]&=248,l[31]&=127,l[31]|=64;var d=r+64;for(i=0;i<r;++i)t[64+i]=e[i];for(i=0;i<32;++i)t[32+i]=l[32+i];var p=pa(t.subarray(32),r+32);for(Fu(p),Ul(f,p),Ll(t,f),i=32;i<64;++i)t[i]=n[i];var x=pa(t,r+64);for(Fu(x),i=32;i<64;++i)o[i]=0;for(i=0;i<32;++i)o[i]=p[i];for(i=0;i<32;++i)for(s=0;s<32;s++)o[i+s]+=x[i]*l[s];return op(t.subarray(32),o),d}a(Sb,"crypto_sign");function Cb(t,e,r,n){var i,s,o=new Fr(32),f=[ot(),ot(),ot(),ot()],l=[ot(),ot(),ot(),ot()];if(s=-1,r<64||Tb(l,n))return-1;for(i=0;i<r;++i)t[i]=e[i];for(i=0;i<32;++i)t[i+32]=n[i];var d=pa(t,r);if(Fu(d),lp(f,l,d),Ul(l,e.subarray(32)),qu(f,l),Ll(o,f),r-=64,fp(e,0,o,0)){for(i=0;i<r;++i)t[i]=0;return-1}for(i=0;i<r;++i)t[i]=e[i+64];return s=r,s}a(Cb,"crypto_sign_open");function op(t,e){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*$f[i-(n-32)],r=e[i]+128>>8,e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;++i)e[i]+=r-(e[31]>>4)*$f[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;++i)e[i]-=r*$f[i];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}a(op,"modL");function Fu(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;op(t,e)}a(Fu,"reduce");function qu(t,e){var r=ot(),n=ot(),i=ot(),s=ot(),o=ot(),f=ot(),l=ot(),d=ot(),p=ot();ns(r,t[1],t[0]),ns(p,e[1],e[0]),Ot(r,r,p),es(n,t[0],t[1]),es(p,e[0],e[1]),Ot(n,n,p),Ot(i,t[3],e[3]),Ot(i,i,Eb),Ot(s,t[2],e[2]),es(s,s,s),ns(o,n,r),ns(f,s,i),es(l,s,i),es(d,n,r),Ot(t[0],o,f),Ot(t[1],d,l),Ot(t[2],l,f),Ot(t[3],o,d)}a(qu,"add");function ch(t,e,r){for(var n=0;n<4;++n)hp(t[n],e[n],r)}a(ch,"cswap");function Ll(t,e){var r=ot(),n=ot(),i=ot();Rb(i,e[2]),Ot(r,e[0],i),Ot(n,e[1],i),ko(t,n),t[31]^=up(r)<<7}a(Ll,"pack$1");function ko(t,e){var r,n,i,s=ot(),o=ot();for(r=0;r<16;++r)o[r]=e[r];for(Wf(o),Wf(o),Wf(o),n=0;n<2;++n){for(s[0]=o[0]-65517,r=1;r<15;++r)s[r]=o[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,hp(o,s,1-i)}for(r=0;r<16;r++)t[2*r]=o[r]&255,t[2*r+1]=o[r]>>8}a(ko,"pack25519");function Tb(t,e){var r=ot(),n=ot(),i=ot(),s=ot(),o=ot(),f=ot(),l=ot();return gi(t[2],Bo),Ib(t[1],e),Pi(i,t[1]),Ot(s,i,xb),ns(i,i,t[2]),es(s,t[2],s),Pi(o,s),Pi(f,o),Ot(l,f,o),Ot(r,l,i),Ot(r,r,s),Mb(r,r),Ot(r,r,i),Ot(r,r,s),Ot(r,r,s),Ot(t[0],r,s),Pi(n,t[0]),Ot(n,n,s),dh(n,i)&&Ot(t[0],t[0],_b),Pi(n,t[0]),Ot(n,n,s),dh(n,i)?-1:(up(t[0])===e[31]>>7&&ns(t[0],Du,t[0]),Ot(t[3],t[0],t[1]),0)}a(Tb,"unpackneg");function Ib(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}a(Ib,"unpack25519");function Mb(t,e){var r=ot(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)Pi(r,r),n!==1&&Ot(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}a(Mb,"pow2523");function dh(t,e){var r=new Fr(32),n=new Fr(32);return ko(r,t),ko(n,e),fp(r,0,n,0)}a(dh,"neq25519");function fp(t,e,r,n){return Nb(t,e,r,n,32)}a(fp,"crypto_verify_32");function Nb(t,e,r,n,i){var s,o=0;for(s=0;s<i;++s)o|=t[e+s]^r[n+s];return(1&o-1>>>8)-1}a(Nb,"vn");function up(t){var e=new Fr(32);return ko(e,t),e[0]&1}a(up,"par25519");function lp(t,e,r){var n,i;for(gi(t[0],Du),gi(t[1],Bo),gi(t[2],Bo),gi(t[3],Du),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,ch(t,e,n),qu(e,t),qu(t,t),ch(t,e,n)}a(lp,"scalarmult");function Ul(t,e){var r=[ot(),ot(),ot(),ot()];gi(r[0],lh),gi(r[1],hh),gi(r[2],Bo),Ot(r[3],lh,hh),lp(t,r,e)}a(Ul,"scalarbase");function gi(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}a(gi,"set25519");function Rb(t,e){var r=ot(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)Pi(r,r),n!==2&&n!==4&&Ot(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}a(Rb,"inv25519");function Wf(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}a(Wf,"car25519");function hp(t,e,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(t[s]^e[s]),t[s]^=n,e[s]^=n}a(hp,"sel25519");function ot(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}a(ot,"gf");function es(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}a(es,"A$3");function ns(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}a(ns,"Z$1");function Pi(t,e){Ot(t,e,e)}a(Pi,"S$1");function Ot(t,e,r){var n,i,s=0,o=0,f=0,l=0,d=0,p=0,x=0,T=0,R=0,N=0,O=0,B=0,k=0,L=0,D=0,H=0,K=0,j=0,ie=0,J=0,ue=0,P=0,b=0,S=0,m=0,u=0,c=0,v=0,y=0,E=0,g=0,_=r[0],w=r[1],h=r[2],A=r[3],$=r[4],I=r[5],q=r[6],Z=r[7],z=r[8],Q=r[9],le=r[10],te=r[11],re=r[12],me=r[13],oe=r[14],ce=r[15];n=e[0],s+=n*_,o+=n*w,f+=n*h,l+=n*A,d+=n*$,p+=n*I,x+=n*q,T+=n*Z,R+=n*z,N+=n*Q,O+=n*le,B+=n*te,k+=n*re,L+=n*me,D+=n*oe,H+=n*ce,n=e[1],o+=n*_,f+=n*w,l+=n*h,d+=n*A,p+=n*$,x+=n*I,T+=n*q,R+=n*Z,N+=n*z,O+=n*Q,B+=n*le,k+=n*te,L+=n*re,D+=n*me,H+=n*oe,K+=n*ce,n=e[2],f+=n*_,l+=n*w,d+=n*h,p+=n*A,x+=n*$,T+=n*I,R+=n*q,N+=n*Z,O+=n*z,B+=n*Q,k+=n*le,L+=n*te,D+=n*re,H+=n*me,K+=n*oe,j+=n*ce,n=e[3],l+=n*_,d+=n*w,p+=n*h,x+=n*A,T+=n*$,R+=n*I,N+=n*q,O+=n*Z,B+=n*z,k+=n*Q,L+=n*le,D+=n*te,H+=n*re,K+=n*me,j+=n*oe,ie+=n*ce,n=e[4],d+=n*_,p+=n*w,x+=n*h,T+=n*A,R+=n*$,N+=n*I,O+=n*q,B+=n*Z,k+=n*z,L+=n*Q,D+=n*le,H+=n*te,K+=n*re,j+=n*me,ie+=n*oe,J+=n*ce,n=e[5],p+=n*_,x+=n*w,T+=n*h,R+=n*A,N+=n*$,O+=n*I,B+=n*q,k+=n*Z,L+=n*z,D+=n*Q,H+=n*le,K+=n*te,j+=n*re,ie+=n*me,J+=n*oe,ue+=n*ce,n=e[6],x+=n*_,T+=n*w,R+=n*h,N+=n*A,O+=n*$,B+=n*I,k+=n*q,L+=n*Z,D+=n*z,H+=n*Q,K+=n*le,j+=n*te,ie+=n*re,J+=n*me,ue+=n*oe,P+=n*ce,n=e[7],T+=n*_,R+=n*w,N+=n*h,O+=n*A,B+=n*$,k+=n*I,L+=n*q,D+=n*Z,H+=n*z,K+=n*Q,j+=n*le,ie+=n*te,J+=n*re,ue+=n*me,P+=n*oe,b+=n*ce,n=e[8],R+=n*_,N+=n*w,O+=n*h,B+=n*A,k+=n*$,L+=n*I,D+=n*q,H+=n*Z,K+=n*z,j+=n*Q,ie+=n*le,J+=n*te,ue+=n*re,P+=n*me,b+=n*oe,S+=n*ce,n=e[9],N+=n*_,O+=n*w,B+=n*h,k+=n*A,L+=n*$,D+=n*I,H+=n*q,K+=n*Z,j+=n*z,ie+=n*Q,J+=n*le,ue+=n*te,P+=n*re,b+=n*me,S+=n*oe,m+=n*ce,n=e[10],O+=n*_,B+=n*w,k+=n*h,L+=n*A,D+=n*$,H+=n*I,K+=n*q,j+=n*Z,ie+=n*z,J+=n*Q,ue+=n*le,P+=n*te,b+=n*re,S+=n*me,m+=n*oe,u+=n*ce,n=e[11],B+=n*_,k+=n*w,L+=n*h,D+=n*A,H+=n*$,K+=n*I,j+=n*q,ie+=n*Z,J+=n*z,ue+=n*Q,P+=n*le,b+=n*te,S+=n*re,m+=n*me,u+=n*oe,c+=n*ce,n=e[12],k+=n*_,L+=n*w,D+=n*h,H+=n*A,K+=n*$,j+=n*I,ie+=n*q,J+=n*Z,ue+=n*z,P+=n*Q,b+=n*le,S+=n*te,m+=n*re,u+=n*me,c+=n*oe,v+=n*ce,n=e[13],L+=n*_,D+=n*w,H+=n*h,K+=n*A,j+=n*$,ie+=n*I,J+=n*q,ue+=n*Z,P+=n*z,b+=n*Q,S+=n*le,m+=n*te,u+=n*re,c+=n*me,v+=n*oe,y+=n*ce,n=e[14],D+=n*_,H+=n*w,K+=n*h,j+=n*A,ie+=n*$,J+=n*I,ue+=n*q,P+=n*Z,b+=n*z,S+=n*Q,m+=n*le,u+=n*te,c+=n*re,v+=n*me,y+=n*oe,E+=n*ce,n=e[15],H+=n*_,K+=n*w,j+=n*h,ie+=n*A,J+=n*$,ue+=n*I,P+=n*q,b+=n*Z,S+=n*z,m+=n*Q,u+=n*le,c+=n*te,v+=n*re,y+=n*me,E+=n*oe,g+=n*ce,s+=38*K,o+=38*j,f+=38*ie,l+=38*J,d+=38*ue,p+=38*P,x+=38*b,T+=38*S,R+=38*m,N+=38*u,O+=38*c,B+=38*v,k+=38*y,L+=38*E,D+=38*g,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=O+i+65535,i=Math.floor(n/65536),O=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=L+i+65535,i=Math.floor(n/65536),L=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=H+i+65535,i=Math.floor(n/65536),H=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=O+i+65535,i=Math.floor(n/65536),O=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=L+i+65535,i=Math.floor(n/65536),L=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=H+i+65535,i=Math.floor(n/65536),H=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=f,t[3]=l,t[4]=d,t[5]=p,t[6]=x,t[7]=T,t[8]=R,t[9]=N,t[10]=O,t[11]=B,t[12]=k,t[13]=L,t[14]=D,t[15]=H}a(Ot,"M$2");var Kn={},Fi={exports:{}},Ds={},gf={};gf.byteLength=Pb;gf.toByteArray=Lb;gf.fromByteArray=Fb;var In=[],Yr=[],Bb=typeof Uint8Array<"u"?Uint8Array:Array,Qf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Xi=0,kb=Qf.length;Xi<kb;++Xi)In[Xi]=Qf[Xi],Yr[Qf.charCodeAt(Xi)]=Xi;Yr["-".charCodeAt(0)]=62;Yr["_".charCodeAt(0)]=63;function cp(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}a(cp,"getLens");function Pb(t){var e=cp(t),r=e[0],n=e[1];return(r+n)*3/4-n}a(Pb,"byteLength$1");function Ob(t,e,r){return(e+r)*3/4-r}a(Ob,"_byteLength");function Lb(t){var e,r=cp(t),n=r[0],i=r[1],s=new Bb(Ob(t,n,i)),o=0,f=i>0?n-4:n,l;for(l=0;l<f;l+=4)e=Yr[t.charCodeAt(l)]<<18|Yr[t.charCodeAt(l+1)]<<12|Yr[t.charCodeAt(l+2)]<<6|Yr[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Yr[t.charCodeAt(l)]<<2|Yr[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Yr[t.charCodeAt(l)]<<10|Yr[t.charCodeAt(l+1)]<<4|Yr[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}a(Lb,"toByteArray");function Ub(t){return In[t>>18&63]+In[t>>12&63]+In[t>>6&63]+In[t&63]}a(Ub,"tripletToBase64");function Db(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Ub(n));return i.join("")}a(Db,"encodeChunk");function Fb(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,f=r-n;o<f;o+=s)i.push(Db(t,o,o+s>f?f:o+s));return n===1?(e=t[r-1],i.push(In[e>>2]+In[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(In[e>>10]+In[e>>4&63]+In[e<<2&63]+"=")),i.join("")}a(Fb,"fromByteArray");var Dl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Dl.read=function(t,e,r,n,i){var s,o,f=i*8-n-1,l=(1<<f)-1,d=l>>1,p=-7,x=r?i-1:0,T=r?-1:1,R=t[e+x];for(x+=T,s=R&(1<<-p)-1,R>>=-p,p+=f;p>0;s=s*256+t[e+x],x+=T,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=n;p>0;o=o*256+t[e+x],x+=T,p-=8);if(s===0)s=1-d;else{if(s===l)return o?NaN:(R?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-d}return(R?-1:1)*o*Math.pow(2,s-n)};Dl.write=function(t,e,r,n,i,s){var o,f,l,d=s*8-i-1,p=(1<<d)-1,x=p>>1,T=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=n?0:s-1,N=n?1:-1,O=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+x>=1?e+=T/l:e+=T*Math.pow(2,1-x),e*l>=2&&(o++,l/=2),o+x>=p?(f=0,o=p):o+x>=1?(f=(e*l-1)*Math.pow(2,i),o=o+x):(f=e*Math.pow(2,x-1)*Math.pow(2,i),o=0));i>=8;t[r+R]=f&255,R+=N,f/=256,i-=8);for(o=o<<i|f,d+=i;d>0;t[r+R]=o&255,R+=N,o/=256,d-=8);t[r+R-N]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=gf,r=Dl,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=L,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,f.TYPED_ARRAY_SUPPORT=s(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var F=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(F,C),F.foo()===42}catch{return!1}}a(s,"typedArraySupport"),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.byteOffset}});function o(F){if(F>i)throw new RangeError('The value "'+F+'" is invalid for option "size"');var C=new Uint8Array(F);return Object.setPrototypeOf(C,f.prototype),C}a(o,"createBuffer");function f(F,C,M){if(typeof F=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(F)}return l(F,C,M)}a(f,"Buffer"),f.poolSize=8192;function l(F,C,M){if(typeof F=="string")return T(F,C);if(ArrayBuffer.isView(F))return N(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(me(F,ArrayBuffer)||F&&me(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(F,SharedArrayBuffer)||F&&me(F.buffer,SharedArrayBuffer)))return O(F,C,M);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var G=F.valueOf&&F.valueOf();if(G!=null&&G!==F)return f.from(G,C,M);var W=B(F);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return f.from(F[Symbol.toPrimitive]("string"),C,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}a(l,"from"),f.from=function(F,C,M){return l(F,C,M)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function d(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}a(d,"assertSize");function p(F,C,M){return d(F),F<=0?o(F):C!==void 0?typeof M=="string"?o(F).fill(C,M):o(F).fill(C):o(F)}a(p,"alloc"),f.alloc=function(F,C,M){return p(F,C,M)};function x(F){return d(F),o(F<0?0:k(F)|0)}a(x,"allocUnsafe"),f.allocUnsafe=function(F){return x(F)},f.allocUnsafeSlow=function(F){return x(F)};function T(F,C){if((typeof C!="string"||C==="")&&(C="utf8"),!f.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var M=D(F,C)|0,G=o(M),W=G.write(F,C);return W!==M&&(G=G.slice(0,W)),G}a(T,"fromString");function R(F){for(var C=F.length<0?0:k(F.length)|0,M=o(C),G=0;G<C;G+=1)M[G]=F[G]&255;return M}a(R,"fromArrayLike");function N(F){if(me(F,Uint8Array)){var C=new Uint8Array(F);return O(C.buffer,C.byteOffset,C.byteLength)}return R(F)}a(N,"fromArrayView");function O(F,C,M){if(C<0||F.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<C+(M||0))throw new RangeError('"length" is outside of buffer bounds');var G;return C===void 0&&M===void 0?G=new Uint8Array(F):M===void 0?G=new Uint8Array(F,C):G=new Uint8Array(F,C,M),Object.setPrototypeOf(G,f.prototype),G}a(O,"fromArrayBuffer");function B(F){if(f.isBuffer(F)){var C=k(F.length)|0,M=o(C);return M.length===0||F.copy(M,0,0,C),M}if(F.length!==void 0)return typeof F.length!="number"||oe(F.length)?o(0):R(F);if(F.type==="Buffer"&&Array.isArray(F.data))return R(F.data)}a(B,"fromObject");function k(F){if(F>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return F|0}a(k,"checked");function L(F){return+F!=F&&(F=0),f.alloc(+F)}a(L,"SlowBuffer"),f.isBuffer=a(function(C){return C!=null&&C._isBuffer===!0&&C!==f.prototype},"isBuffer"),f.compare=a(function(C,M){if(me(C,Uint8Array)&&(C=f.from(C,C.offset,C.byteLength)),me(M,Uint8Array)&&(M=f.from(M,M.offset,M.byteLength)),!f.isBuffer(C)||!f.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===M)return 0;for(var G=C.length,W=M.length,ne=0,de=Math.min(G,W);ne<de;++ne)if(C[ne]!==M[ne]){G=C[ne],W=M[ne];break}return G<W?-1:W<G?1:0},"compare"),f.isEncoding=a(function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),f.concat=a(function(C,M){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return f.alloc(0);var G;if(M===void 0)for(M=0,G=0;G<C.length;++G)M+=C[G].length;var W=f.allocUnsafe(M),ne=0;for(G=0;G<C.length;++G){var de=C[G];if(me(de,Uint8Array))ne+de.length>W.length?f.from(de).copy(W,ne):Uint8Array.prototype.set.call(W,de,ne);else if(f.isBuffer(de))de.copy(W,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=de.length}return W},"concat");function D(F,C){if(f.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||me(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);var M=F.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&M===0)return 0;for(var W=!1;;)switch(C){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return z(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return te(F).length;default:if(W)return G?-1:z(F).length;C=(""+C).toLowerCase(),W=!0}}a(D,"byteLength"),f.byteLength=D;function H(F,C,M){var G=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,C>>>=0,M<=C))return"";for(F||(F="utf8");;)switch(F){case"hex":return g(this,C,M);case"utf8":case"utf-8":return u(this,C,M);case"ascii":return y(this,C,M);case"latin1":case"binary":return E(this,C,M);case"base64":return m(this,C,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,C,M);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),G=!0}}a(H,"slowToString"),f.prototype._isBuffer=!0;function K(F,C,M){var G=F[C];F[C]=F[M],F[M]=G}a(K,"swap"),f.prototype.swap16=a(function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<C;M+=2)K(this,M,M+1);return this},"swap16"),f.prototype.swap32=a(function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<C;M+=4)K(this,M,M+3),K(this,M+1,M+2);return this},"swap32"),f.prototype.swap64=a(function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<C;M+=8)K(this,M,M+7),K(this,M+1,M+6),K(this,M+2,M+5),K(this,M+3,M+4);return this},"swap64"),f.prototype.toString=a(function(){var C=this.length;return C===0?"":arguments.length===0?u(this,0,C):H.apply(this,arguments)},"toString"),f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=a(function(C){if(!f.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:f.compare(this,C)===0},"equals"),f.prototype.inspect=a(function(){var C="",M=t.INSPECT_MAX_BYTES;return C=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(C+=" ... "),"<Buffer "+C+">"},"inspect"),n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=a(function(C,M,G,W,ne){if(me(C,Uint8Array)&&(C=f.from(C,C.offset,C.byteLength)),!f.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(M===void 0&&(M=0),G===void 0&&(G=C?C.length:0),W===void 0&&(W=0),ne===void 0&&(ne=this.length),M<0||G>C.length||W<0||ne>this.length)throw new RangeError("out of range index");if(W>=ne&&M>=G)return 0;if(W>=ne)return-1;if(M>=G)return 1;if(M>>>=0,G>>>=0,W>>>=0,ne>>>=0,this===C)return 0;for(var de=ne-W,ve=G-M,we=Math.min(de,ve),mt=this.slice(W,ne),be=C.slice(M,G),xe=0;xe<we;++xe)if(mt[xe]!==be[xe]){de=mt[xe],ve=be[xe];break}return de<ve?-1:ve<de?1:0},"compare");function j(F,C,M,G,W){if(F.length===0)return-1;if(typeof M=="string"?(G=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,oe(M)&&(M=W?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(W)return-1;M=F.length-1}else if(M<0)if(W)M=0;else return-1;if(typeof C=="string"&&(C=f.from(C,G)),f.isBuffer(C))return C.length===0?-1:ie(F,C,M,G,W);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(F,C,M):Uint8Array.prototype.lastIndexOf.call(F,C,M):ie(F,[C],M,G,W);throw new TypeError("val must be string, number or Buffer")}a(j,"bidirectionalIndexOf");function ie(F,C,M,G,W){var ne=1,de=F.length,ve=C.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(F.length<2||C.length<2)return-1;ne=2,de/=2,ve/=2,M/=2}function we(ke,Pe){return ne===1?ke[Pe]:ke.readUInt16BE(Pe*ne)}a(we,"read");var mt;if(W){var be=-1;for(mt=M;mt<de;mt++)if(we(F,mt)===we(C,be===-1?0:mt-be)){if(be===-1&&(be=mt),mt-be+1===ve)return be*ne}else be!==-1&&(mt-=mt-be),be=-1}else for(M+ve>de&&(M=de-ve),mt=M;mt>=0;mt--){for(var xe=!0,tr=0;tr<ve;tr++)if(we(F,mt+tr)!==we(C,tr)){xe=!1;break}if(xe)return mt}return-1}a(ie,"arrayIndexOf"),f.prototype.includes=a(function(C,M,G){return this.indexOf(C,M,G)!==-1},"includes"),f.prototype.indexOf=a(function(C,M,G){return j(this,C,M,G,!0)},"indexOf"),f.prototype.lastIndexOf=a(function(C,M,G){return j(this,C,M,G,!1)},"lastIndexOf");function J(F,C,M,G){M=Number(M)||0;var W=F.length-M;G?(G=Number(G),G>W&&(G=W)):G=W;var ne=C.length;G>ne/2&&(G=ne/2);for(var de=0;de<G;++de){var ve=parseInt(C.substr(de*2,2),16);if(oe(ve))return de;F[M+de]=ve}return de}a(J,"hexWrite");function ue(F,C,M,G){return re(z(C,F.length-M),F,M,G)}a(ue,"utf8Write");function P(F,C,M,G){return re(Q(C),F,M,G)}a(P,"asciiWrite");function b(F,C,M,G){return re(te(C),F,M,G)}a(b,"base64Write");function S(F,C,M,G){return re(le(C,F.length-M),F,M,G)}a(S,"ucs2Write"),f.prototype.write=a(function(C,M,G,W){if(M===void 0)W="utf8",G=this.length,M=0;else if(G===void 0&&typeof M=="string")W=M,G=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(G)?(G=G>>>0,W===void 0&&(W="utf8")):(W=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ne=this.length-M;if((G===void 0||G>ne)&&(G=ne),C.length>0&&(G<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var de=!1;;)switch(W){case"hex":return J(this,C,M,G);case"utf8":case"utf-8":return ue(this,C,M,G);case"ascii":case"latin1":case"binary":return P(this,C,M,G);case"base64":return b(this,C,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,C,M,G);default:if(de)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),de=!0}},"write"),f.prototype.toJSON=a(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function m(F,C,M){return C===0&&M===F.length?e.fromByteArray(F):e.fromByteArray(F.slice(C,M))}a(m,"base64Slice");function u(F,C,M){M=Math.min(F.length,M);for(var G=[],W=C;W<M;){var ne=F[W],de=null,ve=ne>239?4:ne>223?3:ne>191?2:1;if(W+ve<=M){var we,mt,be,xe;switch(ve){case 1:ne<128&&(de=ne);break;case 2:we=F[W+1],(we&192)===128&&(xe=(ne&31)<<6|we&63,xe>127&&(de=xe));break;case 3:we=F[W+1],mt=F[W+2],(we&192)===128&&(mt&192)===128&&(xe=(ne&15)<<12|(we&63)<<6|mt&63,xe>2047&&(xe<55296||xe>57343)&&(de=xe));break;case 4:we=F[W+1],mt=F[W+2],be=F[W+3],(we&192)===128&&(mt&192)===128&&(be&192)===128&&(xe=(ne&15)<<18|(we&63)<<12|(mt&63)<<6|be&63,xe>65535&&xe<1114112&&(de=xe))}}de===null?(de=65533,ve=1):de>65535&&(de-=65536,G.push(de>>>10&1023|55296),de=56320|de&1023),G.push(de),W+=ve}return v(G)}a(u,"utf8Slice");var c=4096;function v(F){var C=F.length;if(C<=c)return String.fromCharCode.apply(String,F);for(var M="",G=0;G<C;)M+=String.fromCharCode.apply(String,F.slice(G,G+=c));return M}a(v,"decodeCodePointsArray");function y(F,C,M){var G="";M=Math.min(F.length,M);for(var W=C;W<M;++W)G+=String.fromCharCode(F[W]&127);return G}a(y,"asciiSlice");function E(F,C,M){var G="";M=Math.min(F.length,M);for(var W=C;W<M;++W)G+=String.fromCharCode(F[W]);return G}a(E,"latin1Slice");function g(F,C,M){var G=F.length;(!C||C<0)&&(C=0),(!M||M<0||M>G)&&(M=G);for(var W="",ne=C;ne<M;++ne)W+=ce[F[ne]];return W}a(g,"hexSlice");function _(F,C,M){for(var G=F.slice(C,M),W="",ne=0;ne<G.length-1;ne+=2)W+=String.fromCharCode(G[ne]+G[ne+1]*256);return W}a(_,"utf16leSlice"),f.prototype.slice=a(function(C,M){var G=this.length;C=~~C,M=M===void 0?G:~~M,C<0?(C+=G,C<0&&(C=0)):C>G&&(C=G),M<0?(M+=G,M<0&&(M=0)):M>G&&(M=G),M<C&&(M=C);var W=this.subarray(C,M);return Object.setPrototypeOf(W,f.prototype),W},"slice");function w(F,C,M){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+C>M)throw new RangeError("Trying to access beyond buffer length")}a(w,"checkOffset"),f.prototype.readUintLE=f.prototype.readUIntLE=a(function(C,M,G){C=C>>>0,M=M>>>0,G||w(C,M,this.length);for(var W=this[C],ne=1,de=0;++de<M&&(ne*=256);)W+=this[C+de]*ne;return W},"readUIntLE"),f.prototype.readUintBE=f.prototype.readUIntBE=a(function(C,M,G){C=C>>>0,M=M>>>0,G||w(C,M,this.length);for(var W=this[C+--M],ne=1;M>0&&(ne*=256);)W+=this[C+--M]*ne;return W},"readUIntBE"),f.prototype.readUint8=f.prototype.readUInt8=a(function(C,M){return C=C>>>0,M||w(C,1,this.length),this[C]},"readUInt8"),f.prototype.readUint16LE=f.prototype.readUInt16LE=a(function(C,M){return C=C>>>0,M||w(C,2,this.length),this[C]|this[C+1]<<8},"readUInt16LE"),f.prototype.readUint16BE=f.prototype.readUInt16BE=a(function(C,M){return C=C>>>0,M||w(C,2,this.length),this[C]<<8|this[C+1]},"readUInt16BE"),f.prototype.readUint32LE=f.prototype.readUInt32LE=a(function(C,M){return C=C>>>0,M||w(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},"readUInt32LE"),f.prototype.readUint32BE=f.prototype.readUInt32BE=a(function(C,M){return C=C>>>0,M||w(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},"readUInt32BE"),f.prototype.readIntLE=a(function(C,M,G){C=C>>>0,M=M>>>0,G||w(C,M,this.length);for(var W=this[C],ne=1,de=0;++de<M&&(ne*=256);)W+=this[C+de]*ne;return ne*=128,W>=ne&&(W-=Math.pow(2,8*M)),W},"readIntLE"),f.prototype.readIntBE=a(function(C,M,G){C=C>>>0,M=M>>>0,G||w(C,M,this.length);for(var W=M,ne=1,de=this[C+--W];W>0&&(ne*=256);)de+=this[C+--W]*ne;return ne*=128,de>=ne&&(de-=Math.pow(2,8*M)),de},"readIntBE"),f.prototype.readInt8=a(function(C,M){return C=C>>>0,M||w(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},"readInt8"),f.prototype.readInt16LE=a(function(C,M){C=C>>>0,M||w(C,2,this.length);var G=this[C]|this[C+1]<<8;return G&32768?G|4294901760:G},"readInt16LE"),f.prototype.readInt16BE=a(function(C,M){C=C>>>0,M||w(C,2,this.length);var G=this[C+1]|this[C]<<8;return G&32768?G|4294901760:G},"readInt16BE"),f.prototype.readInt32LE=a(function(C,M){return C=C>>>0,M||w(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},"readInt32LE"),f.prototype.readInt32BE=a(function(C,M){return C=C>>>0,M||w(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},"readInt32BE"),f.prototype.readFloatLE=a(function(C,M){return C=C>>>0,M||w(C,4,this.length),r.read(this,C,!0,23,4)},"readFloatLE"),f.prototype.readFloatBE=a(function(C,M){return C=C>>>0,M||w(C,4,this.length),r.read(this,C,!1,23,4)},"readFloatBE"),f.prototype.readDoubleLE=a(function(C,M){return C=C>>>0,M||w(C,8,this.length),r.read(this,C,!0,52,8)},"readDoubleLE"),f.prototype.readDoubleBE=a(function(C,M){return C=C>>>0,M||w(C,8,this.length),r.read(this,C,!1,52,8)},"readDoubleBE");function h(F,C,M,G,W,ne){if(!f.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>W||C<ne)throw new RangeError('"value" argument is out of bounds');if(M+G>F.length)throw new RangeError("Index out of range")}a(h,"checkInt"),f.prototype.writeUintLE=f.prototype.writeUIntLE=a(function(C,M,G,W){if(C=+C,M=M>>>0,G=G>>>0,!W){var ne=Math.pow(2,8*G)-1;h(this,C,M,G,ne,0)}var de=1,ve=0;for(this[M]=C&255;++ve<G&&(de*=256);)this[M+ve]=C/de&255;return M+G},"writeUIntLE"),f.prototype.writeUintBE=f.prototype.writeUIntBE=a(function(C,M,G,W){if(C=+C,M=M>>>0,G=G>>>0,!W){var ne=Math.pow(2,8*G)-1;h(this,C,M,G,ne,0)}var de=G-1,ve=1;for(this[M+de]=C&255;--de>=0&&(ve*=256);)this[M+de]=C/ve&255;return M+G},"writeUIntBE"),f.prototype.writeUint8=f.prototype.writeUInt8=a(function(C,M,G){return C=+C,M=M>>>0,G||h(this,C,M,1,255,0),this[M]=C&255,M+1},"writeUInt8"),f.prototype.writeUint16LE=f.prototype.writeUInt16LE=a(function(C,M,G){return C=+C,M=M>>>0,G||h(this,C,M,2,65535,0),this[M]=C&255,this[M+1]=C>>>8,M+2},"writeUInt16LE"),f.prototype.writeUint16BE=f.prototype.writeUInt16BE=a(function(C,M,G){return C=+C,M=M>>>0,G||h(this,C,M,2,65535,0),this[M]=C>>>8,this[M+1]=C&255,M+2},"writeUInt16BE"),f.prototype.writeUint32LE=f.prototype.writeUInt32LE=a(function(C,M,G){return C=+C,M=M>>>0,G||h(this,C,M,4,4294967295,0),this[M+3]=C>>>24,this[M+2]=C>>>16,this[M+1]=C>>>8,this[M]=C&255,M+4},"writeUInt32LE"),f.prototype.writeUint32BE=f.prototype.writeUInt32BE=a(function(C,M,G){return C=+C,M=M>>>0,G||h(this,C,M,4,4294967295,0),this[M]=C>>>24,this[M+1]=C>>>16,this[M+2]=C>>>8,this[M+3]=C&255,M+4},"writeUInt32BE"),f.prototype.writeIntLE=a(function(C,M,G,W){if(C=+C,M=M>>>0,!W){var ne=Math.pow(2,8*G-1);h(this,C,M,G,ne-1,-ne)}var de=0,ve=1,we=0;for(this[M]=C&255;++de<G&&(ve*=256);)C<0&&we===0&&this[M+de-1]!==0&&(we=1),this[M+de]=(C/ve>>0)-we&255;return M+G},"writeIntLE"),f.prototype.writeIntBE=a(function(C,M,G,W){if(C=+C,M=M>>>0,!W){var ne=Math.pow(2,8*G-1);h(this,C,M,G,ne-1,-ne)}var de=G-1,ve=1,we=0;for(this[M+de]=C&255;--de>=0&&(ve*=256);)C<0&&we===0&&this[M+de+1]!==0&&(we=1),this[M+de]=(C/ve>>0)-we&255;return M+G},"writeIntBE"),f.prototype.writeInt8=a(function(C,M,G){return C=+C,M=M>>>0,G||h(this,C,M,1,127,-128),C<0&&(C=255+C+1),this[M]=C&255,M+1},"writeInt8"),f.prototype.writeInt16LE=a(function(C,M,G){return C=+C,M=M>>>0,G||h(this,C,M,2,32767,-32768),this[M]=C&255,this[M+1]=C>>>8,M+2},"writeInt16LE"),f.prototype.writeInt16BE=a(function(C,M,G){return C=+C,M=M>>>0,G||h(this,C,M,2,32767,-32768),this[M]=C>>>8,this[M+1]=C&255,M+2},"writeInt16BE"),f.prototype.writeInt32LE=a(function(C,M,G){return C=+C,M=M>>>0,G||h(this,C,M,4,2147483647,-2147483648),this[M]=C&255,this[M+1]=C>>>8,this[M+2]=C>>>16,this[M+3]=C>>>24,M+4},"writeInt32LE"),f.prototype.writeInt32BE=a(function(C,M,G){return C=+C,M=M>>>0,G||h(this,C,M,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[M]=C>>>24,this[M+1]=C>>>16,this[M+2]=C>>>8,this[M+3]=C&255,M+4},"writeInt32BE");function A(F,C,M,G,W,ne){if(M+G>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}a(A,"checkIEEE754");function $(F,C,M,G,W){return C=+C,M=M>>>0,W||A(F,C,M,4),r.write(F,C,M,G,23,4),M+4}a($,"writeFloat"),f.prototype.writeFloatLE=a(function(C,M,G){return $(this,C,M,!0,G)},"writeFloatLE"),f.prototype.writeFloatBE=a(function(C,M,G){return $(this,C,M,!1,G)},"writeFloatBE");function I(F,C,M,G,W){return C=+C,M=M>>>0,W||A(F,C,M,8),r.write(F,C,M,G,52,8),M+8}a(I,"writeDouble"),f.prototype.writeDoubleLE=a(function(C,M,G){return I(this,C,M,!0,G)},"writeDoubleLE"),f.prototype.writeDoubleBE=a(function(C,M,G){return I(this,C,M,!1,G)},"writeDoubleBE"),f.prototype.copy=a(function(C,M,G,W){if(!f.isBuffer(C))throw new TypeError("argument should be a Buffer");if(G||(G=0),!W&&W!==0&&(W=this.length),M>=C.length&&(M=C.length),M||(M=0),W>0&&W<G&&(W=G),W===G||C.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),C.length-M<W-G&&(W=C.length-M+G);var ne=W-G;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,G,W):Uint8Array.prototype.set.call(C,this.subarray(G,W),M),ne},"copy"),f.prototype.fill=a(function(C,M,G,W){if(typeof C=="string"){if(typeof M=="string"?(W=M,M=0,G=this.length):typeof G=="string"&&(W=G,G=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!f.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(C.length===1){var ne=C.charCodeAt(0);(W==="utf8"&&ne<128||W==="latin1")&&(C=ne)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(M<0||this.length<M||this.length<G)throw new RangeError("Out of range index");if(G<=M)return this;M=M>>>0,G=G===void 0?this.length:G>>>0,C||(C=0);var de;if(typeof C=="number")for(de=M;de<G;++de)this[de]=C;else{var ve=f.isBuffer(C)?C:f.from(C,W),we=ve.length;if(we===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(de=0;de<G-M;++de)this[de+M]=ve[de%we]}return this},"fill");var q=/[^+/0-9A-Za-z-_]/g;function Z(F){if(F=F.split("=")[0],F=F.trim().replace(q,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}a(Z,"base64clean");function z(F,C){C=C||1/0;for(var M,G=F.length,W=null,ne=[],de=0;de<G;++de){if(M=F.charCodeAt(de),M>55295&&M<57344){if(!W){if(M>56319){(C-=3)>-1&&ne.push(239,191,189);continue}else if(de+1===G){(C-=3)>-1&&ne.push(239,191,189);continue}W=M;continue}if(M<56320){(C-=3)>-1&&ne.push(239,191,189),W=M;continue}M=(W-55296<<10|M-56320)+65536}else W&&(C-=3)>-1&&ne.push(239,191,189);if(W=null,M<128){if((C-=1)<0)break;ne.push(M)}else if(M<2048){if((C-=2)<0)break;ne.push(M>>6|192,M&63|128)}else if(M<65536){if((C-=3)<0)break;ne.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((C-=4)<0)break;ne.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return ne}a(z,"utf8ToBytes");function Q(F){for(var C=[],M=0;M<F.length;++M)C.push(F.charCodeAt(M)&255);return C}a(Q,"asciiToBytes");function le(F,C){for(var M,G,W,ne=[],de=0;de<F.length&&!((C-=2)<0);++de)M=F.charCodeAt(de),G=M>>8,W=M%256,ne.push(W),ne.push(G);return ne}a(le,"utf16leToBytes");function te(F){return e.toByteArray(Z(F))}a(te,"base64ToBytes");function re(F,C,M,G){for(var W=0;W<G&&!(W+M>=C.length||W>=F.length);++W)C[W+M]=F[W];return W}a(re,"blitBuffer");function me(F,C){return F instanceof C||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===C.name}a(me,"isInstance");function oe(F){return F!==F}a(oe,"numberIsNaN");var ce=function(){for(var F="0123456789abcdef",C=new Array(256),M=0;M<16;++M)for(var G=M*16,W=0;W<16;++W)C[G+W]=F[M]+F[W];return C}()})(Ds);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Ds,n=r.Buffer;function i(o,f){for(var l in o)f[l]=o[l]}a(i,"copyProps"),n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,f,l){return n(o,f,l)}a(s,"SafeBuffer"),s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,f,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,f,l)},s.alloc=function(o,f,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=n(o);return f!==void 0?typeof l=="string"?d.fill(f,l):d.fill(f):d.fill(0),d},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Fi,Fi.exports);var Fa={},qb=a(function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},"isBuffer"),Vu={exports:{}};typeof Object.create=="function"?Vu.exports=a(function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},"inherits"):Vu.exports=a(function(e,r){e.super_=r;var n=a(function(){},"TempCtor");n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e},"inherits");(function(t){var e=Object.getOwnPropertyDescriptors||a(function(h){for(var A=Object.keys(h),$={},I=0;I<A.length;I++)$[A[I]]=Object.getOwnPropertyDescriptor(h,A[I]);return $},"getOwnPropertyDescriptors"),r=/%[sdj%]/g;t.format=function(w){if(!H(w)){for(var h=[],A=0;A<arguments.length;A++)h.push(s(arguments[A]));return h.join(" ")}for(var A=1,$=arguments,I=$.length,q=String(w).replace(r,function(z){if(z==="%%")return"%";if(A>=I)return z;switch(z){case"%s":return String($[A++]);case"%d":return Number($[A++]);case"%j":try{return JSON.stringify($[A++])}catch{return"[Circular]"}default:return z}}),Z=$[A];A<I;Z=$[++A])k(Z)||!J(Z)?q+=" "+Z:q+=" "+s(Z);return q},t.deprecate=function(w,h){if(typeof process<"u"&&process.noDeprecation===!0)return w;if(typeof process>"u")return function(){return t.deprecate(w,h).apply(this,arguments)};var A=!1;function $(){if(!A){if(process.throwDeprecation)throw new Error(h);process.traceDeprecation?console.trace(h):console.error(h),A=!0}return w.apply(this,arguments)}return a($,"deprecated"),$};var n={},i;t.debuglog=function(w){if(j(i)&&(i=process.env.NODE_DEBUG||""),w=w.toUpperCase(),!n[w])if(new RegExp("\\b"+w+"\\b","i").test(i)){var h=process.pid;n[w]=function(){var A=t.format.apply(t,arguments);console.error("%s %d: %s",w,h,A)}}else n[w]=function(){};return n[w]};function s(w,h){var A={seen:[],stylize:f};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),B(h)?A.showHidden=h:h&&t._extend(A,h),j(A.showHidden)&&(A.showHidden=!1),j(A.depth)&&(A.depth=2),j(A.colors)&&(A.colors=!1),j(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=o),d(A,w,A.depth)}a(s,"inspect"),t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(w,h){var A=s.styles[h];return A?"\x1B["+s.colors[A][0]+"m"+w+"\x1B["+s.colors[A][1]+"m":w}a(o,"stylizeWithColor");function f(w,h){return w}a(f,"stylizeNoColor");function l(w){var h={};return w.forEach(function(A,$){h[A]=!0}),h}a(l,"arrayToHash");function d(w,h,A){if(w.customInspect&&h&&b(h.inspect)&&h.inspect!==t.inspect&&!(h.constructor&&h.constructor.prototype===h)){var $=h.inspect(A,w);return H($)||($=d(w,$,A)),$}var I=p(w,h);if(I)return I;var q=Object.keys(h),Z=l(q);if(w.showHidden&&(q=Object.getOwnPropertyNames(h)),P(h)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return x(h);if(q.length===0){if(b(h)){var z=h.name?": "+h.name:"";return w.stylize("[Function"+z+"]","special")}if(ie(h))return w.stylize(RegExp.prototype.toString.call(h),"regexp");if(ue(h))return w.stylize(Date.prototype.toString.call(h),"date");if(P(h))return x(h)}var Q="",le=!1,te=["{","}"];if(O(h)&&(le=!0,te=["[","]"]),b(h)){var re=h.name?": "+h.name:"";Q=" [Function"+re+"]"}if(ie(h)&&(Q=" "+RegExp.prototype.toString.call(h)),ue(h)&&(Q=" "+Date.prototype.toUTCString.call(h)),P(h)&&(Q=" "+x(h)),q.length===0&&(!le||h.length==0))return te[0]+Q+te[1];if(A<0)return ie(h)?w.stylize(RegExp.prototype.toString.call(h),"regexp"):w.stylize("[Object]","special");w.seen.push(h);var me;return le?me=T(w,h,A,Z,q):me=q.map(function(oe){return R(w,h,A,Z,oe,le)}),w.seen.pop(),N(me,Q,te)}a(d,"formatValue");function p(w,h){if(j(h))return w.stylize("undefined","undefined");if(H(h)){var A="'"+JSON.stringify(h).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return w.stylize(A,"string")}if(D(h))return w.stylize(""+h,"number");if(B(h))return w.stylize(""+h,"boolean");if(k(h))return w.stylize("null","null")}a(p,"formatPrimitive");function x(w){return"["+Error.prototype.toString.call(w)+"]"}a(x,"formatError");function T(w,h,A,$,I){for(var q=[],Z=0,z=h.length;Z<z;++Z)y(h,String(Z))?q.push(R(w,h,A,$,String(Z),!0)):q.push("");return I.forEach(function(Q){Q.match(/^\d+$/)||q.push(R(w,h,A,$,Q,!0))}),q}a(T,"formatArray");function R(w,h,A,$,I,q){var Z,z,Q;if(Q=Object.getOwnPropertyDescriptor(h,I)||{value:h[I]},Q.get?Q.set?z=w.stylize("[Getter/Setter]","special"):z=w.stylize("[Getter]","special"):Q.set&&(z=w.stylize("[Setter]","special")),y($,I)||(Z="["+I+"]"),z||(w.seen.indexOf(Q.value)<0?(k(A)?z=d(w,Q.value,null):z=d(w,Q.value,A-1),z.indexOf(`
`)>-1&&(q?z=z.split(`
`).map(function(le){return"  "+le}).join(`
`).substr(2):z=`
`+z.split(`
`).map(function(le){return"   "+le}).join(`
`))):z=w.stylize("[Circular]","special")),j(Z)){if(q&&I.match(/^\d+$/))return z;Z=JSON.stringify(""+I),Z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Z=Z.substr(1,Z.length-2),Z=w.stylize(Z,"name")):(Z=Z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Z=w.stylize(Z,"string"))}return Z+": "+z}a(R,"formatProperty");function N(w,h,A){var $=w.reduce(function(I,q){return q.indexOf(`
`)>=0,I+q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return $>60?A[0]+(h===""?"":h+`
 `)+" "+w.join(`,
  `)+" "+A[1]:A[0]+h+" "+w.join(", ")+" "+A[1]}a(N,"reduceToSingleString");function O(w){return Array.isArray(w)}a(O,"isArray"),t.isArray=O;function B(w){return typeof w=="boolean"}a(B,"isBoolean"),t.isBoolean=B;function k(w){return w===null}a(k,"isNull"),t.isNull=k;function L(w){return w==null}a(L,"isNullOrUndefined"),t.isNullOrUndefined=L;function D(w){return typeof w=="number"}a(D,"isNumber"),t.isNumber=D;function H(w){return typeof w=="string"}a(H,"isString"),t.isString=H;function K(w){return typeof w=="symbol"}a(K,"isSymbol"),t.isSymbol=K;function j(w){return w===void 0}a(j,"isUndefined"),t.isUndefined=j;function ie(w){return J(w)&&m(w)==="[object RegExp]"}a(ie,"isRegExp"),t.isRegExp=ie;function J(w){return typeof w=="object"&&w!==null}a(J,"isObject"),t.isObject=J;function ue(w){return J(w)&&m(w)==="[object Date]"}a(ue,"isDate"),t.isDate=ue;function P(w){return J(w)&&(m(w)==="[object Error]"||w instanceof Error)}a(P,"isError"),t.isError=P;function b(w){return typeof w=="function"}a(b,"isFunction"),t.isFunction=b;function S(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||typeof w>"u"}a(S,"isPrimitive"),t.isPrimitive=S,t.isBuffer=qb;function m(w){return Object.prototype.toString.call(w)}a(m,"objectToString");function u(w){return w<10?"0"+w.toString(10):w.toString(10)}a(u,"pad");var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function v(){var w=new Date,h=[u(w.getHours()),u(w.getMinutes()),u(w.getSeconds())].join(":");return[w.getDate(),c[w.getMonth()],h].join(" ")}a(v,"timestamp"),t.log=function(){console.log("%s - %s",v(),t.format.apply(t,arguments))},t.inherits=Vu.exports,t._extend=function(w,h){if(!h||!J(h))return w;for(var A=Object.keys(h),$=A.length;$--;)w[A[$]]=h[A[$]];return w};function y(w,h){return Object.prototype.hasOwnProperty.call(w,h)}a(y,"hasOwnProperty");var E=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=a(function(h){if(typeof h!="function")throw new TypeError('The "original" argument must be of type Function');if(E&&h[E]){var A=h[E];if(typeof A!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(A,E,{value:A,enumerable:!1,writable:!1,configurable:!0}),A}function A(){for(var $,I,q=new Promise(function(Q,le){$=Q,I=le}),Z=[],z=0;z<arguments.length;z++)Z.push(arguments[z]);Z.push(function(Q,le){Q?I(Q):$(le)});try{h.apply(this,Z)}catch(Q){I(Q)}return q}return a(A,"fn"),Object.setPrototypeOf(A,Object.getPrototypeOf(h)),E&&Object.defineProperty(A,E,{value:A,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(A,e(h))},"promisify"),t.promisify.custom=E;function g(w,h){if(!w){var A=new Error("Promise was rejected with a falsy value");A.reason=w,w=A}return h(w)}a(g,"callbackifyOnRejected");function _(w){if(typeof w!="function")throw new TypeError('The "original" argument must be of type Function');function h(){for(var A=[],$=0;$<arguments.length;$++)A.push(arguments[$]);var I=A.pop();if(typeof I!="function")throw new TypeError("The last argument must be of type Function");var q=this,Z=a(function(){return I.apply(q,arguments)},"cb");w.apply(this,A).then(function(z){process.nextTick(Z,null,z)},function(z){process.nextTick(g,z,Z)})}return a(h,"callbackified"),Object.setPrototypeOf(h,Object.getPrototypeOf(w)),Object.defineProperties(h,e(w)),h}a(_,"callbackify"),t.callbackify=_})(Fa);var Po=Fi.exports.Buffer,Vb=Gr,Kb=Fa;function vf(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=Po.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=Po.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}a(vf,"DataStream$2");Kb.inherits(vf,Vb);vf.prototype.write=a(function(e){this.buffer=Po.concat([this.buffer,Po.from(e)]),this.emit("data",e)},"write");vf.prototype.end=a(function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},"end");var dp=vf,_a=Ds.Buffer,Fl=Ds.SlowBuffer,Hb=Oo;function Oo(t,e){if(!_a.isBuffer(t)||!_a.isBuffer(e)||t.length!==e.length)return!1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}a(Oo,"bufferEq");Oo.install=function(){_a.prototype.equal=Fl.prototype.equal=a(function(e){return Oo(this,e)},"equal")};var Gb=_a.prototype.equal,jb=Fl.prototype.equal;Oo.restore=function(){_a.prototype.equal=Gb,Fl.prototype.equal=jb};function Yf(t){var e=(t/8|0)+(t%8===0?0:1);return e}a(Yf,"getParamSize");var zb={ES256:Yf(256),ES384:Yf(384),ES512:Yf(521)};function $b(t){var e=zb[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}a($b,"getParamBytesForAlg$1");var Wb=$b,Lo=Fi.exports.Buffer,pp=Wb,Uo=128,gp=0,Qb=32,Yb=16,Jb=2,vp=Yb|Qb|gp<<6,Do=Jb|gp<<6;function Xb(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}a(Xb,"base64Url");function mp(t){if(Lo.isBuffer(t))return t;if(typeof t=="string")return Lo.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}a(mp,"signatureAsBuffer");function Zb(t,e){t=mp(t);var r=pp(e),n=r+1,i=t.length,s=0;if(t[s++]!==vp)throw new Error('Could not find expected "seq"');var o=t[s++];if(o===(Uo|1)&&(o=t[s++]),i-s<o)throw new Error('"seq" specified length of "'+o+'", only "'+(i-s)+'" remaining');if(t[s++]!==Do)throw new Error('Could not find expected "int" for "r"');var f=t[s++];if(i-s-2<f)throw new Error('"r" specified length of "'+f+'", only "'+(i-s-2)+'" available');if(n<f)throw new Error('"r" specified length of "'+f+'", max of "'+n+'" is acceptable');var l=s;if(s+=f,t[s++]!==Do)throw new Error('Could not find expected "int" for "s"');var d=t[s++];if(i-s!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(i-s)+'"');if(n<d)throw new Error('"s" specified length of "'+d+'", max of "'+n+'" is acceptable');var p=s;if(s+=d,s!==i)throw new Error('Expected to consume entire buffer, but "'+(i-s)+'" bytes remain');var x=r-f,T=r-d,R=Lo.allocUnsafe(x+f+T+d);for(s=0;s<x;++s)R[s]=0;t.copy(R,s,l+Math.max(-x,0),l+f),s=r;for(var N=s;s<N+T;++s)R[s]=0;return t.copy(R,s,p+Math.max(-T,0),p+d),R=R.toString("base64"),R=Xb(R),R}a(Zb,"derToJose");function ph(t,e,r){for(var n=0;e+n<r&&t[e+n]===0;)++n;var i=t[e+n]>=Uo;return i&&--n,n}a(ph,"countPadding");function ex(t,e){t=mp(t);var r=pp(e),n=t.length;if(n!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var i=ph(t,0,r),s=ph(t,r,t.length),o=r-i,f=r-s,l=1+1+o+1+1+f,d=l<Uo,p=Lo.allocUnsafe((d?2:3)+l),x=0;return p[x++]=vp,d?p[x++]=l:(p[x++]=Uo|1,p[x++]=l&255),p[x++]=Do,p[x++]=o,i<0?(p[x++]=0,x+=t.copy(p,x,0,r)):x+=t.copy(p,x,i,r),p[x++]=Do,p[x++]=f,s<0?(p[x++]=0,t.copy(p,x,r)):t.copy(p,x,r+s),p}a(ex,"joseToDer");var tx={derToJose:Zb,joseToDer:ex},rx=Hb,ms=Fi.exports.Buffer,kn=Gr,yp=tx,gh=Fa,nx=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,ua="secret must be a string or buffer",ts="key must be a string or a buffer",ix="key must be a string, a buffer or an object",ql=typeof kn.createPublicKey=="function";ql&&(ts+=" or a KeyObject",ua+="or a KeyObject");function wp(t){if(!ms.isBuffer(t)&&typeof t!="string"&&(!ql||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw cn(ts)}a(wp,"checkIsPublicKey");function bp(t){if(!ms.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw cn(ix)}a(bp,"checkIsPrivateKey");function sx(t){if(!ms.isBuffer(t)){if(typeof t=="string")return t;if(!ql||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw cn(ua)}}a(sx,"checkIsSecretKey");function Vl(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}a(Vl,"fromBase64");function xp(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}a(xp,"toBase64");function cn(t){var e=[].slice.call(arguments,1),r=gh.format.bind(gh,t).apply(null,e);return new TypeError(r)}a(cn,"typeError");function ax(t){return ms.isBuffer(t)||typeof t=="string"}a(ax,"bufferOrString");function qa(t){return ax(t)||(t=JSON.stringify(t)),t}a(qa,"normalizeInput");function Ep(t){return a(function(r,n){sx(n),r=qa(r);var i=kn.createHmac("sha"+t,n),s=(i.update(r),i.digest("base64"));return Vl(s)},"sign")}a(Ep,"createHmacSigner");function ox(t){return a(function(r,n,i){var s=Ep(t)(r,i);return rx(ms.from(n),ms.from(s))},"verify")}a(ox,"createHmacVerifier");function _p(t){return a(function(r,n){bp(n),r=qa(r);var i=kn.createSign("RSA-SHA"+t),s=(i.update(r),i.sign(n,"base64"));return Vl(s)},"sign")}a(_p,"createKeySigner");function Ap(t){return a(function(r,n,i){wp(i),r=qa(r),n=xp(n);var s=kn.createVerify("RSA-SHA"+t);return s.update(r),s.verify(i,n,"base64")},"verify")}a(Ap,"createKeyVerifier");function fx(t){return a(function(r,n){bp(n),r=qa(r);var i=kn.createSign("RSA-SHA"+t),s=(i.update(r),i.sign({key:n,padding:kn.constants.RSA_PKCS1_PSS_PADDING,saltLength:kn.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return Vl(s)},"sign")}a(fx,"createPSSKeySigner");function ux(t){return a(function(r,n,i){wp(i),r=qa(r),n=xp(n);var s=kn.createVerify("RSA-SHA"+t);return s.update(r),s.verify({key:i,padding:kn.constants.RSA_PKCS1_PSS_PADDING,saltLength:kn.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")},"verify")}a(ux,"createPSSKeyVerifier");function lx(t){var e=_p(t);return a(function(){var n=e.apply(null,arguments);return n=yp.derToJose(n,"ES"+t),n},"sign")}a(lx,"createECDSASigner");function hx(t){var e=Ap(t);return a(function(n,i,s){i=yp.joseToDer(i,"ES"+t).toString("base64");var o=e(n,i,s);return o},"verify")}a(hx,"createECDSAVerifer");function cx(){return a(function(){return""},"sign")}a(cx,"createNoneSigner");function dx(){return a(function(e,r){return r===""},"verify")}a(dx,"createNoneVerifier");var Sp=a(function(e){var r={hs:Ep,rs:_p,ps:fx,es:lx,none:cx},n={hs:ox,rs:Ap,ps:ux,es:hx,none:dx},i=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!i)throw cn(nx,e);var s=(i[1]||i[3]).toLowerCase(),o=i[2];return{sign:r[s](o),verify:n[s](o)}},"jwa"),px=Ds.Buffer,Cp=a(function(e){return typeof e=="string"?e:typeof e=="number"||px.isBuffer(e)?e.toString():JSON.stringify(e)},"toString"),gx=Fi.exports.Buffer,vh=dp,vx=Sp,mx=Gr,mh=Cp,Kl=Fa;function yh(t,e){return gx.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}a(yh,"base64url$1");function yx(t,e,r){r=r||"utf8";var n=yh(mh(t),"binary"),i=yh(mh(e),r);return Kl.format("%s.%s",n,i)}a(yx,"jwsSecuredInput");function Tp(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,i=t.encoding,s=vx(e.alg),o=yx(e,r,i),f=s.sign(o,n);return Kl.format("%s.%s",o,f)}a(Tp,"jwsSign");function mf(t){var e=t.secret||t.privateKey||t.key,r=new vh(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new vh(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}a(mf,"SignStream$1");Kl.inherits(mf,mx);mf.prototype.sign=a(function(){try{var e=Tp({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}},"sign");mf.sign=Tp;var wx=mf,Ip=Fi.exports.Buffer,wh=dp,bx=Sp,xx=Gr,Mp=Cp,Ex=Fa,_x=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function Ax(t){return Object.prototype.toString.call(t)==="[object Object]"}a(Ax,"isObject$3");function Sx(t){if(Ax(t))return t;try{return JSON.parse(t)}catch{return}}a(Sx,"safeJsonParse$2");function Np(t){var e=t.split(".",1)[0];return Sx(Ip.from(e,"base64").toString("binary"))}a(Np,"headerFromJWS");function Cx(t){return t.split(".",2).join(".")}a(Cx,"securedInputFromJWS");function Rp(t){return t.split(".")[2]}a(Rp,"signatureFromJWS");function Tx(t,e){e=e||"utf8";var r=t.split(".")[1];return Ip.from(r,"base64").toString(e)}a(Tx,"payloadFromJWS");function Bp(t){return _x.test(t)&&!!Np(t)}a(Bp,"isValidJws");function kp(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}t=Mp(t);var i=Rp(t),s=Cx(t),o=bx(e);return o.verify(s,i,r)}a(kp,"jwsVerify");function Pp(t,e){if(e=e||{},t=Mp(t),!Bp(t))return null;var r=Np(t);if(!r)return null;var n=Tx(t);return(r.typ==="JWT"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:r,payload:n,signature:Rp(t)}}a(Pp,"jwsDecode");function Fs(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new wh(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new wh(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}a(Fs,"VerifyStream$1");Ex.inherits(Fs,xx);Fs.prototype.verify=a(function(){try{var e=kp(this.signature.buffer,this.algorithm,this.key.buffer),r=Pp(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}},"verify");Fs.decode=Pp;Fs.isValid=Bp;Fs.verify=kp;var Ix=Fs,Op=wx,yf=Ix,Mx=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];Kn.ALGORITHMS=Mx;Kn.sign=Op.sign;Kn.verify=yf.verify;Kn.decode=yf.decode;Kn.isValid=yf.isValid;Kn.createSign=a(function(e){return new Op(e)},"createSign");Kn.createVerify=a(function(e){return new yf(e)},"createVerify");var Nx=Kn,Lp=a(function(t,e){e=e||{};var r=Nx.decode(t,e);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var i=JSON.parse(n);i!==null&&typeof i=="object"&&(n=i)}catch{}return e.complete===!0?{header:r.header,payload:n,signature:r.signature}:n},"decode$6"),Fo=a(function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)},"JsonWebTokenError$3");Fo.prototype=Object.create(Error.prototype);Fo.prototype.constructor=Fo;var wf=Fo,Up=wf,qo=a(function(t,e){Up.call(this,t),this.name="NotBeforeError",this.date=e},"NotBeforeError$1");qo.prototype=Object.create(Up.prototype);qo.prototype.constructor=qo;var Dp=qo,Fp=wf,Vo=a(function(t,e){Fp.call(this,t),this.name="TokenExpiredError",this.expiredAt=e},"TokenExpiredError$1");Vo.prototype=Object.create(Fp.prototype);Vo.prototype.constructor=Vo;var qp=Vo,ys=1e3,ws=ys*60,bs=ws*60,qi=bs*24,Rx=qi*7,Bx=qi*365.25,kx=a(function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Px(t);if(r==="number"&&isFinite(t))return e.long?Lx(t):Ox(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))},"ms$1");function Px(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Bx;case"weeks":case"week":case"w":return r*Rx;case"days":case"day":case"d":return r*qi;case"hours":case"hour":case"hrs":case"hr":case"h":return r*bs;case"minutes":case"minute":case"mins":case"min":case"m":return r*ws;case"seconds":case"second":case"secs":case"sec":case"s":return r*ys;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}a(Px,"parse$2");function Ox(t){var e=Math.abs(t);return e>=qi?Math.round(t/qi)+"d":e>=bs?Math.round(t/bs)+"h":e>=ws?Math.round(t/ws)+"m":e>=ys?Math.round(t/ys)+"s":t+"ms"}a(Ox,"fmtShort");function Lx(t){var e=Math.abs(t);return e>=qi?Xa(t,e,qi,"day"):e>=bs?Xa(t,e,bs,"hour"):e>=ws?Xa(t,e,ws,"minute"):e>=ys?Xa(t,e,ys,"second"):t+" ms"}a(Lx,"fmtLong");function Xa(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}a(Xa,"plural");var Ux=kx,Vp=a(function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t=="string"){var n=Ux(t);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof t=="number"?r+t:void 0},"timespan$2"),Ku={exports:{}};(function(t,e){e=t.exports=C;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=a(function(){var V=Array.prototype.slice.call(arguments,0);V.unshift("SEMVER"),console.log.apply(console,V)},"debug"):r=a(function(){},"debug"),e.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,s=16,o=e.re=[],f=e.src=[],l=0,d=l++;f[d]="0|[1-9]\\d*";var p=l++;f[p]="[0-9]+";var x=l++;f[x]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var T=l++;f[T]="("+f[d]+")\\.("+f[d]+")\\.("+f[d]+")";var R=l++;f[R]="("+f[p]+")\\.("+f[p]+")\\.("+f[p]+")";var N=l++;f[N]="(?:"+f[d]+"|"+f[x]+")";var O=l++;f[O]="(?:"+f[p]+"|"+f[x]+")";var B=l++;f[B]="(?:-("+f[N]+"(?:\\."+f[N]+")*))";var k=l++;f[k]="(?:-?("+f[O]+"(?:\\."+f[O]+")*))";var L=l++;f[L]="[0-9A-Za-z-]+";var D=l++;f[D]="(?:\\+("+f[L]+"(?:\\."+f[L]+")*))";var H=l++,K="v?"+f[T]+f[B]+"?"+f[D]+"?";f[H]="^"+K+"$";var j="[v=\\s]*"+f[R]+f[k]+"?"+f[D]+"?",ie=l++;f[ie]="^"+j+"$";var J=l++;f[J]="((?:<|>)?=?)";var ue=l++;f[ue]=f[p]+"|x|X|\\*";var P=l++;f[P]=f[d]+"|x|X|\\*";var b=l++;f[b]="[v=\\s]*("+f[P]+")(?:\\.("+f[P]+")(?:\\.("+f[P]+")(?:"+f[B]+")?"+f[D]+"?)?)?";var S=l++;f[S]="[v=\\s]*("+f[ue]+")(?:\\.("+f[ue]+")(?:\\.("+f[ue]+")(?:"+f[k]+")?"+f[D]+"?)?)?";var m=l++;f[m]="^"+f[J]+"\\s*"+f[b]+"$";var u=l++;f[u]="^"+f[J]+"\\s*"+f[S]+"$";var c=l++;f[c]="(?:^|[^\\d])(\\d{1,"+s+"})(?:\\.(\\d{1,"+s+"}))?(?:\\.(\\d{1,"+s+"}))?(?:$|[^\\d])";var v=l++;f[v]="(?:~>?)";var y=l++;f[y]="(\\s*)"+f[v]+"\\s+",o[y]=new RegExp(f[y],"g");var E="$1~",g=l++;f[g]="^"+f[v]+f[b]+"$";var _=l++;f[_]="^"+f[v]+f[S]+"$";var w=l++;f[w]="(?:\\^)";var h=l++;f[h]="(\\s*)"+f[w]+"\\s+",o[h]=new RegExp(f[h],"g");var A="$1^",$=l++;f[$]="^"+f[w]+f[b]+"$";var I=l++;f[I]="^"+f[w]+f[S]+"$";var q=l++;f[q]="^"+f[J]+"\\s*("+j+")$|^$";var Z=l++;f[Z]="^"+f[J]+"\\s*("+K+")$|^$";var z=l++;f[z]="(\\s*)"+f[J]+"\\s*("+j+"|"+f[b]+")",o[z]=new RegExp(f[z],"g");var Q="$1$2$3",le=l++;f[le]="^\\s*("+f[b]+")\\s+-\\s+("+f[b]+")\\s*$";var te=l++;f[te]="^\\s*("+f[S]+")\\s+-\\s+("+f[S]+")\\s*$";var re=l++;f[re]="(<|>)?=?\\s*\\*";for(var me=0;me<l;me++)r(me,f[me]),o[me]||(o[me]=new RegExp(f[me]));e.parse=oe;function oe(V,X){if((!X||typeof X!="object")&&(X={loose:!!X,includePrerelease:!1}),V instanceof C)return V;if(typeof V!="string"||V.length>n)return null;var se=X.loose?o[ie]:o[H];if(!se.test(V))return null;try{return new C(V,X)}catch{return null}}a(oe,"parse"),e.valid=ce;function ce(V,X){var se=oe(V,X);return se?se.version:null}a(ce,"valid"),e.clean=F;function F(V,X){var se=oe(V.trim().replace(/^[=v]+/,""),X);return se?se.version:null}a(F,"clean"),e.SemVer=C;function C(V,X){if((!X||typeof X!="object")&&(X={loose:!!X,includePrerelease:!1}),V instanceof C){if(V.loose===X.loose)return V;V=V.version}else if(typeof V!="string")throw new TypeError("Invalid Version: "+V);if(V.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof C))return new C(V,X);r("SemVer",V,X),this.options=X,this.loose=!!X.loose;var se=V.trim().match(X.loose?o[ie]:o[H]);if(!se)throw new TypeError("Invalid Version: "+V);if(this.raw=V,this.major=+se[1],this.minor=+se[2],this.patch=+se[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");se[4]?this.prerelease=se[4].split(".").map(function(pe){if(/^[0-9]+$/.test(pe)){var ye=+pe;if(ye>=0&&ye<i)return ye}return pe}):this.prerelease=[],this.build=se[5]?se[5].split("."):[],this.format()}a(C,"SemVer"),C.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},C.prototype.toString=function(){return this.version},C.prototype.compare=function(V){return r("SemVer.compare",this.version,this.options,V),V instanceof C||(V=new C(V,this.options)),this.compareMain(V)||this.comparePre(V)},C.prototype.compareMain=function(V){return V instanceof C||(V=new C(V,this.options)),ne(this.major,V.major)||ne(this.minor,V.minor)||ne(this.patch,V.patch)},C.prototype.comparePre=function(V){if(V instanceof C||(V=new C(V,this.options)),this.prerelease.length&&!V.prerelease.length)return-1;if(!this.prerelease.length&&V.prerelease.length)return 1;if(!this.prerelease.length&&!V.prerelease.length)return 0;var X=0;do{var se=this.prerelease[X],pe=V.prerelease[X];if(r("prerelease compare",X,se,pe),se===void 0&&pe===void 0)return 0;if(pe===void 0)return 1;if(se===void 0)return-1;if(se===pe)continue;return ne(se,pe)}while(++X)},C.prototype.inc=function(V,X){switch(V){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",X);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",X);break;case"prepatch":this.prerelease.length=0,this.inc("patch",X),this.inc("pre",X);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",X),this.inc("pre",X);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var se=this.prerelease.length;--se>=0;)typeof this.prerelease[se]=="number"&&(this.prerelease[se]++,se=-2);se===-1&&this.prerelease.push(0)}X&&(this.prerelease[0]===X?isNaN(this.prerelease[1])&&(this.prerelease=[X,0]):this.prerelease=[X,0]);break;default:throw new Error("invalid increment argument: "+V)}return this.format(),this.raw=this.version,this},e.inc=M;function M(V,X,se,pe){typeof se=="string"&&(pe=se,se=void 0);try{return new C(V,se).inc(X,pe).version}catch{return null}}a(M,"inc"),e.diff=G;function G(V,X){if(De(V,X))return null;var se=oe(V),pe=oe(X),ye="";if(se.prerelease.length||pe.prerelease.length){ye="pre";var Me="prerelease"}for(var Ue in se)if((Ue==="major"||Ue==="minor"||Ue==="patch")&&se[Ue]!==pe[Ue])return ye+Ue;return Me}a(G,"diff"),e.compareIdentifiers=ne;var W=/^[0-9]+$/;function ne(V,X){var se=W.test(V),pe=W.test(X);return se&&pe&&(V=+V,X=+X),V===X?0:se&&!pe?-1:pe&&!se?1:V<X?-1:1}a(ne,"compareIdentifiers"),e.rcompareIdentifiers=de;function de(V,X){return ne(X,V)}a(de,"rcompareIdentifiers"),e.major=ve;function ve(V,X){return new C(V,X).major}a(ve,"major"),e.minor=we;function we(V,X){return new C(V,X).minor}a(we,"minor"),e.patch=mt;function mt(V,X){return new C(V,X).patch}a(mt,"patch"),e.compare=be;function be(V,X,se){return new C(V,se).compare(new C(X,se))}a(be,"compare"),e.compareLoose=xe;function xe(V,X){return be(V,X,!0)}a(xe,"compareLoose"),e.rcompare=tr;function tr(V,X,se){return be(X,V,se)}a(tr,"rcompare"),e.sort=ke;function ke(V,X){return V.sort(function(se,pe){return e.compare(se,pe,X)})}a(ke,"sort"),e.rsort=Pe;function Pe(V,X){return V.sort(function(se,pe){return e.rcompare(se,pe,X)})}a(Pe,"rsort"),e.gt=sr;function sr(V,X,se){return be(V,X,se)>0}a(sr,"gt"),e.lt=Oe;function Oe(V,X,se){return be(V,X,se)<0}a(Oe,"lt"),e.eq=De;function De(V,X,se){return be(V,X,se)===0}a(De,"eq"),e.neq=wr;function wr(V,X,se){return be(V,X,se)!==0}a(wr,"neq"),e.gte=Fe;function Fe(V,X,se){return be(V,X,se)>=0}a(Fe,"gte"),e.lte=qe;function qe(V,X,se){return be(V,X,se)<=0}a(qe,"lte"),e.cmp=ur;function ur(V,X,se,pe){switch(X){case"===":return typeof V=="object"&&(V=V.version),typeof se=="object"&&(se=se.version),V===se;case"!==":return typeof V=="object"&&(V=V.version),typeof se=="object"&&(se=se.version),V!==se;case"":case"=":case"==":return De(V,se,pe);case"!=":return wr(V,se,pe);case">":return sr(V,se,pe);case">=":return Fe(V,se,pe);case"<":return Oe(V,se,pe);case"<=":return qe(V,se,pe);default:throw new TypeError("Invalid operator: "+X)}}a(ur,"cmp"),e.Comparator=Ce;function Ce(V,X){if((!X||typeof X!="object")&&(X={loose:!!X,includePrerelease:!1}),V instanceof Ce){if(V.loose===!!X.loose)return V;V=V.value}if(!(this instanceof Ce))return new Ce(V,X);r("comparator",V,X),this.options=X,this.loose=!!X.loose,this.parse(V),this.semver===Re?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}a(Ce,"Comparator");var Re={};Ce.prototype.parse=function(V){var X=this.options.loose?o[q]:o[Z],se=V.match(X);if(!se)throw new TypeError("Invalid comparator: "+V);this.operator=se[1],this.operator==="="&&(this.operator=""),se[2]?this.semver=new C(se[2],this.options.loose):this.semver=Re},Ce.prototype.toString=function(){return this.value},Ce.prototype.test=function(V){return r("Comparator.test",V,this.options.loose),this.semver===Re?!0:(typeof V=="string"&&(V=new C(V,this.options)),ur(V,this.operator,this.semver,this.options))},Ce.prototype.intersects=function(V,X){if(!(V instanceof Ce))throw new TypeError("a Comparator is required");(!X||typeof X!="object")&&(X={loose:!!X,includePrerelease:!1});var se;if(this.operator==="")return se=new wt(V.value,X),Le(this.value,se,X);if(V.operator==="")return se=new wt(this.value,X),Le(V.semver,se,X);var pe=(this.operator===">="||this.operator===">")&&(V.operator===">="||V.operator===">"),ye=(this.operator==="<="||this.operator==="<")&&(V.operator==="<="||V.operator==="<"),Me=this.semver.version===V.semver.version,Ue=(this.operator===">="||this.operator==="<=")&&(V.operator===">="||V.operator==="<="),lt=ur(this.semver,"<",V.semver,X)&&(this.operator===">="||this.operator===">")&&(V.operator==="<="||V.operator==="<"),ut=ur(this.semver,">",V.semver,X)&&(this.operator==="<="||this.operator==="<")&&(V.operator===">="||V.operator===">");return pe||ye||Me&&Ue||lt||ut},e.Range=wt;function wt(V,X){if((!X||typeof X!="object")&&(X={loose:!!X,includePrerelease:!1}),V instanceof wt)return V.loose===!!X.loose&&V.includePrerelease===!!X.includePrerelease?V:new wt(V.raw,X);if(V instanceof Ce)return new wt(V.value,X);if(!(this instanceof wt))return new wt(V,X);if(this.options=X,this.loose=!!X.loose,this.includePrerelease=!!X.includePrerelease,this.raw=V,this.set=V.split(/\s*\|\|\s*/).map(function(se){return this.parseRange(se.trim())},this).filter(function(se){return se.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+V);this.format()}a(wt,"Range"),wt.prototype.format=function(){return this.range=this.set.map(function(V){return V.join(" ").trim()}).join("||").trim(),this.range},wt.prototype.toString=function(){return this.range},wt.prototype.parseRange=function(V){var X=this.options.loose;V=V.trim();var se=X?o[te]:o[le];V=V.replace(se,Je),r("hyphen replace",V),V=V.replace(o[z],Q),r("comparator trim",V,o[z]),V=V.replace(o[y],E),V=V.replace(o[h],A),V=V.split(/\s+/).join(" ");var pe=X?o[q]:o[Z],ye=V.split(" ").map(function(Me){return je(Me,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(ye=ye.filter(function(Me){return!!Me.match(pe)})),ye=ye.map(function(Me){return new Ce(Me,this.options)},this),ye},wt.prototype.intersects=function(V,X){if(!(V instanceof wt))throw new TypeError("a Range is required");return this.set.some(function(se){return se.every(function(pe){return V.set.some(function(ye){return ye.every(function(Me){return pe.intersects(Me,X)})})})})},e.toComparators=Ge;function Ge(V,X){return new wt(V,X).set.map(function(se){return se.map(function(pe){return pe.value}).join(" ").trim().split(" ")})}a(Ge,"toComparators");function je(V,X){return r("comp",V,X),V=Ar(V,X),r("caret",V),V=ze(V,X),r("tildes",V),V=Qe(V,X),r("xrange",V),V=Ye(V,X),r("stars",V),V}a(je,"parseComparator");function kt(V){return!V||V.toLowerCase()==="x"||V==="*"}a(kt,"isX");function ze(V,X){return V.trim().split(/\s+/).map(function(se){return $e(se,X)}).join(" ")}a(ze,"replaceTildes");function $e(V,X){var se=X.loose?o[_]:o[g];return V.replace(se,function(pe,ye,Me,Ue,lt){r("tilde",V,pe,ye,Me,Ue,lt);var ut;return kt(ye)?ut="":kt(Me)?ut=">="+ye+".0.0 <"+(+ye+1)+".0.0":kt(Ue)?ut=">="+ye+"."+Me+".0 <"+ye+"."+(+Me+1)+".0":lt?(r("replaceTilde pr",lt),ut=">="+ye+"."+Me+"."+Ue+"-"+lt+" <"+ye+"."+(+Me+1)+".0"):ut=">="+ye+"."+Me+"."+Ue+" <"+ye+"."+(+Me+1)+".0",r("tilde return",ut),ut})}a($e,"replaceTilde");function Ar(V,X){return V.trim().split(/\s+/).map(function(se){return We(se,X)}).join(" ")}a(Ar,"replaceCarets");function We(V,X){r("caret",V,X);var se=X.loose?o[I]:o[$];return V.replace(se,function(pe,ye,Me,Ue,lt){r("caret",V,pe,ye,Me,Ue,lt);var ut;return kt(ye)?ut="":kt(Me)?ut=">="+ye+".0.0 <"+(+ye+1)+".0.0":kt(Ue)?ye==="0"?ut=">="+ye+"."+Me+".0 <"+ye+"."+(+Me+1)+".0":ut=">="+ye+"."+Me+".0 <"+(+ye+1)+".0.0":lt?(r("replaceCaret pr",lt),ye==="0"?Me==="0"?ut=">="+ye+"."+Me+"."+Ue+"-"+lt+" <"+ye+"."+Me+"."+(+Ue+1):ut=">="+ye+"."+Me+"."+Ue+"-"+lt+" <"+ye+"."+(+Me+1)+".0":ut=">="+ye+"."+Me+"."+Ue+"-"+lt+" <"+(+ye+1)+".0.0"):(r("no pr"),ye==="0"?Me==="0"?ut=">="+ye+"."+Me+"."+Ue+" <"+ye+"."+Me+"."+(+Ue+1):ut=">="+ye+"."+Me+"."+Ue+" <"+ye+"."+(+Me+1)+".0":ut=">="+ye+"."+Me+"."+Ue+" <"+(+ye+1)+".0.0"),r("caret return",ut),ut})}a(We,"replaceCaret");function Qe(V,X){return r("replaceXRanges",V,X),V.split(/\s+/).map(function(se){return Sr(se,X)}).join(" ")}a(Qe,"replaceXRanges");function Sr(V,X){V=V.trim();var se=X.loose?o[u]:o[m];return V.replace(se,function(pe,ye,Me,Ue,lt,ut){r("xRange",V,pe,ye,Me,Ue,lt,ut);var Qt=kt(Me),Yt=Qt||kt(Ue),Ht=Yt||kt(lt),Ft=Ht;return ye==="="&&Ft&&(ye=""),Qt?ye===">"||ye==="<"?pe="<0.0.0":pe="*":ye&&Ft?(Yt&&(Ue=0),lt=0,ye===">"?(ye=">=",Yt?(Me=+Me+1,Ue=0,lt=0):(Ue=+Ue+1,lt=0)):ye==="<="&&(ye="<",Yt?Me=+Me+1:Ue=+Ue+1),pe=ye+Me+"."+Ue+"."+lt):Yt?pe=">="+Me+".0.0 <"+(+Me+1)+".0.0":Ht&&(pe=">="+Me+"."+Ue+".0 <"+Me+"."+(+Ue+1)+".0"),r("xRange return",pe),pe})}a(Sr,"replaceXRange");function Ye(V,X){return r("replaceStars",V,X),V.trim().replace(o[re],"")}a(Ye,"replaceStars");function Je(V,X,se,pe,ye,Me,Ue,lt,ut,Qt,Yt,Ht,Ft){return kt(se)?X="":kt(pe)?X=">="+se+".0.0":kt(ye)?X=">="+se+"."+pe+".0":X=">="+X,kt(ut)?lt="":kt(Qt)?lt="<"+(+ut+1)+".0.0":kt(Yt)?lt="<"+ut+"."+(+Qt+1)+".0":Ht?lt="<="+ut+"."+Qt+"."+Yt+"-"+Ht:lt="<="+lt,(X+" "+lt).trim()}a(Je,"hyphenReplace"),wt.prototype.test=function(V){if(!V)return!1;typeof V=="string"&&(V=new C(V,this.options));for(var X=0;X<this.set.length;X++)if(Cr(this.set[X],V,this.options))return!0;return!1};function Cr(V,X,se){for(var pe=0;pe<V.length;pe++)if(!V[pe].test(X))return!1;if(X.prerelease.length&&!se.includePrerelease){for(pe=0;pe<V.length;pe++)if(r(V[pe].semver),V[pe].semver!==Re&&V[pe].semver.prerelease.length>0){var ye=V[pe].semver;if(ye.major===X.major&&ye.minor===X.minor&&ye.patch===X.patch)return!0}return!1}return!0}a(Cr,"testSet"),e.satisfies=Le;function Le(V,X,se){try{X=new wt(X,se)}catch{return!1}return X.test(V)}a(Le,"satisfies"),e.maxSatisfying=Xe;function Xe(V,X,se){var pe=null,ye=null;try{var Me=new wt(X,se)}catch{return null}return V.forEach(function(Ue){Me.test(Ue)&&(!pe||ye.compare(Ue)===-1)&&(pe=Ue,ye=new C(pe,se))}),pe}a(Xe,"maxSatisfying"),e.minSatisfying=Tr;function Tr(V,X,se){var pe=null,ye=null;try{var Me=new wt(X,se)}catch{return null}return V.forEach(function(Ue){Me.test(Ue)&&(!pe||ye.compare(Ue)===1)&&(pe=Ue,ye=new C(pe,se))}),pe}a(Tr,"minSatisfying"),e.minVersion=Ze;function Ze(V,X){V=new wt(V,X);var se=new C("0.0.0");if(V.test(se)||(se=new C("0.0.0-0"),V.test(se)))return se;se=null;for(var pe=0;pe<V.set.length;++pe){var ye=V.set[pe];ye.forEach(function(Me){var Ue=new C(Me.semver.version);switch(Me.operator){case">":Ue.prerelease.length===0?Ue.patch++:Ue.prerelease.push(0),Ue.raw=Ue.format();case"":case">=":(!se||sr(se,Ue))&&(se=Ue);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+Me.operator)}})}return se&&V.test(se)?se:null}a(Ze,"minVersion"),e.validRange=et;function et(V,X){try{return new wt(V,X).range||"*"}catch{return null}}a(et,"validRange"),e.ltr=Ir;function Ir(V,X,se){return Ve(V,X,"<",se)}a(Ir,"ltr"),e.gtr=tt;function tt(V,X,se){return Ve(V,X,">",se)}a(tt,"gtr"),e.outside=Ve;function Ve(V,X,se,pe){V=new C(V,pe),X=new wt(X,pe);var ye,Me,Ue,lt,ut;switch(se){case">":ye=sr,Me=qe,Ue=Oe,lt=">",ut=">=";break;case"<":ye=Oe,Me=Fe,Ue=sr,lt="<",ut="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Le(V,X,pe))return!1;for(var Qt=0;Qt<X.set.length;++Qt){var Yt=X.set[Qt],Ht=null,Ft=null;if(Yt.forEach(function(rr){rr.semver===Re&&(rr=new Ce(">=0.0.0")),Ht=Ht||rr,Ft=Ft||rr,ye(rr.semver,Ht.semver,pe)?Ht=rr:Ue(rr.semver,Ft.semver,pe)&&(Ft=rr)}),Ht.operator===lt||Ht.operator===ut||(!Ft.operator||Ft.operator===lt)&&Me(V,Ft.semver))return!1;if(Ft.operator===ut&&Ue(V,Ft.semver))return!1}return!0}a(Ve,"outside"),e.prerelease=br;function br(V,X){var se=oe(V,X);return se&&se.prerelease.length?se.prerelease:null}a(br,"prerelease"),e.intersects=it;function it(V,X,se){return V=new wt(V,se),X=new wt(X,se),V.intersects(X)}a(it,"intersects"),e.coerce=st;function st(V){if(V instanceof C)return V;if(typeof V!="string")return null;var X=V.match(o[c]);return X==null?null:oe(X[1]+"."+(X[2]||"0")+"."+(X[3]||"0"))}a(st,"coerce")})(Ku,Ku.exports);var Dx=Ku.exports,Kp=Dx.satisfies(process.version,"^6.12.0 || >=8.0.0"),Zt=wf,Fx=Dp,bh=qp,qx=Lp,Vx=Vp,Kx=Kp,Hx=Kn,Hp=["RS256","RS384","RS512","ES256","ES384","ES512"],Gp=["RS256","RS384","RS512"],Gx=["HS256","HS384","HS512"];Kx&&(Hp.splice(3,0,"PS256","PS384","PS512"),Gp.splice(3,0,"PS256","PS384","PS512"));var jx=a(function(t,e,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);var i;if(n?i=n:i=a(function(p,x){if(p)throw p;return x},"done"),r.clockTimestamp&&typeof r.clockTimestamp!="number")return i(new Zt("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return i(new Zt("nonce must be a non-empty string"));var s=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return i(new Zt("jwt must be provided"));if(typeof t!="string")return i(new Zt("jwt must be a string"));var o=t.split(".");if(o.length!==3)return i(new Zt("jwt malformed"));var f;try{f=qx(t,{complete:!0})}catch(p){return i(p)}if(!f)return i(new Zt("invalid token"));var l=f.header,d;if(typeof e=="function"){if(!n)return i(new Zt("verify must be called asynchronous if secret or public key is provided as a callback"));d=e}else d=a(function(p,x){return x(null,e)},"getSecret");return d(l,function(p,x){if(p)return i(new Zt("error in secret or public key callback: "+p.message));var T=o[2].trim()!=="";if(!T&&x)return i(new Zt("jwt signature is required"));if(T&&!x)return i(new Zt("secret or public key must be provided"));if(!T&&!r.algorithms&&(r.algorithms=["none"]),r.algorithms||(r.algorithms=~x.toString().indexOf("BEGIN CERTIFICATE")||~x.toString().indexOf("BEGIN PUBLIC KEY")?Hp:~x.toString().indexOf("BEGIN RSA PUBLIC KEY")?Gp:Gx),!~r.algorithms.indexOf(f.header.alg))return i(new Zt("invalid algorithm"));var R;try{R=Hx.verify(t,f.header.alg,x)}catch(K){return i(K)}if(!R)return i(new Zt("invalid signature"));var N=f.payload;if(typeof N.nbf<"u"&&!r.ignoreNotBefore){if(typeof N.nbf!="number")return i(new Zt("invalid nbf value"));if(N.nbf>s+(r.clockTolerance||0))return i(new Fx("jwt not active",new Date(N.nbf*1e3)))}if(typeof N.exp<"u"&&!r.ignoreExpiration){if(typeof N.exp!="number")return i(new Zt("invalid exp value"));if(s>=N.exp+(r.clockTolerance||0))return i(new bh("jwt expired",new Date(N.exp*1e3)))}if(r.audience){var O=Array.isArray(r.audience)?r.audience:[r.audience],B=Array.isArray(N.aud)?N.aud:[N.aud],k=B.some(function(K){return O.some(function(j){return j instanceof RegExp?j.test(K):j===K})});if(!k)return i(new Zt("jwt audience invalid. expected: "+O.join(" or ")))}if(r.issuer){var L=typeof r.issuer=="string"&&N.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(N.iss)===-1;if(L)return i(new Zt("jwt issuer invalid. expected: "+r.issuer))}if(r.subject&&N.sub!==r.subject)return i(new Zt("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&N.jti!==r.jwtid)return i(new Zt("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&N.nonce!==r.nonce)return i(new Zt("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof N.iat!="number")return i(new Zt("iat required when maxAge is specified"));var D=Vx(r.maxAge,N.iat);if(typeof D>"u")return i(new Zt('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(s>=D+(r.clockTolerance||0))return i(new bh("maxAge exceeded",new Date(D*1e3)))}if(r.complete===!0){var H=f.signature;return i(null,{header:l,payload:N,signature:H})}return i(null,N)})},"verify"),xh=1/0,jp=9007199254740991,zx=17976931348623157e292,Eh=0/0,$x="[object Arguments]",Wx="[object Function]",Qx="[object GeneratorFunction]",Yx="[object String]",Jx="[object Symbol]",Xx=/^\s+|\s+$/g,Zx=/^[-+]0x[0-9a-f]+$/i,eE=/^0b[01]+$/i,tE=/^0o[0-7]+$/i,rE=/^(?:0|[1-9]\d*)$/,nE=parseInt;function iE(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}a(iE,"arrayMap");function sE(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}a(sE,"baseFindIndex");function aE(t,e,r){if(e!==e)return sE(t,oE,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}a(aE,"baseIndexOf");function oE(t){return t!==t}a(oE,"baseIsNaN");function fE(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}a(fE,"baseTimes");function uE(t,e){return iE(e,function(r){return t[r]})}a(uE,"baseValues");function lE(t,e){return function(r){return t(e(r))}}a(lE,"overArg$1");var bf=Object.prototype,Hl=bf.hasOwnProperty,xf=bf.toString,hE=bf.propertyIsEnumerable,cE=lE(Object.keys,Object),dE=Math.max;function pE(t,e){var r=zp(t)||wE(t)?fE(t.length,String):[],n=r.length,i=!!n;for(var s in t)(e||Hl.call(t,s))&&!(i&&(s=="length"||vE(s,n)))&&r.push(s);return r}a(pE,"arrayLikeKeys");function gE(t){if(!mE(t))return cE(t);var e=[];for(var r in Object(t))Hl.call(t,r)&&r!="constructor"&&e.push(r);return e}a(gE,"baseKeys");function vE(t,e){return e=e==null?jp:e,!!e&&(typeof t=="number"||rE.test(t))&&t>-1&&t%1==0&&t<e}a(vE,"isIndex");function mE(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||bf;return t===r}a(mE,"isPrototype");function yE(t,e,r,n){t=Gl(t)?t:ME(t),r=r&&!n?CE(r):0;var i=t.length;return r<0&&(r=dE(i+r,0)),_E(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&aE(t,e,r)>-1}a(yE,"includes$1");function wE(t){return bE(t)&&Hl.call(t,"callee")&&(!hE.call(t,"callee")||xf.call(t)==$x)}a(wE,"isArguments");var zp=Array.isArray;function Gl(t){return t!=null&&EE(t.length)&&!xE(t)}a(Gl,"isArrayLike");function bE(t){return jl(t)&&Gl(t)}a(bE,"isArrayLikeObject");function xE(t){var e=Hu(t)?xf.call(t):"";return e==Wx||e==Qx}a(xE,"isFunction");function EE(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jp}a(EE,"isLength");function Hu(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}a(Hu,"isObject$2");function jl(t){return!!t&&typeof t=="object"}a(jl,"isObjectLike$6");function _E(t){return typeof t=="string"||!zp(t)&&jl(t)&&xf.call(t)==Yx}a(_E,"isString$2");function AE(t){return typeof t=="symbol"||jl(t)&&xf.call(t)==Jx}a(AE,"isSymbol$2");function SE(t){if(!t)return t===0?t:0;if(t=TE(t),t===xh||t===-xh){var e=t<0?-1:1;return e*zx}return t===t?t:0}a(SE,"toFinite$2");function CE(t){var e=SE(t),r=e%1;return e===e?r?e-r:e:0}a(CE,"toInteger$2");function TE(t){if(typeof t=="number")return t;if(AE(t))return Eh;if(Hu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Hu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Xx,"");var r=eE.test(t);return r||tE.test(t)?nE(t.slice(2),r?2:8):Zx.test(t)?Eh:+t}a(TE,"toNumber$2");function IE(t){return Gl(t)?pE(t):gE(t)}a(IE,"keys");function ME(t){return t?uE(t,IE(t)):[]}a(ME,"values");var NE=yE,RE="[object Boolean]",BE=Object.prototype,kE=BE.toString;function PE(t){return t===!0||t===!1||OE(t)&&kE.call(t)==RE}a(PE,"isBoolean$1");function OE(t){return!!t&&typeof t=="object"}a(OE,"isObjectLike$5");var LE=PE,_h=1/0,UE=17976931348623157e292,Ah=0/0,DE="[object Symbol]",FE=/^\s+|\s+$/g,qE=/^[-+]0x[0-9a-f]+$/i,VE=/^0b[01]+$/i,KE=/^0o[0-7]+$/i,HE=parseInt,GE=Object.prototype,jE=GE.toString;function zE(t){return typeof t=="number"&&t==YE(t)}a(zE,"isInteger$2");function Sh(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}a(Sh,"isObject$1");function $E(t){return!!t&&typeof t=="object"}a($E,"isObjectLike$4");function WE(t){return typeof t=="symbol"||$E(t)&&jE.call(t)==DE}a(WE,"isSymbol$1");function QE(t){if(!t)return t===0?t:0;if(t=JE(t),t===_h||t===-_h){var e=t<0?-1:1;return e*UE}return t===t?t:0}a(QE,"toFinite$1");function YE(t){var e=QE(t),r=e%1;return e===e?r?e-r:e:0}a(YE,"toInteger$1");function JE(t){if(typeof t=="number")return t;if(WE(t))return Ah;if(Sh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Sh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(FE,"");var r=VE.test(t);return r||KE.test(t)?HE(t.slice(2),r?2:8):qE.test(t)?Ah:+t}a(JE,"toNumber$1");var XE=zE,ZE="[object Number]",e_=Object.prototype,t_=e_.toString;function r_(t){return!!t&&typeof t=="object"}a(r_,"isObjectLike$3");function n_(t){return typeof t=="number"||r_(t)&&t_.call(t)==ZE}a(n_,"isNumber$1");var i_=n_,s_="[object Object]";function a_(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}a(a_,"isHostObject");function o_(t,e){return function(r){return t(e(r))}}a(o_,"overArg");var f_=Function.prototype,$p=Object.prototype,Wp=f_.toString,u_=$p.hasOwnProperty,l_=Wp.call(Object),h_=$p.toString,c_=o_(Object.getPrototypeOf,Object);function d_(t){return!!t&&typeof t=="object"}a(d_,"isObjectLike$2");function p_(t){if(!d_(t)||h_.call(t)!=s_||a_(t))return!1;var e=c_(t);if(e===null)return!0;var r=u_.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Wp.call(r)==l_}a(p_,"isPlainObject$1");var g_=p_,v_="[object String]",m_=Object.prototype,y_=m_.toString,w_=Array.isArray;function b_(t){return!!t&&typeof t=="object"}a(b_,"isObjectLike$1");function x_(t){return typeof t=="string"||!w_(t)&&b_(t)&&y_.call(t)==v_}a(x_,"isString$1");var E_=x_,__="Expected a function",Ch=1/0,A_=17976931348623157e292,Th=0/0,S_="[object Symbol]",C_=/^\s+|\s+$/g,T_=/^[-+]0x[0-9a-f]+$/i,I_=/^0b[01]+$/i,M_=/^0o[0-7]+$/i,N_=parseInt,R_=Object.prototype,B_=R_.toString;function k_(t,e){var r;if(typeof e!="function")throw new TypeError(__);return t=D_(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}a(k_,"before");function P_(t){return k_(2,t)}a(P_,"once$2");function Ih(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}a(Ih,"isObject");function O_(t){return!!t&&typeof t=="object"}a(O_,"isObjectLike");function L_(t){return typeof t=="symbol"||O_(t)&&B_.call(t)==S_}a(L_,"isSymbol");function U_(t){if(!t)return t===0?t:0;if(t=F_(t),t===Ch||t===-Ch){var e=t<0?-1:1;return e*A_}return t===t?t:0}a(U_,"toFinite");function D_(t){var e=U_(t),r=e%1;return e===e?r?e-r:e:0}a(D_,"toInteger");function F_(t){if(typeof t=="number")return t;if(L_(t))return Th;if(Ih(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ih(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(C_,"");var r=I_.test(t);return r||M_.test(t)?N_(t.slice(2),r?2:8):T_.test(t)?Th:+t}a(F_,"toNumber");var q_=P_,Mh=Vp,V_=Kp,Nh=Kn,K_=NE,Rh=LE,Bh=XE,Jf=i_,Qp=g_,ui=E_,H_=q_,Yp=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];V_&&Yp.splice(3,0,"PS256","PS384","PS512");var G_={expiresIn:{isValid:function(t){return Bh(t)||ui(t)&&t},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(t){return Bh(t)||ui(t)&&t},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(t){return ui(t)||Array.isArray(t)},message:'"audience" must be a string or array'},algorithm:{isValid:K_.bind(null,Yp),message:'"algorithm" must be a valid string enum value'},header:{isValid:Qp,message:'"header" must be an object'},encoding:{isValid:ui,message:'"encoding" must be a string'},issuer:{isValid:ui,message:'"issuer" must be a string'},subject:{isValid:ui,message:'"subject" must be a string'},jwtid:{isValid:ui,message:'"jwtid" must be a string'},noTimestamp:{isValid:Rh,message:'"noTimestamp" must be a boolean'},keyid:{isValid:ui,message:'"keyid" must be a string'},mutatePayload:{isValid:Rh,message:'"mutatePayload" must be a boolean'}},j_={iat:{isValid:Jf,message:'"iat" should be a number of seconds'},exp:{isValid:Jf,message:'"exp" should be a number of seconds'},nbf:{isValid:Jf,message:'"nbf" should be a number of seconds'}};function Jp(t,e,r,n){if(!Qp(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(i){var s=t[i];if(!s){if(!e)throw new Error('"'+i+'" is not allowed in "'+n+'"');return}if(!s.isValid(r[i]))throw new Error(s.message)})}a(Jp,"validate$1");function z_(t){return Jp(G_,!1,t,"options")}a(z_,"validateOptions");function $_(t){return Jp(j_,!0,t,"payload")}a($_,"validatePayload");var kh={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},W_=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"],Q_=a(function(t,e,r,n){typeof r=="function"?(n=r,r={}):r=r||{};var i=typeof t=="object"&&!Buffer.isBuffer(t),s=Object.assign({alg:r.algorithm||"HS256",typ:i?"JWT":void 0,kid:r.keyid},r.header);function o(p){if(n)return n(p);throw p}if(a(o,"failure"),!e&&r.algorithm!=="none")return o(new Error("secretOrPrivateKey must have a value"));if(typeof t>"u")return o(new Error("payload is required"));if(i){try{$_(t)}catch(p){return o(p)}r.mutatePayload||(t=Object.assign({},t))}else{var f=W_.filter(function(p){return typeof r[p]<"u"});if(f.length>0)return o(new Error("invalid "+f.join(",")+" option for "+typeof t+" payload"))}if(typeof t.exp<"u"&&typeof r.expiresIn<"u")return o(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof t.nbf<"u"&&typeof r.notBefore<"u")return o(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{z_(r)}catch(p){return o(p)}var l=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:i&&(t.iat=l),typeof r.notBefore<"u"){try{t.nbf=Mh(r.notBefore,l)}catch(p){return o(p)}if(typeof t.nbf>"u")return o(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof t=="object"){try{t.exp=Mh(r.expiresIn,l)}catch(p){return o(p)}if(typeof t.exp>"u")return o(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(kh).forEach(function(p){var x=kh[p];if(typeof r[p]<"u"){if(typeof t[x]<"u")return o(new Error('Bad "options.'+p+'" option. The payload already has an "'+x+'" property.'));t[x]=r[p]}});var d=r.encoding||"utf8";if(typeof n=="function")n=n&&H_(n),Nh.createSign({header:s,privateKey:e,payload:t,encoding:d}).once("error",n).once("done",function(p){n(null,p)});else return Nh.sign({header:s,payload:t,secret:e,encoding:d})},"sign"),Y_={decode:Lp,verify:jx,sign:Q_,JsonWebTokenError:wf,NotBeforeError:Dp,TokenExpiredError:qp},J_={};(function(t){(function(e){var r="undefined",n=r!==typeof Buffer&&Buffer,i=r!==typeof Uint8Array&&Uint8Array,s=r!==typeof ArrayBuffer&&ArrayBuffer,o=[0,0,0,0,0,0,0,0],f=Array.isArray||j,l=4294967296,d=16777216,p;x("Uint64BE",!0,!0),x("Int64BE",!0,!1),x("Uint64LE",!1,!0),x("Int64LE",!1,!1);function x(ie,J,ue){var P=J?0:4,b=J?4:0,S=J?0:3,m=J?1:2,u=J?2:1,c=J?3:0,v=J?L:H,y=J?D:K,E=w.prototype,g="is"+ie,_="_"+g;return E.buffer=void 0,E.offset=0,E[_]=!0,E.toNumber=I,E.toString=q,E.toJSON=I,E.toArray=T,n&&(E.toBuffer=R),i&&(E.toArrayBuffer=N),w[g]=h,e[ie]=w,w;function w(Q,le,te,re){return this instanceof w?A(this,Q,le,te,re):new w(Q,le,te,re)}a(w,"Int64");function h(Q){return!!(Q&&Q[_])}a(h,"isInt64");function A(Q,le,te,re,me){if(i&&s&&(le instanceof s&&(le=new i(le)),re instanceof s&&(re=new i(re))),!le&&!te&&!re&&!p){Q.buffer=k(o,0);return}if(!O(le,te)){var oe=p||Array;me=te,re=le,te=0,le=p===n?n.alloc(8):new oe(8)}Q.buffer=le,Q.offset=te|=0,r!==typeof re&&(typeof re=="string"?$(le,te,re,me||10):O(re,me)?B(le,te,re,me):typeof me=="number"?(Z(le,te+P,re),Z(le,te+b,me)):re>0?v(le,te,re):re<0?y(le,te,re):B(le,te,o,0))}a(A,"init");function $(Q,le,te,re){var me=0,oe=te.length,ce=0,F=0;te[0]==="-"&&me++;for(var C=me;me<oe;){var M=parseInt(te[me++],re);if(!(M>=0))break;F=F*re+M,ce=ce*re+Math.floor(F/l),F%=l}C&&(ce=~ce,F?F=l-F:ce++),Z(Q,le+P,ce),Z(Q,le+b,F)}a($,"fromString");function I(){var Q=this.buffer,le=this.offset,te=z(Q,le+P),re=z(Q,le+b);return ue||(te|=0),te?te*l+re:re}a(I,"toNumber");function q(Q){var le=this.buffer,te=this.offset,re=z(le,te+P),me=z(le,te+b),oe="",ce=!ue&&re&2147483648;for(ce&&(re=~re,me=l-me),Q=Q||10;;){var F=re%Q*l+me;if(re=Math.floor(re/Q),me=Math.floor(F/Q),oe=(F%Q).toString(Q)+oe,!re&&!me)break}return ce&&(oe="-"+oe),oe}a(q,"toString");function Z(Q,le,te){Q[le+c]=te&255,te=te>>8,Q[le+u]=te&255,te=te>>8,Q[le+m]=te&255,te=te>>8,Q[le+S]=te&255}a(Z,"writeInt32");function z(Q,le){return Q[le+S]*d+(Q[le+m]<<16)+(Q[le+u]<<8)+Q[le+c]}a(z,"readInt32")}a(x,"factory");function T(ie){var J=this.buffer,ue=this.offset;return p=null,ie!==!1&&f(J)?J.length===8?J:J.slice(ue,ue+8):k(J,ue)}a(T,"toArray");function R(ie){var J=this.buffer,ue=this.offset;return p=n,ie!==!1&&n.isBuffer(J)?J.length===8?J:J.slice(ue,ue+8):n.from(N.call(this,ie))}a(R,"toBuffer");function N(ie){var J=this.buffer,ue=this.offset,P=J.buffer;if(p=i,ie!==!1&&!J.offset&&P instanceof s)return P.byteLength===8?P:P.slice(ue,ue+8);var b=new i(8);return B(b,0,J,ue),b.buffer}a(N,"toArrayBuffer");function O(ie,J){var ue=ie&&ie.length;return J|=0,ue&&J+8<=ue&&typeof ie[J]!="string"}a(O,"isValidBuffer");function B(ie,J,ue,P){J|=0,P|=0;for(var b=0;b<8;b++)ie[J++]=ue[P++]&255}a(B,"fromArray");function k(ie,J){return Array.prototype.slice.call(ie,J,J+8)}a(k,"newArray");function L(ie,J,ue){for(var P=J+8;P>J;)ie[--P]=ue&255,ue/=256}a(L,"fromPositiveBE");function D(ie,J,ue){var P=J+8;for(ue++;P>J;)ie[--P]=-ue&255^255,ue/=256}a(D,"fromNegativeBE");function H(ie,J,ue){for(var P=J+8;J<P;)ie[J++]=ue&255,ue/=256}a(H,"fromPositiveLE");function K(ie,J,ue){var P=J+8;for(ue++;J<P;)ie[J++]=-ue&255^255,ue/=256}a(K,"fromNegativeLE");function j(ie){return!!ie&&Object.prototype.toString.call(ie)=="[object Array]"}a(j,"_isArray")})(typeof t.nodeName!="string"?t:Vt||{})})(J_);function Ph(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}a(Ph,"ownKeys$2");function X_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ph(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ph(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}a(X_,"_objectSpread$2");function Oh(){return Math.floor(new Date().getTime()/1e3)}a(Oh,"unix");function Gu(t,e="utf8"){return typeof t=="object"&&(t=JSON.stringify(t)),Buffer.from(t,e)}a(Gu,"toBuffer");function Lh(t){return t.toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}a(Lh,"base64url");function Z_(t,e){const r=Gu({alg:"EdDSA",typ:"JWT"}).toString("base64");t=Lh(Gu(t));const n=[r,t],i=Lh(Buffer.from(bb.sign({encoding:"utf8",message:n.join("."),privateKey:e})));return n.push(i),n.join(".")}a(Z_,"getEd25519Sign");function Xp(t,e,r,n,i,s,o="FULL",f=Oh()+30*60,l={}){typeof s=="object"?s=JSON.stringify(s):typeof s!="string"&&(s="");const d=G1.sha256.create();d.update(Bd.exports.encodeUtf8(n.toUpperCase()+i+s));const p=Gu(r,"base64"),x=X_({exp:f,iat:Oh(),jti:e1.v4(),scp:o||"FULL",sid:e,sig:d.digest().toHex(),uid:t},l);return p.length===64?Z_(x,p):Y_.sign(x,r,{algorithm:"RS512"})}a(Xp,"signAuthenticationToken");function Uh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}a(Uh,"ownKeys$1");function Dh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uh(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}a(Dh,"_objectSpread$1");class zl{constructor(){this.session=null,this.endpoints=void 0,this.provider=void 0,this.provider=new S1.HttpProvider,this.endpoints=_1(this.provider)}config(e){this.session=e,this.provider.instance.interceptors.request.use(r=>{var n,i;if(!this.session)return r;const s=Oa.getUri(r),o=Xp(this.session.client_id,this.session.session_id,this.session.private_key,(n=r.method)!==null&&n!==void 0?n:"",s,(i=r.data)!==null&&i!==void 0?i:"");return r.headers=Dh(Dh({},r.headers),{},{Authorization:`Bearer ${o}`}),r})}}a(zl,"Mixin");var Zp={exports:{}};(function(t){(function(e,r){function n(m,u){if(!m)throw new Error(u||"Assertion failed")}a(n,"assert");function i(m,u){m.super_=u;var c=a(function(){},"TempCtor");c.prototype=u.prototype,m.prototype=new c,m.prototype.constructor=m}a(i,"inherits");function s(m,u,c){if(s.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((u==="le"||u==="be")&&(c=u,u=10),this._init(m||0,u||10,c||"be"))}a(s,"BN"),typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Gr.Buffer}catch{}s.isBN=a(function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},"isBN"),s.max=a(function(u,c){return u.cmp(c)>0?u:c},"max"),s.min=a(function(u,c){return u.cmp(c)<0?u:c},"min"),s.prototype._init=a(function(u,c,v){if(typeof u=="number")return this._initNumber(u,c,v);if(typeof u=="object")return this._initArray(u,c,v);c==="hex"&&(c=16),n(c===(c|0)&&c>=2&&c<=36),u=u.toString().replace(/\s+/g,"");var y=0;u[0]==="-"&&(y++,this.negative=1),y<u.length&&(c===16?this._parseHex(u,y,v):(this._parseBase(u,c,y),v==="le"&&this._initArray(this.toArray(),c,v)))},"init"),s.prototype._initNumber=a(function(u,c,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),c,v)},"_initNumber"),s.prototype._initArray=a(function(u,c,v){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var E,g,_=0;if(v==="be")for(y=u.length-1,E=0;y>=0;y-=3)g=u[y]|u[y-1]<<8|u[y-2]<<16,this.words[E]|=g<<_&67108863,this.words[E+1]=g>>>26-_&67108863,_+=24,_>=26&&(_-=26,E++);else if(v==="le")for(y=0,E=0;y<u.length;y+=3)g=u[y]|u[y+1]<<8|u[y+2]<<16,this.words[E]|=g<<_&67108863,this.words[E+1]=g>>>26-_&67108863,_+=24,_>=26&&(_-=26,E++);return this._strip()},"_initArray");function f(m,u){var c=m.charCodeAt(u);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;n(!1,"Invalid character in "+m)}a(f,"parseHex4Bits");function l(m,u,c){var v=f(m,c);return c-1>=u&&(v|=f(m,c-1)<<4),v}a(l,"parseHexByte"),s.prototype._parseHex=a(function(u,c,v){this.length=Math.ceil((u.length-c)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var E=0,g=0,_;if(v==="be")for(y=u.length-1;y>=c;y-=2)_=l(u,c,y)<<E,this.words[g]|=_&67108863,E>=18?(E-=18,g+=1,this.words[g]|=_>>>26):E+=8;else{var w=u.length-c;for(y=w%2===0?c+1:c;y<u.length;y+=2)_=l(u,c,y)<<E,this.words[g]|=_&67108863,E>=18?(E-=18,g+=1,this.words[g]|=_>>>26):E+=8}this._strip()},"_parseHex");function d(m,u,c,v){for(var y=0,E=0,g=Math.min(m.length,c),_=u;_<g;_++){var w=m.charCodeAt(_)-48;y*=v,w>=49?E=w-49+10:w>=17?E=w-17+10:E=w,n(w>=0&&E<v,"Invalid character"),y+=E}return y}a(d,"parseBase"),s.prototype._parseBase=a(function(u,c,v){this.words=[0],this.length=1;for(var y=0,E=1;E<=67108863;E*=c)y++;y--,E=E/c|0;for(var g=u.length-v,_=g%y,w=Math.min(g,g-_)+v,h=0,A=v;A<w;A+=y)h=d(u,A,A+y,c),this.imuln(E),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(_!==0){var $=1;for(h=d(u,A,u.length,c),A=0;A<_;A++)$*=c;this.imuln($),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},"_parseBase"),s.prototype.copy=a(function(u){u.words=new Array(this.length);for(var c=0;c<this.length;c++)u.words[c]=this.words[c];u.length=this.length,u.negative=this.negative,u.red=this.red},"copy");function p(m,u){m.words=u.words,m.length=u.length,m.negative=u.negative,m.red=u.red}if(a(p,"move"),s.prototype._move=a(function(u){p(u,this)},"_move"),s.prototype.clone=a(function(){var u=new s(null);return this.copy(u),u},"clone"),s.prototype._expand=a(function(u){for(;this.length<u;)this.words[this.length++]=0;return this},"_expand"),s.prototype._strip=a(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),s.prototype._normSign=a(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{s.prototype.inspect=x}else s.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}a(x,"inspect");var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=a(function(u,c){u=u||10,c=c|0||1;var v;if(u===16||u==="hex"){v="";for(var y=0,E=0,g=0;g<this.length;g++){var _=this.words[g],w=((_<<y|E)&16777215).toString(16);E=_>>>24-y&16777215,y+=2,y>=26&&(y-=26,g--),E!==0||g!==this.length-1?v=T[6-w.length]+w+v:v=w+v}for(E!==0&&(v=E.toString(16)+v);v.length%c!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(u===(u|0)&&u>=2&&u<=36){var h=R[u],A=N[u];v="";var $=this.clone();for($.negative=0;!$.isZero();){var I=$.modrn(A).toString(u);$=$.idivn(A),$.isZero()?v=I+v:v=T[h-I.length]+I+v}for(this.isZero()&&(v="0"+v);v.length%c!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},"toString"),s.prototype.toNumber=a(function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},"toNumber"),s.prototype.toJSON=a(function(){return this.toString(16,2)},"toJSON"),o&&(s.prototype.toBuffer=a(function(u,c){return this.toArrayLike(o,u,c)},"toBuffer")),s.prototype.toArray=a(function(u,c){return this.toArrayLike(Array,u,c)},"toArray");var O=a(function(u,c){return u.allocUnsafe?u.allocUnsafe(c):new u(c)},"allocate");s.prototype.toArrayLike=a(function(u,c,v){this._strip();var y=this.byteLength(),E=v||Math.max(1,y);n(y<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var g=O(u,E),_=c==="le"?"LE":"BE";return this["_toArrayLike"+_](g,y),g},"toArrayLike"),s.prototype._toArrayLikeLE=a(function(u,c){for(var v=0,y=0,E=0,g=0;E<this.length;E++){var _=this.words[E]<<g|y;u[v++]=_&255,v<u.length&&(u[v++]=_>>8&255),v<u.length&&(u[v++]=_>>16&255),g===6?(v<u.length&&(u[v++]=_>>24&255),y=0,g=0):(y=_>>>24,g+=2)}if(v<u.length)for(u[v++]=y;v<u.length;)u[v++]=0},"_toArrayLikeLE"),s.prototype._toArrayLikeBE=a(function(u,c){for(var v=u.length-1,y=0,E=0,g=0;E<this.length;E++){var _=this.words[E]<<g|y;u[v--]=_&255,v>=0&&(u[v--]=_>>8&255),v>=0&&(u[v--]=_>>16&255),g===6?(v>=0&&(u[v--]=_>>24&255),y=0,g=0):(y=_>>>24,g+=2)}if(v>=0)for(u[v--]=y;v>=0;)u[v--]=0},"_toArrayLikeBE"),Math.clz32?s.prototype._countBits=a(function(u){return 32-Math.clz32(u)},"_countBits"):s.prototype._countBits=a(function(u){var c=u,v=0;return c>=4096&&(v+=13,c>>>=13),c>=64&&(v+=7,c>>>=7),c>=8&&(v+=4,c>>>=4),c>=2&&(v+=2,c>>>=2),v+c},"_countBits"),s.prototype._zeroBits=a(function(u){if(u===0)return 26;var c=u,v=0;return(c&8191)===0&&(v+=13,c>>>=13),(c&127)===0&&(v+=7,c>>>=7),(c&15)===0&&(v+=4,c>>>=4),(c&3)===0&&(v+=2,c>>>=2),(c&1)===0&&v++,v},"_zeroBits"),s.prototype.bitLength=a(function(){var u=this.words[this.length-1],c=this._countBits(u);return(this.length-1)*26+c},"bitLength");function B(m){for(var u=new Array(m.bitLength()),c=0;c<u.length;c++){var v=c/26|0,y=c%26;u[c]=m.words[v]>>>y&1}return u}a(B,"toBitArray"),s.prototype.zeroBits=a(function(){if(this.isZero())return 0;for(var u=0,c=0;c<this.length;c++){var v=this._zeroBits(this.words[c]);if(u+=v,v!==26)break}return u},"zeroBits"),s.prototype.byteLength=a(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),s.prototype.toTwos=a(function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},"toTwos"),s.prototype.fromTwos=a(function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},"fromTwos"),s.prototype.isNeg=a(function(){return this.negative!==0},"isNeg"),s.prototype.neg=a(function(){return this.clone().ineg()},"neg"),s.prototype.ineg=a(function(){return this.isZero()||(this.negative^=1),this},"ineg"),s.prototype.iuor=a(function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var c=0;c<u.length;c++)this.words[c]=this.words[c]|u.words[c];return this._strip()},"iuor"),s.prototype.ior=a(function(u){return n((this.negative|u.negative)===0),this.iuor(u)},"ior"),s.prototype.or=a(function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},"or"),s.prototype.uor=a(function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},"uor"),s.prototype.iuand=a(function(u){var c;this.length>u.length?c=u:c=this;for(var v=0;v<c.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=c.length,this._strip()},"iuand"),s.prototype.iand=a(function(u){return n((this.negative|u.negative)===0),this.iuand(u)},"iand"),s.prototype.and=a(function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},"and"),s.prototype.uand=a(function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},"uand"),s.prototype.iuxor=a(function(u){var c,v;this.length>u.length?(c=this,v=u):(c=u,v=this);for(var y=0;y<v.length;y++)this.words[y]=c.words[y]^v.words[y];if(this!==c)for(;y<c.length;y++)this.words[y]=c.words[y];return this.length=c.length,this._strip()},"iuxor"),s.prototype.ixor=a(function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},"ixor"),s.prototype.xor=a(function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},"xor"),s.prototype.uxor=a(function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},"uxor"),s.prototype.inotn=a(function(u){n(typeof u=="number"&&u>=0);var c=Math.ceil(u/26)|0,v=u%26;this._expand(c),v>0&&c--;for(var y=0;y<c;y++)this.words[y]=~this.words[y]&67108863;return v>0&&(this.words[y]=~this.words[y]&67108863>>26-v),this._strip()},"inotn"),s.prototype.notn=a(function(u){return this.clone().inotn(u)},"notn"),s.prototype.setn=a(function(u,c){n(typeof u=="number"&&u>=0);var v=u/26|0,y=u%26;return this._expand(v+1),c?this.words[v]=this.words[v]|1<<y:this.words[v]=this.words[v]&~(1<<y),this._strip()},"setn"),s.prototype.iadd=a(function(u){var c;if(this.negative!==0&&u.negative===0)return this.negative=0,c=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,c=this.isub(u),u.negative=1,c._normSign();var v,y;this.length>u.length?(v=this,y=u):(v=u,y=this);for(var E=0,g=0;g<y.length;g++)c=(v.words[g]|0)+(y.words[g]|0)+E,this.words[g]=c&67108863,E=c>>>26;for(;E!==0&&g<v.length;g++)c=(v.words[g]|0)+E,this.words[g]=c&67108863,E=c>>>26;if(this.length=v.length,E!==0)this.words[this.length]=E,this.length++;else if(v!==this)for(;g<v.length;g++)this.words[g]=v.words[g];return this},"iadd"),s.prototype.add=a(function(u){var c;return u.negative!==0&&this.negative===0?(u.negative=0,c=this.sub(u),u.negative^=1,c):u.negative===0&&this.negative!==0?(this.negative=0,c=u.sub(this),this.negative=1,c):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},"add"),s.prototype.isub=a(function(u){if(u.negative!==0){u.negative=0;var c=this.iadd(u);return u.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v=this.cmp(u);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,E;v>0?(y=this,E=u):(y=u,E=this);for(var g=0,_=0;_<E.length;_++)c=(y.words[_]|0)-(E.words[_]|0)+g,g=c>>26,this.words[_]=c&67108863;for(;g!==0&&_<y.length;_++)c=(y.words[_]|0)+g,g=c>>26,this.words[_]=c&67108863;if(g===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this._strip()},"isub"),s.prototype.sub=a(function(u){return this.clone().isub(u)},"sub");function k(m,u,c){c.negative=u.negative^m.negative;var v=m.length+u.length|0;c.length=v,v=v-1|0;var y=m.words[0]|0,E=u.words[0]|0,g=y*E,_=g&67108863,w=g/67108864|0;c.words[0]=_;for(var h=1;h<v;h++){for(var A=w>>>26,$=w&67108863,I=Math.min(h,u.length-1),q=Math.max(0,h-m.length+1);q<=I;q++){var Z=h-q|0;y=m.words[Z]|0,E=u.words[q]|0,g=y*E+$,A+=g/67108864|0,$=g&67108863}c.words[h]=$|0,w=A|0}return w!==0?c.words[h]=w|0:c.length--,c._strip()}a(k,"smallMulTo");var L=a(function(u,c,v){var y=u.words,E=c.words,g=v.words,_=0,w,h,A,$=y[0]|0,I=$&8191,q=$>>>13,Z=y[1]|0,z=Z&8191,Q=Z>>>13,le=y[2]|0,te=le&8191,re=le>>>13,me=y[3]|0,oe=me&8191,ce=me>>>13,F=y[4]|0,C=F&8191,M=F>>>13,G=y[5]|0,W=G&8191,ne=G>>>13,de=y[6]|0,ve=de&8191,we=de>>>13,mt=y[7]|0,be=mt&8191,xe=mt>>>13,tr=y[8]|0,ke=tr&8191,Pe=tr>>>13,sr=y[9]|0,Oe=sr&8191,De=sr>>>13,wr=E[0]|0,Fe=wr&8191,qe=wr>>>13,ur=E[1]|0,Ce=ur&8191,Re=ur>>>13,wt=E[2]|0,Ge=wt&8191,je=wt>>>13,kt=E[3]|0,ze=kt&8191,$e=kt>>>13,Ar=E[4]|0,We=Ar&8191,Qe=Ar>>>13,Sr=E[5]|0,Ye=Sr&8191,Je=Sr>>>13,Cr=E[6]|0,Le=Cr&8191,Xe=Cr>>>13,Tr=E[7]|0,Ze=Tr&8191,et=Tr>>>13,Ir=E[8]|0,tt=Ir&8191,Ve=Ir>>>13,br=E[9]|0,it=br&8191,st=br>>>13;v.negative=u.negative^c.negative,v.length=19,w=Math.imul(I,Fe),h=Math.imul(I,qe),h=h+Math.imul(q,Fe)|0,A=Math.imul(q,qe);var V=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(V>>>26)|0,V&=67108863,w=Math.imul(z,Fe),h=Math.imul(z,qe),h=h+Math.imul(Q,Fe)|0,A=Math.imul(Q,qe),w=w+Math.imul(I,Ce)|0,h=h+Math.imul(I,Re)|0,h=h+Math.imul(q,Ce)|0,A=A+Math.imul(q,Re)|0;var X=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(X>>>26)|0,X&=67108863,w=Math.imul(te,Fe),h=Math.imul(te,qe),h=h+Math.imul(re,Fe)|0,A=Math.imul(re,qe),w=w+Math.imul(z,Ce)|0,h=h+Math.imul(z,Re)|0,h=h+Math.imul(Q,Ce)|0,A=A+Math.imul(Q,Re)|0,w=w+Math.imul(I,Ge)|0,h=h+Math.imul(I,je)|0,h=h+Math.imul(q,Ge)|0,A=A+Math.imul(q,je)|0;var se=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(se>>>26)|0,se&=67108863,w=Math.imul(oe,Fe),h=Math.imul(oe,qe),h=h+Math.imul(ce,Fe)|0,A=Math.imul(ce,qe),w=w+Math.imul(te,Ce)|0,h=h+Math.imul(te,Re)|0,h=h+Math.imul(re,Ce)|0,A=A+Math.imul(re,Re)|0,w=w+Math.imul(z,Ge)|0,h=h+Math.imul(z,je)|0,h=h+Math.imul(Q,Ge)|0,A=A+Math.imul(Q,je)|0,w=w+Math.imul(I,ze)|0,h=h+Math.imul(I,$e)|0,h=h+Math.imul(q,ze)|0,A=A+Math.imul(q,$e)|0;var pe=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(pe>>>26)|0,pe&=67108863,w=Math.imul(C,Fe),h=Math.imul(C,qe),h=h+Math.imul(M,Fe)|0,A=Math.imul(M,qe),w=w+Math.imul(oe,Ce)|0,h=h+Math.imul(oe,Re)|0,h=h+Math.imul(ce,Ce)|0,A=A+Math.imul(ce,Re)|0,w=w+Math.imul(te,Ge)|0,h=h+Math.imul(te,je)|0,h=h+Math.imul(re,Ge)|0,A=A+Math.imul(re,je)|0,w=w+Math.imul(z,ze)|0,h=h+Math.imul(z,$e)|0,h=h+Math.imul(Q,ze)|0,A=A+Math.imul(Q,$e)|0,w=w+Math.imul(I,We)|0,h=h+Math.imul(I,Qe)|0,h=h+Math.imul(q,We)|0,A=A+Math.imul(q,Qe)|0;var ye=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(ye>>>26)|0,ye&=67108863,w=Math.imul(W,Fe),h=Math.imul(W,qe),h=h+Math.imul(ne,Fe)|0,A=Math.imul(ne,qe),w=w+Math.imul(C,Ce)|0,h=h+Math.imul(C,Re)|0,h=h+Math.imul(M,Ce)|0,A=A+Math.imul(M,Re)|0,w=w+Math.imul(oe,Ge)|0,h=h+Math.imul(oe,je)|0,h=h+Math.imul(ce,Ge)|0,A=A+Math.imul(ce,je)|0,w=w+Math.imul(te,ze)|0,h=h+Math.imul(te,$e)|0,h=h+Math.imul(re,ze)|0,A=A+Math.imul(re,$e)|0,w=w+Math.imul(z,We)|0,h=h+Math.imul(z,Qe)|0,h=h+Math.imul(Q,We)|0,A=A+Math.imul(Q,Qe)|0,w=w+Math.imul(I,Ye)|0,h=h+Math.imul(I,Je)|0,h=h+Math.imul(q,Ye)|0,A=A+Math.imul(q,Je)|0;var Me=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Me>>>26)|0,Me&=67108863,w=Math.imul(ve,Fe),h=Math.imul(ve,qe),h=h+Math.imul(we,Fe)|0,A=Math.imul(we,qe),w=w+Math.imul(W,Ce)|0,h=h+Math.imul(W,Re)|0,h=h+Math.imul(ne,Ce)|0,A=A+Math.imul(ne,Re)|0,w=w+Math.imul(C,Ge)|0,h=h+Math.imul(C,je)|0,h=h+Math.imul(M,Ge)|0,A=A+Math.imul(M,je)|0,w=w+Math.imul(oe,ze)|0,h=h+Math.imul(oe,$e)|0,h=h+Math.imul(ce,ze)|0,A=A+Math.imul(ce,$e)|0,w=w+Math.imul(te,We)|0,h=h+Math.imul(te,Qe)|0,h=h+Math.imul(re,We)|0,A=A+Math.imul(re,Qe)|0,w=w+Math.imul(z,Ye)|0,h=h+Math.imul(z,Je)|0,h=h+Math.imul(Q,Ye)|0,A=A+Math.imul(Q,Je)|0,w=w+Math.imul(I,Le)|0,h=h+Math.imul(I,Xe)|0,h=h+Math.imul(q,Le)|0,A=A+Math.imul(q,Xe)|0;var Ue=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,w=Math.imul(be,Fe),h=Math.imul(be,qe),h=h+Math.imul(xe,Fe)|0,A=Math.imul(xe,qe),w=w+Math.imul(ve,Ce)|0,h=h+Math.imul(ve,Re)|0,h=h+Math.imul(we,Ce)|0,A=A+Math.imul(we,Re)|0,w=w+Math.imul(W,Ge)|0,h=h+Math.imul(W,je)|0,h=h+Math.imul(ne,Ge)|0,A=A+Math.imul(ne,je)|0,w=w+Math.imul(C,ze)|0,h=h+Math.imul(C,$e)|0,h=h+Math.imul(M,ze)|0,A=A+Math.imul(M,$e)|0,w=w+Math.imul(oe,We)|0,h=h+Math.imul(oe,Qe)|0,h=h+Math.imul(ce,We)|0,A=A+Math.imul(ce,Qe)|0,w=w+Math.imul(te,Ye)|0,h=h+Math.imul(te,Je)|0,h=h+Math.imul(re,Ye)|0,A=A+Math.imul(re,Je)|0,w=w+Math.imul(z,Le)|0,h=h+Math.imul(z,Xe)|0,h=h+Math.imul(Q,Le)|0,A=A+Math.imul(Q,Xe)|0,w=w+Math.imul(I,Ze)|0,h=h+Math.imul(I,et)|0,h=h+Math.imul(q,Ze)|0,A=A+Math.imul(q,et)|0;var lt=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(ke,Fe),h=Math.imul(ke,qe),h=h+Math.imul(Pe,Fe)|0,A=Math.imul(Pe,qe),w=w+Math.imul(be,Ce)|0,h=h+Math.imul(be,Re)|0,h=h+Math.imul(xe,Ce)|0,A=A+Math.imul(xe,Re)|0,w=w+Math.imul(ve,Ge)|0,h=h+Math.imul(ve,je)|0,h=h+Math.imul(we,Ge)|0,A=A+Math.imul(we,je)|0,w=w+Math.imul(W,ze)|0,h=h+Math.imul(W,$e)|0,h=h+Math.imul(ne,ze)|0,A=A+Math.imul(ne,$e)|0,w=w+Math.imul(C,We)|0,h=h+Math.imul(C,Qe)|0,h=h+Math.imul(M,We)|0,A=A+Math.imul(M,Qe)|0,w=w+Math.imul(oe,Ye)|0,h=h+Math.imul(oe,Je)|0,h=h+Math.imul(ce,Ye)|0,A=A+Math.imul(ce,Je)|0,w=w+Math.imul(te,Le)|0,h=h+Math.imul(te,Xe)|0,h=h+Math.imul(re,Le)|0,A=A+Math.imul(re,Xe)|0,w=w+Math.imul(z,Ze)|0,h=h+Math.imul(z,et)|0,h=h+Math.imul(Q,Ze)|0,A=A+Math.imul(Q,et)|0,w=w+Math.imul(I,tt)|0,h=h+Math.imul(I,Ve)|0,h=h+Math.imul(q,tt)|0,A=A+Math.imul(q,Ve)|0;var ut=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(Oe,Fe),h=Math.imul(Oe,qe),h=h+Math.imul(De,Fe)|0,A=Math.imul(De,qe),w=w+Math.imul(ke,Ce)|0,h=h+Math.imul(ke,Re)|0,h=h+Math.imul(Pe,Ce)|0,A=A+Math.imul(Pe,Re)|0,w=w+Math.imul(be,Ge)|0,h=h+Math.imul(be,je)|0,h=h+Math.imul(xe,Ge)|0,A=A+Math.imul(xe,je)|0,w=w+Math.imul(ve,ze)|0,h=h+Math.imul(ve,$e)|0,h=h+Math.imul(we,ze)|0,A=A+Math.imul(we,$e)|0,w=w+Math.imul(W,We)|0,h=h+Math.imul(W,Qe)|0,h=h+Math.imul(ne,We)|0,A=A+Math.imul(ne,Qe)|0,w=w+Math.imul(C,Ye)|0,h=h+Math.imul(C,Je)|0,h=h+Math.imul(M,Ye)|0,A=A+Math.imul(M,Je)|0,w=w+Math.imul(oe,Le)|0,h=h+Math.imul(oe,Xe)|0,h=h+Math.imul(ce,Le)|0,A=A+Math.imul(ce,Xe)|0,w=w+Math.imul(te,Ze)|0,h=h+Math.imul(te,et)|0,h=h+Math.imul(re,Ze)|0,A=A+Math.imul(re,et)|0,w=w+Math.imul(z,tt)|0,h=h+Math.imul(z,Ve)|0,h=h+Math.imul(Q,tt)|0,A=A+Math.imul(Q,Ve)|0,w=w+Math.imul(I,it)|0,h=h+Math.imul(I,st)|0,h=h+Math.imul(q,it)|0,A=A+Math.imul(q,st)|0;var Qt=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(Oe,Ce),h=Math.imul(Oe,Re),h=h+Math.imul(De,Ce)|0,A=Math.imul(De,Re),w=w+Math.imul(ke,Ge)|0,h=h+Math.imul(ke,je)|0,h=h+Math.imul(Pe,Ge)|0,A=A+Math.imul(Pe,je)|0,w=w+Math.imul(be,ze)|0,h=h+Math.imul(be,$e)|0,h=h+Math.imul(xe,ze)|0,A=A+Math.imul(xe,$e)|0,w=w+Math.imul(ve,We)|0,h=h+Math.imul(ve,Qe)|0,h=h+Math.imul(we,We)|0,A=A+Math.imul(we,Qe)|0,w=w+Math.imul(W,Ye)|0,h=h+Math.imul(W,Je)|0,h=h+Math.imul(ne,Ye)|0,A=A+Math.imul(ne,Je)|0,w=w+Math.imul(C,Le)|0,h=h+Math.imul(C,Xe)|0,h=h+Math.imul(M,Le)|0,A=A+Math.imul(M,Xe)|0,w=w+Math.imul(oe,Ze)|0,h=h+Math.imul(oe,et)|0,h=h+Math.imul(ce,Ze)|0,A=A+Math.imul(ce,et)|0,w=w+Math.imul(te,tt)|0,h=h+Math.imul(te,Ve)|0,h=h+Math.imul(re,tt)|0,A=A+Math.imul(re,Ve)|0,w=w+Math.imul(z,it)|0,h=h+Math.imul(z,st)|0,h=h+Math.imul(Q,it)|0,A=A+Math.imul(Q,st)|0;var Yt=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,w=Math.imul(Oe,Ge),h=Math.imul(Oe,je),h=h+Math.imul(De,Ge)|0,A=Math.imul(De,je),w=w+Math.imul(ke,ze)|0,h=h+Math.imul(ke,$e)|0,h=h+Math.imul(Pe,ze)|0,A=A+Math.imul(Pe,$e)|0,w=w+Math.imul(be,We)|0,h=h+Math.imul(be,Qe)|0,h=h+Math.imul(xe,We)|0,A=A+Math.imul(xe,Qe)|0,w=w+Math.imul(ve,Ye)|0,h=h+Math.imul(ve,Je)|0,h=h+Math.imul(we,Ye)|0,A=A+Math.imul(we,Je)|0,w=w+Math.imul(W,Le)|0,h=h+Math.imul(W,Xe)|0,h=h+Math.imul(ne,Le)|0,A=A+Math.imul(ne,Xe)|0,w=w+Math.imul(C,Ze)|0,h=h+Math.imul(C,et)|0,h=h+Math.imul(M,Ze)|0,A=A+Math.imul(M,et)|0,w=w+Math.imul(oe,tt)|0,h=h+Math.imul(oe,Ve)|0,h=h+Math.imul(ce,tt)|0,A=A+Math.imul(ce,Ve)|0,w=w+Math.imul(te,it)|0,h=h+Math.imul(te,st)|0,h=h+Math.imul(re,it)|0,A=A+Math.imul(re,st)|0;var Ht=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,w=Math.imul(Oe,ze),h=Math.imul(Oe,$e),h=h+Math.imul(De,ze)|0,A=Math.imul(De,$e),w=w+Math.imul(ke,We)|0,h=h+Math.imul(ke,Qe)|0,h=h+Math.imul(Pe,We)|0,A=A+Math.imul(Pe,Qe)|0,w=w+Math.imul(be,Ye)|0,h=h+Math.imul(be,Je)|0,h=h+Math.imul(xe,Ye)|0,A=A+Math.imul(xe,Je)|0,w=w+Math.imul(ve,Le)|0,h=h+Math.imul(ve,Xe)|0,h=h+Math.imul(we,Le)|0,A=A+Math.imul(we,Xe)|0,w=w+Math.imul(W,Ze)|0,h=h+Math.imul(W,et)|0,h=h+Math.imul(ne,Ze)|0,A=A+Math.imul(ne,et)|0,w=w+Math.imul(C,tt)|0,h=h+Math.imul(C,Ve)|0,h=h+Math.imul(M,tt)|0,A=A+Math.imul(M,Ve)|0,w=w+Math.imul(oe,it)|0,h=h+Math.imul(oe,st)|0,h=h+Math.imul(ce,it)|0,A=A+Math.imul(ce,st)|0;var Ft=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,w=Math.imul(Oe,We),h=Math.imul(Oe,Qe),h=h+Math.imul(De,We)|0,A=Math.imul(De,Qe),w=w+Math.imul(ke,Ye)|0,h=h+Math.imul(ke,Je)|0,h=h+Math.imul(Pe,Ye)|0,A=A+Math.imul(Pe,Je)|0,w=w+Math.imul(be,Le)|0,h=h+Math.imul(be,Xe)|0,h=h+Math.imul(xe,Le)|0,A=A+Math.imul(xe,Xe)|0,w=w+Math.imul(ve,Ze)|0,h=h+Math.imul(ve,et)|0,h=h+Math.imul(we,Ze)|0,A=A+Math.imul(we,et)|0,w=w+Math.imul(W,tt)|0,h=h+Math.imul(W,Ve)|0,h=h+Math.imul(ne,tt)|0,A=A+Math.imul(ne,Ve)|0,w=w+Math.imul(C,it)|0,h=h+Math.imul(C,st)|0,h=h+Math.imul(M,it)|0,A=A+Math.imul(M,st)|0;var rr=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(rr>>>26)|0,rr&=67108863,w=Math.imul(Oe,Ye),h=Math.imul(Oe,Je),h=h+Math.imul(De,Ye)|0,A=Math.imul(De,Je),w=w+Math.imul(ke,Le)|0,h=h+Math.imul(ke,Xe)|0,h=h+Math.imul(Pe,Le)|0,A=A+Math.imul(Pe,Xe)|0,w=w+Math.imul(be,Ze)|0,h=h+Math.imul(be,et)|0,h=h+Math.imul(xe,Ze)|0,A=A+Math.imul(xe,et)|0,w=w+Math.imul(ve,tt)|0,h=h+Math.imul(ve,Ve)|0,h=h+Math.imul(we,tt)|0,A=A+Math.imul(we,Ve)|0,w=w+Math.imul(W,it)|0,h=h+Math.imul(W,st)|0,h=h+Math.imul(ne,it)|0,A=A+Math.imul(ne,st)|0;var sn=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(sn>>>26)|0,sn&=67108863,w=Math.imul(Oe,Le),h=Math.imul(Oe,Xe),h=h+Math.imul(De,Le)|0,A=Math.imul(De,Xe),w=w+Math.imul(ke,Ze)|0,h=h+Math.imul(ke,et)|0,h=h+Math.imul(Pe,Ze)|0,A=A+Math.imul(Pe,et)|0,w=w+Math.imul(be,tt)|0,h=h+Math.imul(be,Ve)|0,h=h+Math.imul(xe,tt)|0,A=A+Math.imul(xe,Ve)|0,w=w+Math.imul(ve,it)|0,h=h+Math.imul(ve,st)|0,h=h+Math.imul(we,it)|0,A=A+Math.imul(we,st)|0;var an=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(an>>>26)|0,an&=67108863,w=Math.imul(Oe,Ze),h=Math.imul(Oe,et),h=h+Math.imul(De,Ze)|0,A=Math.imul(De,et),w=w+Math.imul(ke,tt)|0,h=h+Math.imul(ke,Ve)|0,h=h+Math.imul(Pe,tt)|0,A=A+Math.imul(Pe,Ve)|0,w=w+Math.imul(be,it)|0,h=h+Math.imul(be,st)|0,h=h+Math.imul(xe,it)|0,A=A+Math.imul(xe,st)|0;var Ci=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,w=Math.imul(Oe,tt),h=Math.imul(Oe,Ve),h=h+Math.imul(De,tt)|0,A=Math.imul(De,Ve),w=w+Math.imul(ke,it)|0,h=h+Math.imul(ke,st)|0,h=h+Math.imul(Pe,it)|0,A=A+Math.imul(Pe,st)|0;var Ti=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,w=Math.imul(Oe,it),h=Math.imul(Oe,st),h=h+Math.imul(De,it)|0,A=Math.imul(De,st);var Ii=(_+w|0)+((h&8191)<<13)|0;return _=(A+(h>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,g[0]=V,g[1]=X,g[2]=se,g[3]=pe,g[4]=ye,g[5]=Me,g[6]=Ue,g[7]=lt,g[8]=ut,g[9]=Qt,g[10]=Yt,g[11]=Ht,g[12]=Ft,g[13]=rr,g[14]=sn,g[15]=an,g[16]=Ci,g[17]=Ti,g[18]=Ii,_!==0&&(g[19]=_,v.length++),v},"comb10MulTo");Math.imul||(L=k);function D(m,u,c){c.negative=u.negative^m.negative,c.length=m.length+u.length;for(var v=0,y=0,E=0;E<c.length-1;E++){var g=y;y=0;for(var _=v&67108863,w=Math.min(E,u.length-1),h=Math.max(0,E-m.length+1);h<=w;h++){var A=E-h,$=m.words[A]|0,I=u.words[h]|0,q=$*I,Z=q&67108863;g=g+(q/67108864|0)|0,Z=Z+_|0,_=Z&67108863,g=g+(Z>>>26)|0,y+=g>>>26,g&=67108863}c.words[E]=_,v=g,g=y}return v!==0?c.words[E]=v:c.length--,c._strip()}a(D,"bigMulTo");function H(m,u,c){return D(m,u,c)}a(H,"jumboMulTo"),s.prototype.mulTo=a(function(u,c){var v,y=this.length+u.length;return this.length===10&&u.length===10?v=L(this,u,c):y<63?v=k(this,u,c):y<1024?v=D(this,u,c):v=H(this,u,c),v},"mulTo"),s.prototype.mul=a(function(u){var c=new s(null);return c.words=new Array(this.length+u.length),this.mulTo(u,c)},"mul"),s.prototype.mulf=a(function(u){var c=new s(null);return c.words=new Array(this.length+u.length),H(this,u,c)},"mulf"),s.prototype.imul=a(function(u){return this.clone().mulTo(u,this)},"imul"),s.prototype.imuln=a(function(u){var c=u<0;c&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var v=0,y=0;y<this.length;y++){var E=(this.words[y]|0)*u,g=(E&67108863)+(v&67108863);v>>=26,v+=E/67108864|0,v+=g>>>26,this.words[y]=g&67108863}return v!==0&&(this.words[y]=v,this.length++),c?this.ineg():this},"imuln"),s.prototype.muln=a(function(u){return this.clone().imuln(u)},"muln"),s.prototype.sqr=a(function(){return this.mul(this)},"sqr"),s.prototype.isqr=a(function(){return this.imul(this.clone())},"isqr"),s.prototype.pow=a(function(u){var c=B(u);if(c.length===0)return new s(1);for(var v=this,y=0;y<c.length&&c[y]===0;y++,v=v.sqr());if(++y<c.length)for(var E=v.sqr();y<c.length;y++,E=E.sqr())c[y]!==0&&(v=v.mul(E));return v},"pow"),s.prototype.iushln=a(function(u){n(typeof u=="number"&&u>=0);var c=u%26,v=(u-c)/26,y=67108863>>>26-c<<26-c,E;if(c!==0){var g=0;for(E=0;E<this.length;E++){var _=this.words[E]&y,w=(this.words[E]|0)-_<<c;this.words[E]=w|g,g=_>>>26-c}g&&(this.words[E]=g,this.length++)}if(v!==0){for(E=this.length-1;E>=0;E--)this.words[E+v]=this.words[E];for(E=0;E<v;E++)this.words[E]=0;this.length+=v}return this._strip()},"iushln"),s.prototype.ishln=a(function(u){return n(this.negative===0),this.iushln(u)},"ishln"),s.prototype.iushrn=a(function(u,c,v){n(typeof u=="number"&&u>=0);var y;c?y=(c-c%26)/26:y=0;var E=u%26,g=Math.min((u-E)/26,this.length),_=67108863^67108863>>>E<<E,w=v;if(y-=g,y=Math.max(0,y),w){for(var h=0;h<g;h++)w.words[h]=this.words[h];w.length=g}if(g!==0)if(this.length>g)for(this.length-=g,h=0;h<this.length;h++)this.words[h]=this.words[h+g];else this.words[0]=0,this.length=1;var A=0;for(h=this.length-1;h>=0&&(A!==0||h>=y);h--){var $=this.words[h]|0;this.words[h]=A<<26-E|$>>>E,A=$&_}return w&&A!==0&&(w.words[w.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},"iushrn"),s.prototype.ishrn=a(function(u,c,v){return n(this.negative===0),this.iushrn(u,c,v)},"ishrn"),s.prototype.shln=a(function(u){return this.clone().ishln(u)},"shln"),s.prototype.ushln=a(function(u){return this.clone().iushln(u)},"ushln"),s.prototype.shrn=a(function(u){return this.clone().ishrn(u)},"shrn"),s.prototype.ushrn=a(function(u){return this.clone().iushrn(u)},"ushrn"),s.prototype.testn=a(function(u){n(typeof u=="number"&&u>=0);var c=u%26,v=(u-c)/26,y=1<<c;if(this.length<=v)return!1;var E=this.words[v];return!!(E&y)},"testn"),s.prototype.imaskn=a(function(u){n(typeof u=="number"&&u>=0);var c=u%26,v=(u-c)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(c!==0&&v++,this.length=Math.min(v,this.length),c!==0){var y=67108863^67108863>>>c<<c;this.words[this.length-1]&=y}return this._strip()},"imaskn"),s.prototype.maskn=a(function(u){return this.clone().imaskn(u)},"maskn"),s.prototype.iaddn=a(function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},"iaddn"),s.prototype._iaddn=a(function(u){this.words[0]+=u;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},"_iaddn"),s.prototype.isubn=a(function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},"isubn"),s.prototype.addn=a(function(u){return this.clone().iaddn(u)},"addn"),s.prototype.subn=a(function(u){return this.clone().isubn(u)},"subn"),s.prototype.iabs=a(function(){return this.negative=0,this},"iabs"),s.prototype.abs=a(function(){return this.clone().iabs()},"abs"),s.prototype._ishlnsubmul=a(function(u,c,v){var y=u.length+v,E;this._expand(y);var g,_=0;for(E=0;E<u.length;E++){g=(this.words[E+v]|0)+_;var w=(u.words[E]|0)*c;g-=w&67108863,_=(g>>26)-(w/67108864|0),this.words[E+v]=g&67108863}for(;E<this.length-v;E++)g=(this.words[E+v]|0)+_,_=g>>26,this.words[E+v]=g&67108863;if(_===0)return this._strip();for(n(_===-1),_=0,E=0;E<this.length;E++)g=-(this.words[E]|0)+_,_=g>>26,this.words[E]=g&67108863;return this.negative=1,this._strip()},"_ishlnsubmul"),s.prototype._wordDiv=a(function(u,c){var v=this.length-u.length,y=this.clone(),E=u,g=E.words[E.length-1]|0,_=this._countBits(g);v=26-_,v!==0&&(E=E.ushln(v),y.iushln(v),g=E.words[E.length-1]|0);var w=y.length-E.length,h;if(c!=="mod"){h=new s(null),h.length=w+1,h.words=new Array(h.length);for(var A=0;A<h.length;A++)h.words[A]=0}var $=y.clone()._ishlnsubmul(E,1,w);$.negative===0&&(y=$,h&&(h.words[w]=1));for(var I=w-1;I>=0;I--){var q=(y.words[E.length+I]|0)*67108864+(y.words[E.length+I-1]|0);for(q=Math.min(q/g|0,67108863),y._ishlnsubmul(E,q,I);y.negative!==0;)q--,y.negative=0,y._ishlnsubmul(E,1,I),y.isZero()||(y.negative^=1);h&&(h.words[I]=q)}return h&&h._strip(),y._strip(),c!=="div"&&v!==0&&y.iushrn(v),{div:h||null,mod:y}},"_wordDiv"),s.prototype.divmod=a(function(u,c,v){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,E,g;return this.negative!==0&&u.negative===0?(g=this.neg().divmod(u,c),c!=="mod"&&(y=g.div.neg()),c!=="div"&&(E=g.mod.neg(),v&&E.negative!==0&&E.iadd(u)),{div:y,mod:E}):this.negative===0&&u.negative!==0?(g=this.divmod(u.neg(),c),c!=="mod"&&(y=g.div.neg()),{div:y,mod:g.mod}):(this.negative&u.negative)!==0?(g=this.neg().divmod(u.neg(),c),c!=="div"&&(E=g.mod.neg(),v&&E.negative!==0&&E.isub(u)),{div:g.div,mod:E}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?c==="div"?{div:this.divn(u.words[0]),mod:null}:c==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,c)},"divmod"),s.prototype.div=a(function(u){return this.divmod(u,"div",!1).div},"div"),s.prototype.mod=a(function(u){return this.divmod(u,"mod",!1).mod},"mod"),s.prototype.umod=a(function(u){return this.divmod(u,"mod",!0).mod},"umod"),s.prototype.divRound=a(function(u){var c=this.divmod(u);if(c.mod.isZero())return c.div;var v=c.div.negative!==0?c.mod.isub(u):c.mod,y=u.ushrn(1),E=u.andln(1),g=v.cmp(y);return g<0||E===1&&g===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},"divRound"),s.prototype.modrn=a(function(u){var c=u<0;c&&(u=-u),n(u<=67108863);for(var v=(1<<26)%u,y=0,E=this.length-1;E>=0;E--)y=(v*y+(this.words[E]|0))%u;return c?-y:y},"modrn"),s.prototype.modn=a(function(u){return this.modrn(u)},"modn"),s.prototype.idivn=a(function(u){var c=u<0;c&&(u=-u),n(u<=67108863);for(var v=0,y=this.length-1;y>=0;y--){var E=(this.words[y]|0)+v*67108864;this.words[y]=E/u|0,v=E%u}return this._strip(),c?this.ineg():this},"idivn"),s.prototype.divn=a(function(u){return this.clone().idivn(u)},"divn"),s.prototype.egcd=a(function(u){n(u.negative===0),n(!u.isZero());var c=this,v=u.clone();c.negative!==0?c=c.umod(u):c=c.clone();for(var y=new s(1),E=new s(0),g=new s(0),_=new s(1),w=0;c.isEven()&&v.isEven();)c.iushrn(1),v.iushrn(1),++w;for(var h=v.clone(),A=c.clone();!c.isZero();){for(var $=0,I=1;(c.words[0]&I)===0&&$<26;++$,I<<=1);if($>0)for(c.iushrn($);$-- >0;)(y.isOdd()||E.isOdd())&&(y.iadd(h),E.isub(A)),y.iushrn(1),E.iushrn(1);for(var q=0,Z=1;(v.words[0]&Z)===0&&q<26;++q,Z<<=1);if(q>0)for(v.iushrn(q);q-- >0;)(g.isOdd()||_.isOdd())&&(g.iadd(h),_.isub(A)),g.iushrn(1),_.iushrn(1);c.cmp(v)>=0?(c.isub(v),y.isub(g),E.isub(_)):(v.isub(c),g.isub(y),_.isub(E))}return{a:g,b:_,gcd:v.iushln(w)}},"egcd"),s.prototype._invmp=a(function(u){n(u.negative===0),n(!u.isZero());var c=this,v=u.clone();c.negative!==0?c=c.umod(u):c=c.clone();for(var y=new s(1),E=new s(0),g=v.clone();c.cmpn(1)>0&&v.cmpn(1)>0;){for(var _=0,w=1;(c.words[0]&w)===0&&_<26;++_,w<<=1);if(_>0)for(c.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(g),y.iushrn(1);for(var h=0,A=1;(v.words[0]&A)===0&&h<26;++h,A<<=1);if(h>0)for(v.iushrn(h);h-- >0;)E.isOdd()&&E.iadd(g),E.iushrn(1);c.cmp(v)>=0?(c.isub(v),y.isub(E)):(v.isub(c),E.isub(y))}var $;return c.cmpn(1)===0?$=y:$=E,$.cmpn(0)<0&&$.iadd(u),$},"_invmp"),s.prototype.gcd=a(function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var c=this.clone(),v=u.clone();c.negative=0,v.negative=0;for(var y=0;c.isEven()&&v.isEven();y++)c.iushrn(1),v.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;v.isEven();)v.iushrn(1);var E=c.cmp(v);if(E<0){var g=c;c=v,v=g}else if(E===0||v.cmpn(1)===0)break;c.isub(v)}while(!0);return v.iushln(y)},"gcd"),s.prototype.invm=a(function(u){return this.egcd(u).a.umod(u)},"invm"),s.prototype.isEven=a(function(){return(this.words[0]&1)===0},"isEven"),s.prototype.isOdd=a(function(){return(this.words[0]&1)===1},"isOdd"),s.prototype.andln=a(function(u){return this.words[0]&u},"andln"),s.prototype.bincn=a(function(u){n(typeof u=="number");var c=u%26,v=(u-c)/26,y=1<<c;if(this.length<=v)return this._expand(v+1),this.words[v]|=y,this;for(var E=y,g=v;E!==0&&g<this.length;g++){var _=this.words[g]|0;_+=E,E=_>>>26,_&=67108863,this.words[g]=_}return E!==0&&(this.words[g]=E,this.length++),this},"bincn"),s.prototype.isZero=a(function(){return this.length===1&&this.words[0]===0},"isZero"),s.prototype.cmpn=a(function(u){var c=u<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var v;if(this.length>1)v=1;else{c&&(u=-u),n(u<=67108863,"Number is too big");var y=this.words[0]|0;v=y===u?0:y<u?-1:1}return this.negative!==0?-v|0:v},"cmpn"),s.prototype.cmp=a(function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var c=this.ucmp(u);return this.negative!==0?-c|0:c},"cmp"),s.prototype.ucmp=a(function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var c=0,v=this.length-1;v>=0;v--){var y=this.words[v]|0,E=u.words[v]|0;if(y!==E){y<E?c=-1:y>E&&(c=1);break}}return c},"ucmp"),s.prototype.gtn=a(function(u){return this.cmpn(u)===1},"gtn"),s.prototype.gt=a(function(u){return this.cmp(u)===1},"gt"),s.prototype.gten=a(function(u){return this.cmpn(u)>=0},"gten"),s.prototype.gte=a(function(u){return this.cmp(u)>=0},"gte"),s.prototype.ltn=a(function(u){return this.cmpn(u)===-1},"ltn"),s.prototype.lt=a(function(u){return this.cmp(u)===-1},"lt"),s.prototype.lten=a(function(u){return this.cmpn(u)<=0},"lten"),s.prototype.lte=a(function(u){return this.cmp(u)<=0},"lte"),s.prototype.eqn=a(function(u){return this.cmpn(u)===0},"eqn"),s.prototype.eq=a(function(u){return this.cmp(u)===0},"eq"),s.red=a(function(u){return new b(u)},"red"),s.prototype.toRed=a(function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},"toRed"),s.prototype.fromRed=a(function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),s.prototype._forceRed=a(function(u){return this.red=u,this},"_forceRed"),s.prototype.forceRed=a(function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},"forceRed"),s.prototype.redAdd=a(function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},"redAdd"),s.prototype.redIAdd=a(function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},"redIAdd"),s.prototype.redSub=a(function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},"redSub"),s.prototype.redISub=a(function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},"redISub"),s.prototype.redShl=a(function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},"redShl"),s.prototype.redMul=a(function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},"redMul"),s.prototype.redIMul=a(function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},"redIMul"),s.prototype.redSqr=a(function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),s.prototype.redISqr=a(function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),s.prototype.redSqrt=a(function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),s.prototype.redInvm=a(function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),s.prototype.redNeg=a(function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),s.prototype.redPow=a(function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)},"redPow");var K={k256:null,p224:null,p192:null,p25519:null};function j(m,u){this.name=m,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(j,"MPrime"),j.prototype._tmp=a(function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},"_tmp"),j.prototype.ireduce=a(function(u){var c=u,v;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),v=c.bitLength();while(v>this.n);var y=v<this.n?-1:c.ucmp(this.p);return y===0?(c.words[0]=0,c.length=1):y>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},"ireduce"),j.prototype.split=a(function(u,c){u.iushrn(this.n,0,c)},"split"),j.prototype.imulK=a(function(u){return u.imul(this.k)},"imulK");function ie(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(ie,"K256"),i(ie,j),ie.prototype.split=a(function(u,c){for(var v=4194303,y=Math.min(u.length,9),E=0;E<y;E++)c.words[E]=u.words[E];if(c.length=y,u.length<=9){u.words[0]=0,u.length=1;return}var g=u.words[9];for(c.words[c.length++]=g&v,E=10;E<u.length;E++){var _=u.words[E]|0;u.words[E-10]=(_&v)<<4|g>>>22,g=_}g>>>=22,u.words[E-10]=g,g===0&&u.length>10?u.length-=10:u.length-=9},"split"),ie.prototype.imulK=a(function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var c=0,v=0;v<u.length;v++){var y=u.words[v]|0;c+=y*977,u.words[v]=c&67108863,c=y*64+(c/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u},"imulK");function J(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(J,"P224"),i(J,j);function ue(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(ue,"P192"),i(ue,j);function P(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(P,"P25519"),i(P,j),P.prototype.imulK=a(function(u){for(var c=0,v=0;v<u.length;v++){var y=(u.words[v]|0)*19+c,E=y&67108863;y>>>=26,u.words[v]=E,c=y}return c!==0&&(u.words[u.length++]=c),u},"imulK"),s._prime=a(function(u){if(K[u])return K[u];var c;if(u==="k256")c=new ie;else if(u==="p224")c=new J;else if(u==="p192")c=new ue;else if(u==="p25519")c=new P;else throw new Error("Unknown prime "+u);return K[u]=c,c},"prime");function b(m){if(typeof m=="string"){var u=s._prime(m);this.m=u.p,this.prime=u}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}a(b,"Red"),b.prototype._verify1=a(function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},"_verify1"),b.prototype._verify2=a(function(u,c){n((u.negative|c.negative)===0,"red works only with positives"),n(u.red&&u.red===c.red,"red works only with red numbers")},"_verify2"),b.prototype.imod=a(function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(p(u,u.umod(this.m)._forceRed(this)),u)},"imod"),b.prototype.neg=a(function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},"neg"),b.prototype.add=a(function(u,c){this._verify2(u,c);var v=u.add(c);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},"add"),b.prototype.iadd=a(function(u,c){this._verify2(u,c);var v=u.iadd(c);return v.cmp(this.m)>=0&&v.isub(this.m),v},"iadd"),b.prototype.sub=a(function(u,c){this._verify2(u,c);var v=u.sub(c);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},"sub"),b.prototype.isub=a(function(u,c){this._verify2(u,c);var v=u.isub(c);return v.cmpn(0)<0&&v.iadd(this.m),v},"isub"),b.prototype.shl=a(function(u,c){return this._verify1(u),this.imod(u.ushln(c))},"shl"),b.prototype.imul=a(function(u,c){return this._verify2(u,c),this.imod(u.imul(c))},"imul"),b.prototype.mul=a(function(u,c){return this._verify2(u,c),this.imod(u.mul(c))},"mul"),b.prototype.isqr=a(function(u){return this.imul(u,u.clone())},"isqr"),b.prototype.sqr=a(function(u){return this.mul(u,u)},"sqr"),b.prototype.sqrt=a(function(u){if(u.isZero())return u.clone();var c=this.m.andln(3);if(n(c%2===1),c===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(u,v)}for(var y=this.m.subn(1),E=0;!y.isZero()&&y.andln(1)===0;)E++,y.iushrn(1);n(!y.isZero());var g=new s(1).toRed(this),_=g.redNeg(),w=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);this.pow(h,w).cmp(_)!==0;)h.redIAdd(_);for(var A=this.pow(h,y),$=this.pow(u,y.addn(1).iushrn(1)),I=this.pow(u,y),q=E;I.cmp(g)!==0;){for(var Z=I,z=0;Z.cmp(g)!==0;z++)Z=Z.redSqr();n(z<q);var Q=this.pow(A,new s(1).iushln(q-z-1));$=$.redMul(Q),A=Q.redSqr(),I=I.redMul(A),q=z}return $},"sqrt"),b.prototype.invm=a(function(u){var c=u._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},"invm"),b.prototype.pow=a(function(u,c){if(c.isZero())return new s(1).toRed(this);if(c.cmpn(1)===0)return u.clone();var v=4,y=new Array(1<<v);y[0]=new s(1).toRed(this),y[1]=u;for(var E=2;E<y.length;E++)y[E]=this.mul(y[E-1],u);var g=y[0],_=0,w=0,h=c.bitLength()%26;for(h===0&&(h=26),E=c.length-1;E>=0;E--){for(var A=c.words[E],$=h-1;$>=0;$--){var I=A>>$&1;if(g!==y[0]&&(g=this.sqr(g)),I===0&&_===0){w=0;continue}_<<=1,_|=I,w++,!(w!==v&&(E!==0||$!==0))&&(g=this.mul(g,y[_]),w=0,_=0)}h=26}return g},"pow"),b.prototype.convertTo=a(function(u){var c=u.umod(this.m);return c===u?c.clone():c},"convertTo"),b.prototype.convertFrom=a(function(u){var c=u.clone();return c.red=null,c},"convertFrom"),s.mont=a(function(u){return new S(u)},"mont");function S(m){b.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(S,"Mont"),i(S,b),S.prototype.convertTo=a(function(u){return this.imod(u.ushln(this.shift))},"convertTo"),S.prototype.convertFrom=a(function(u){var c=this.imod(u.mul(this.rinv));return c.red=null,c},"convertFrom"),S.prototype.imul=a(function(u,c){if(u.isZero()||c.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(c),y=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=v.isub(y).iushrn(this.shift),g=E;return E.cmp(this.m)>=0?g=E.isub(this.m):E.cmpn(0)<0&&(g=E.iadd(this.m)),g._forceRed(this)},"imul"),S.prototype.mul=a(function(u,c){if(u.isZero()||c.isZero())return new s(0)._forceRed(this);var v=u.mul(c),y=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=v.isub(y).iushrn(this.shift),g=E;return E.cmp(this.m)>=0?g=E.isub(this.m):E.cmpn(0)<0&&(g=E.iadd(this.m)),g._forceRed(this)},"mul"),S.prototype.invm=a(function(u){var c=this.imod(u._invmp(this.m).mul(this.r2));return c._forceRed(this)},"invm")})(t,Vt)})(Zp);const eA=Zp.exports,tA="logger/5.7.0";let Fh=!1,qh=!1;const po={debug:1,default:2,info:2,warning:3,error:4,off:5};let Vh=po.default,Xf=null;function rA(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}a(rA,"_checkNormalize");const Kh=rA();var ju;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(ju||(ju={}));var hn;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(hn||(hn={}));const Hh="0123456789abcdef";class ae{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();po[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Vh>po[n])&&console.log.apply(console,r)}debug(...e){this._log(ae.levels.DEBUG,e)}info(...e){this._log(ae.levels.INFO,e)}warn(...e){this._log(ae.levels.WARNING,e)}makeError(e,r,n){if(qh)return this.makeError("censored error",r,{});r||(r=ae.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const d=n[l];try{if(d instanceof Uint8Array){let p="";for(let x=0;x<d.length;x++)p+=Hh[d[x]>>4],p+=Hh[d[x]&15];i.push(l+"=Uint8Array(0x"+p+")")}else i.push(l+"="+JSON.stringify(d))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case hn.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case hn.CALL_EXCEPTION:case hn.INSUFFICIENT_FUNDS:case hn.MISSING_NEW:case hn.NONCE_EXPIRED:case hn.REPLACEMENT_UNDERPRICED:case hn.TRANSACTION_REPLACED:case hn.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const f=new Error(e);return f.reason=s,f.code=r,Object.keys(n).forEach(function(l){f[l]=n[l]}),f}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ae.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Kh&&this.throwError("platform missing String.prototype.normalize",ae.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Kh})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ae.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ae.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ae.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ae.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ae.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ae.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ae.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Xf||(Xf=new ae(tA)),Xf}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ae.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Fh){if(!e)return;this.globalLogger().throwError("error censorship permanent",ae.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}qh=!!e,Fh=!!r}static setLogLevel(e){const r=po[e.toLowerCase()];if(r==null){ae.globalLogger().warn("invalid log level - "+e);return}Vh=r}static from(e){return new ae(e)}}a(ae,"Logger");ae.errors=hn;ae.levels=ju;const nA="bytes/5.7.0",Jt=new ae(nA);function eg(t){return!!t.toHexString}a(eg,"isHexable");function fs(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return fs(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}a(fs,"addSlice");function $l(t){return Nt(t)&&!(t.length%2)||qs(t)}a($l,"isBytesLike");function Gh(t){return typeof t=="number"&&t==t&&t%1===0}a(Gh,"isInteger");function qs(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Gh(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Gh(r)||r<0||r>=256)return!1}return!0}a(qs,"isBytes");function at(t,e){if(e||(e={}),typeof t=="number"){Jt.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),fs(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),eg(t)&&(t=t.toHexString()),Nt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Jt.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return fs(new Uint8Array(n))}return qs(t)?fs(new Uint8Array(t)):Jt.throwArgumentError("invalid arrayify value","value",t)}a(at,"arrayify");function Hr(t){const e=t.map(i=>at(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),fs(n)}a(Hr,"concat");function xs(t){let e=at(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}a(xs,"stripZeros");function iA(t,e){t=at(t),t.length>e&&Jt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),fs(r)}a(iA,"zeroPad");function Nt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}a(Nt,"isHexString$2");const Zf="0123456789abcdef";function nt(t,e){if(e||(e={}),typeof t=="number"){Jt.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Zf[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),eg(t))return t.toHexString();if(Nt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Jt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(qs(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Zf[(i&240)>>4]+Zf[i&15]}return r}return Jt.throwArgumentError("invalid hexlify value","value",t)}a(nt,"hexlify");function Vi(t){if(typeof t!="string")t=nt(t);else if(!Nt(t)||t.length%2)return null;return(t.length-2)/2}a(Vi,"hexDataLength");function xr(t,e,r){return typeof t!="string"?t=nt(t):(!Nt(t)||t.length%2)&&Jt.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}a(xr,"hexDataSlice");function Lr(t){let e="0x";return t.forEach(r=>{e+=nt(r).substring(2)}),e}a(Lr,"hexConcat");function Wl(t){const e=sA(nt(t,{hexPad:"left"}));return e==="0x"?"0x0":e}a(Wl,"hexValue");function sA(t){typeof t!="string"&&(t=nt(t)),Nt(t)||Jt.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}a(sA,"hexStripZeros");function zt(t,e){for(typeof t!="string"?t=nt(t):Nt(t)||Jt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Jt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}a(zt,"hexZeroPad");function Ef(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if($l(t)){let r=at(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=nt(r.slice(0,32)),e.s=nt(r.slice(32,64))):r.length===65?(e.r=nt(r.slice(0,32)),e.s=nt(r.slice(32,64)),e.v=r[64]):Jt.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Jt.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=nt(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=iA(at(e._vs),32);e._vs=nt(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Jt.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=nt(i);e.s==null?e.s=o:e.s!==o&&Jt.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Jt.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Jt.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Nt(e.r)?Jt.throwArgumentError("signature missing or invalid r","signature",t):e.r=zt(e.r,32),e.s==null||!Nt(e.s)?Jt.throwArgumentError("signature missing or invalid s","signature",t):e.s=zt(e.s,32);const r=at(e.s);r[0]>=128&&Jt.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=nt(r);e._vs&&(Nt(e._vs)||Jt.throwArgumentError("signature invalid _vs","signature",t),e._vs=zt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Jt.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}a(Ef,"splitSignature");const tg="bignumber/5.7.0";var Ko=eA.BN;const Yn=new ae(tg),eu={},jh=9007199254740991;function aA(t){return t!=null&&(Ae.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Nt(t)||typeof t=="bigint"||qs(t))}a(aA,"isBigNumberish");let zh=!1;class Ae{constructor(e,r){e!==eu&&Yn.throwError("cannot call constructor directly; use BigNumber.from",ae.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Pr(_t(this).fromTwos(e))}toTwos(e){return Pr(_t(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ae.from(this._hex.substring(1)):this}add(e){return Pr(_t(this).add(_t(e)))}sub(e){return Pr(_t(this).sub(_t(e)))}div(e){return Ae.from(e).isZero()&&Wr("division-by-zero","div"),Pr(_t(this).div(_t(e)))}mul(e){return Pr(_t(this).mul(_t(e)))}mod(e){const r=_t(e);return r.isNeg()&&Wr("division-by-zero","mod"),Pr(_t(this).umod(r))}pow(e){const r=_t(e);return r.isNeg()&&Wr("negative-power","pow"),Pr(_t(this).pow(r))}and(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&Wr("unbound-bitwise-result","and"),Pr(_t(this).and(r))}or(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&Wr("unbound-bitwise-result","or"),Pr(_t(this).or(r))}xor(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&Wr("unbound-bitwise-result","xor"),Pr(_t(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Wr("negative-width","mask"),Pr(_t(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Wr("negative-width","shl"),Pr(_t(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Wr("negative-width","shr"),Pr(_t(this).shrn(e))}eq(e){return _t(this).eq(_t(e))}lt(e){return _t(this).lt(_t(e))}lte(e){return _t(this).lte(_t(e))}gt(e){return _t(this).gt(_t(e))}gte(e){return _t(this).gte(_t(e))}isNegative(){return this._hex[0]==="-"}isZero(){return _t(this).isZero()}toNumber(){try{return _t(this).toNumber()}catch{Wr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Yn.throwError("this platform does not support BigInt",ae.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?zh||(zh=!0,Yn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Yn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ae.errors.UNEXPECTED_ARGUMENT,{}):Yn.throwError("BigNumber.toString does not accept parameters",ae.errors.UNEXPECTED_ARGUMENT,{})),_t(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ae)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ae(eu,Aa(e)):e.match(/^-?[0-9]+$/)?new Ae(eu,Aa(new Ko(e))):Yn.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Wr("underflow","BigNumber.from",e),(e>=jh||e<=-jh)&&Wr("overflow","BigNumber.from",e),Ae.from(String(e));const r=e;if(typeof r=="bigint")return Ae.from(r.toString());if(qs(r))return Ae.from(nt(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ae.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Nt(n)||n[0]==="-"&&Nt(n.substring(1))))return Ae.from(n)}return Yn.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}a(Ae,"BigNumber");function Aa(t){if(typeof t!="string")return Aa(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Yn.throwArgumentError("invalid hex","value",t),t=Aa(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}a(Aa,"toHex$1");function Pr(t){return Ae.from(Aa(t))}a(Pr,"toBigNumber");function _t(t){const e=Ae.from(t).toHexString();return e[0]==="-"?new Ko("-"+e.substring(3),16):new Ko(e.substring(2),16)}a(_t,"toBN");function Wr(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Yn.throwError(t,ae.errors.NUMERIC_FAULT,n)}a(Wr,"throwFault$1");function oA(t){return new Ko(t,36).toString(16)}a(oA,"_base36To16");const kr=new ae(tg),ga={},rg=Ae.from(0),ng=Ae.from(-1);function ig(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),kr.throwError(t,ae.errors.NUMERIC_FAULT,i)}a(ig,"throwFault");let va="0";for(;va.length<256;)va+=va;function Ql(t){if(typeof t!="number")try{t=Ae.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+va.substring(0,t):kr.throwArgumentError("invalid decimal size","decimals",t)}a(Ql,"getMultiplier");function go(t,e){e==null&&(e=0);const r=Ql(e);t=Ae.from(t);const n=t.lt(rg);n&&(t=t.mul(ng));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}a(go,"formatFixed");function wn(t,e){e==null&&(e=0);const r=Ql(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&kr.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&kr.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&kr.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&ig("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const f=Ae.from(s),l=Ae.from(o);let d=f.mul(r).add(l);return n&&(d=d.mul(ng)),d}a(wn,"parseFixed");class Di{constructor(e,r,n,i){e!==ga&&kr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ae.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Ql(i),Object.freeze(this)}static from(e){if(e instanceof Di)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||kr.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=a((o,f,l)=>e[o]==null?l:(typeof e[o]!==f&&kr.throwArgumentError("invalid fixed format ("+o+" not "+f+")","format."+o,e[o]),e[o]),"check");r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&kr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&kr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Di(ga,r,n,i)}}a(Di,"FixedFormat");class lr{constructor(e,r,n,i){e!==ga&&kr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ae.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&kr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=wn(this._value,this.format.decimals),n=wn(e._value,e.format.decimals);return lr.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=wn(this._value,this.format.decimals),n=wn(e._value,e.format.decimals);return lr.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=wn(this._value,this.format.decimals),n=wn(e._value,e.format.decimals);return lr.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=wn(this._value,this.format.decimals),n=wn(e._value,e.format.decimals);return lr.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=lr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe($h.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=lr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe($h.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&kr.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=lr.from("1"+va.substring(0,e),this.format),i=fA.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&kr.throwArgumentError("invalid byte width","width",e);const r=Ae.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return zt(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return lr.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!aA(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),lr.fromString(go(e,r),Di.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Di.from(r),i=wn(e,n.decimals);!n.signed&&i.lt(rg)&&ig("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=zt(s,n.width/8));const o=go(i,n.decimals);return new lr(ga,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Di.from(r);if(at(e).length>n.width/8)throw new Error("overflow");let i=Ae.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=go(i,n.decimals);return new lr(ga,s,o,n)}static from(e,r){if(typeof e=="string")return lr.fromString(e,r);if(qs(e))return lr.fromBytes(e,r);try{return lr.fromValue(e,0,r)}catch(n){if(n.code!==ae.errors.INVALID_ARGUMENT)throw n}return kr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}a(lr,"FixedNumber");const $h=lr.from(1),fA=lr.from("0.5"),uA="properties/5.7.0";var lA=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return a(i,"adopt"),new(r||(r=Promise))(function(s,o){function f(p){try{d(n.next(p))}catch(x){o(x)}}a(f,"fulfilled");function l(p){try{d(n.throw(p))}catch(x){o(x)}}a(l,"rejected");function d(p){p.done?s(p.value):i(p.value).then(f,l)}a(d,"step"),d((n=n.apply(t,e||[])).next())})};const Ho=new ae(uA);function Ee(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}a(Ee,"defineReadOnly");function Rn(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}a(Rn,"getStatic");function nr(t){return lA(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}a(nr,"resolveProperties");function hA(t,e){(!t||typeof t!="object")&&Ho.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Ho.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}a(hA,"checkProperties");function fr(t){const e={};for(const r in t)e[r]=t[r];return e}a(fr,"shallowCopy");const cA={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function sg(t){if(t==null||cA[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!sg(n))return!1}return!0}return Ho.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}a(sg,"_isFrozen");function dA(t){if(sg(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>ii(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Ee(e,r,ii(n))}return e}return Ho.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}a(dA,"_deepCopy");function ii(t){return dA(t)}a(ii,"deepCopy");class Vs{constructor(e){for(const r in e)this[r]=ii(e[r])}}a(Vs,"Description");const Va="abi/5.7.0",Ct=new ae(Va),Ki={};let Wh={calldata:!0,memory:!0,storage:!0},pA={calldata:!0,memory:!0};function Za(t,e){if(t==="bytes"||t==="string"){if(Wh[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&pA[e])return!0;return(Wh[e]||e==="payable")&&Ct.throwArgumentError("invalid modifier","name",e),!1}a(Za,"checkModifier");function gA(t,e){let r=t;function n(f){Ct.throwArgumentError(`unexpected character at position ${f}`,"param",t)}a(n,"throwError"),t=t.replace(/\s/g," ");function i(f){let l={type:"",name:"",parent:f,state:{allowType:!0}};return e&&(l.indexed=!1),l}a(i,"newNode");let s={type:"",name:"",state:{allowType:!0}},o=s;for(let f=0;f<t.length;f++){let l=t[f];switch(l){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(f),o.state.allowType=!1,o.type=rs(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(f),o.indexed=!0,o.name=""),Za(o.type,o.name)&&(o.name=""),o.type=rs(o.type);let d=o;o=o.parent,o||n(f),delete d.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(f),o.indexed=!0,o.name=""),Za(o.type,o.name)&&(o.name=""),o.type=rs(o.type);let p=i(o.parent);o.parent.components.push(p),delete o.parent,o=p;break;case" ":o.state.allowType&&o.type!==""&&(o.type=rs(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(f),o.indexed&&n(f),o.indexed=!0,o.name=""):Za(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(f),o.type+=l,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(f),o.type+=l,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=l,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=l,delete o.state.allowArray):o.state.readArray?o.type+=l:n(f)}}return o.parent&&Ct.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Za(o.type,o.name)&&(o.name=""),s.type=rs(s.type),s}a(gA,"parseParamType");function vo(t,e){for(let r in e)Ee(t,r,e[r])}a(vo,"populate");const Mt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),vA=new RegExp(/^(.*)\[([0-9]*)\]$/);class ar{constructor(e,r){e!==Ki&&Ct.throwError("use fromString",ae.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),vo(this,r);let n=this.type.match(vA);n?vo(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:ar.fromObject({type:n[1],components:this.components}),baseType:"array"}):vo(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Mt.sighash),Mt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Mt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Mt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Mt.full?", ":",")+")"):r+=this.type,e!==Mt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Mt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?ar.fromString(e,r):ar.fromObject(e)}static fromObject(e){return ar.isParamType(e)?e:new ar(Ki,{name:e.name||null,type:rs(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ar.fromObject):null})}static fromString(e,r){function n(i){return ar.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return a(n,"ParamTypify"),n(gA(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}a(ar,"ParamType");function Sa(t,e){return yA(t).map(r=>ar.fromString(r,e))}a(Sa,"parseParams");class Bn{constructor(e,r){e!==Ki&&Ct.throwError("use a static from method",ae.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),vo(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Bn.isFragment(e)?e:typeof e=="string"?Bn.fromString(e):Bn.fromObject(e)}static fromObject(e){if(Bn.isFragment(e))return e;switch(e.type){case"function":return pn.fromObject(e);case"event":return Mn.fromObject(e);case"constructor":return dn.fromObject(e);case"error":return Zn.fromObject(e);case"fallback":case"receive":return null}return Ct.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Mn.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?pn.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?dn.fromString(e.trim()):e.split(" ")[0]==="error"?Zn.fromString(e.substring(5).trim()):Ct.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}a(Bn,"Fragment");class Mn extends Bn{format(e){if(e||(e=Mt.sighash),Mt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Mt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ",e!==Mt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Mn.fromString(e):Mn.fromObject(e)}static fromObject(e){if(Mn.isEventFragment(e))return e;e.type!=="event"&&Ct.throwArgumentError("invalid event object","value",e);const r={name:Ca(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ar.fromObject):[],type:"event"};return new Mn(Ki,r)}static fromString(e){let r=e.match(Ta);r||Ct.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Ct.warn("unknown modifier: "+i)}}),Mn.fromObject({name:r[1].trim(),anonymous:n,inputs:Sa(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}a(Mn,"EventFragment");function ag(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Ct.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Ct.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Ae.from(r[1]),r[0]):t}a(ag,"parseGas");function og(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}a(og,"parseModifiers");function fg(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Ct.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Ct.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Ct.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ct.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Ct.throwArgumentError("unable to determine stateMutability","value",t),e}a(fg,"verifyState");class dn extends Bn{format(e){if(e||(e=Mt.sighash),Mt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Mt.sighash&&Ct.throwError("cannot format a constructor for sighash",ae.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?dn.fromString(e):dn.fromObject(e)}static fromObject(e){if(dn.isConstructorFragment(e))return e;e.type!=="constructor"&&Ct.throwArgumentError("invalid constructor object","value",e);let r=fg(e);r.constant&&Ct.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ar.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ae.from(e.gas):null};return new dn(Ki,n)}static fromString(e){let r={type:"constructor"};e=ag(e,r);let n=e.match(Ta);return(!n||n[1].trim()!=="constructor")&&Ct.throwArgumentError("invalid constructor string","value",e),r.inputs=Sa(n[2].trim(),!1),og(n[3].trim(),r),dn.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}a(dn,"ConstructorFragment");class pn extends dn{format(e){if(e||(e=Mt.sighash),Mt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Mt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ",e!==Mt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?pn.fromString(e):pn.fromObject(e)}static fromObject(e){if(pn.isFunctionFragment(e))return e;e.type!=="function"&&Ct.throwArgumentError("invalid function object","value",e);let r=fg(e);const n={type:e.type,name:Ca(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(ar.fromObject):[],outputs:e.outputs?e.outputs.map(ar.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ae.from(e.gas):null};return new pn(Ki,n)}static fromString(e){let r={type:"function"};e=ag(e,r);let n=e.split(" returns ");n.length>2&&Ct.throwArgumentError("invalid function string","value",e);let i=n[0].match(Ta);if(i||Ct.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Ca(r.name),r.inputs=Sa(i[2],!1),og(i[3].trim(),r),n.length>1){let s=n[1].match(Ta);(s[1].trim()!=""||s[3].trim()!="")&&Ct.throwArgumentError("unexpected tokens","value",e),r.outputs=Sa(s[2],!1)}else r.outputs=[];return pn.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}a(pn,"FunctionFragment");function Qh(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Ct.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}a(Qh,"checkForbidden");class Zn extends Bn{format(e){if(e||(e=Mt.sighash),Mt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Mt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Mt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Mt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Zn.fromString(e):Zn.fromObject(e)}static fromObject(e){if(Zn.isErrorFragment(e))return e;e.type!=="error"&&Ct.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Ca(e.name),inputs:e.inputs?e.inputs.map(ar.fromObject):[]};return Qh(new Zn(Ki,r))}static fromString(e){let r={type:"error"},n=e.match(Ta);return n||Ct.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Ca(r.name),r.inputs=Sa(n[2],!1),Qh(Zn.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}a(Zn,"ErrorFragment");function rs(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}a(rs,"verifyType");const mA=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Ca(t){return(!t||!t.match(mA))&&Ct.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}a(Ca,"verifyIdentifier");const Ta=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function yA(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Ct.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}a(yA,"splitNesting");const Yl=new ae(Va);function wA(t){const e=[],r=a(function(n,i){if(!!Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(f){e.push({path:o,error:f})}}},"checkErrors");return r([],t),e}a(wA,"checkResultErrors");class Hn{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){Yl.throwArgumentError(e,this.localName,r)}}a(Hn,"Coder");class Go{constructor(e){Ee(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Lr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Hr(e._data))}writeBytes(e){let r=at(e);const n=r.length%this.wordSize;return n&&(r=Hr([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=at(Ae.from(e));return r.length>this.wordSize&&Yl.throwError("value out-of-bounds",ae.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Hr([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}a(Go,"Writer");class Ia{constructor(e,r,n,i){Ee(this,"_data",at(e)),Ee(this,"wordSize",r||32),Ee(this,"_coerceFunc",n),Ee(this,"allowLoose",i),this._offset=0}get data(){return nt(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Ia.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:Yl.throwError("data out-of-bounds",ae.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Ia(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Ae.from(this.readBytes(this.wordSize))}}a(Ia,"Reader");var Jl={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Vt:s&&(i=self);var f=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),p=[31,7936,2031616,520093696],x=[4,1024,262144,67108864],T=[1,256,65536,16777216],R=[6,1536,393216,100663296],N=[0,8,16,24],O=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],B=[224,256,384,512],k=[128,256],L=["hex","buffer","arrayBuffer","array","digest"],D={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(I){return Object.prototype.toString.call(I)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(I){return typeof I=="object"&&I.buffer&&I.buffer.constructor===ArrayBuffer});for(var H=a(function(I,q,Z){return function(z){return new h(I,q,I).update(z)[Z]()}},"createOutputMethod"),K=a(function(I,q,Z){return function(z,Q){return new h(I,q,Q).update(z)[Z]()}},"createShakeOutputMethod"),j=a(function(I,q,Z){return function(z,Q,le,te){return u["cshake"+I].update(z,Q,le,te)[Z]()}},"createCshakeOutputMethod"),ie=a(function(I,q,Z){return function(z,Q,le,te){return u["kmac"+I].update(z,Q,le,te)[Z]()}},"createKmacOutputMethod"),J=a(function(I,q,Z,z){for(var Q=0;Q<L.length;++Q){var le=L[Q];I[le]=q(Z,z,le)}return I},"createOutputMethods"),ue=a(function(I,q){var Z=H(I,q,"hex");return Z.create=function(){return new h(I,q,I)},Z.update=function(z){return Z.create().update(z)},J(Z,H,I,q)},"createMethod"),P=a(function(I,q){var Z=K(I,q,"hex");return Z.create=function(z){return new h(I,q,z)},Z.update=function(z,Q){return Z.create(Q).update(z)},J(Z,K,I,q)},"createShakeMethod"),b=a(function(I,q){var Z=D[I],z=j(I,q,"hex");return z.create=function(Q,le,te){return!le&&!te?u["shake"+I].create(Q):new h(I,q,Q).bytepad([le,te],Z)},z.update=function(Q,le,te,re){return z.create(le,te,re).update(Q)},J(z,j,I,q)},"createCshakeMethod"),S=a(function(I,q){var Z=D[I],z=ie(I,q,"hex");return z.create=function(Q,le,te){return new A(I,q,le).bytepad(["KMAC",te],Z).bytepad([Q],Z)},z.update=function(Q,le,te,re){return z.create(Q,te,re).update(le)},J(z,ie,I,q)},"createKmacMethod"),m=[{name:"keccak",padding:T,bits:B,createMethod:ue},{name:"sha3",padding:R,bits:B,createMethod:ue},{name:"shake",padding:p,bits:k,createMethod:P},{name:"cshake",padding:x,bits:k,createMethod:b},{name:"kmac",padding:x,bits:k,createMethod:S}],u={},c=[],v=0;v<m.length;++v)for(var y=m[v],E=y.bits,g=0;g<E.length;++g){var _=y.name+"_"+E[g];if(c.push(_),u[_]=y.createMethod(E[g],y.padding),y.name!=="sha3"){var w=y.name+E[g];c.push(w),u[w]=u[_]}}function h(I,q,Z){this.blocks=[],this.s=[],this.padding=q,this.outputBits=Z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(I<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Z>>5,this.extraBytes=(Z&31)>>3;for(var z=0;z<50;++z)this.s[z]=0}a(h,"Keccak"),h.prototype.update=function(I){if(this.finalized)throw new Error(r);var q,Z=typeof I;if(Z!=="string"){if(Z==="object"){if(I===null)throw new Error(e);if(l&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!l||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);q=!0}for(var z=this.blocks,Q=this.byteCount,le=I.length,te=this.blockCount,re=0,me=this.s,oe,ce;re<le;){if(this.reset)for(this.reset=!1,z[0]=this.block,oe=1;oe<te+1;++oe)z[oe]=0;if(q)for(oe=this.start;re<le&&oe<Q;++re)z[oe>>2]|=I[re]<<N[oe++&3];else for(oe=this.start;re<le&&oe<Q;++re)ce=I.charCodeAt(re),ce<128?z[oe>>2]|=ce<<N[oe++&3]:ce<2048?(z[oe>>2]|=(192|ce>>6)<<N[oe++&3],z[oe>>2]|=(128|ce&63)<<N[oe++&3]):ce<55296||ce>=57344?(z[oe>>2]|=(224|ce>>12)<<N[oe++&3],z[oe>>2]|=(128|ce>>6&63)<<N[oe++&3],z[oe>>2]|=(128|ce&63)<<N[oe++&3]):(ce=65536+((ce&1023)<<10|I.charCodeAt(++re)&1023),z[oe>>2]|=(240|ce>>18)<<N[oe++&3],z[oe>>2]|=(128|ce>>12&63)<<N[oe++&3],z[oe>>2]|=(128|ce>>6&63)<<N[oe++&3],z[oe>>2]|=(128|ce&63)<<N[oe++&3]);if(this.lastByteIndex=oe,oe>=Q){for(this.start=oe-Q,this.block=z[te],oe=0;oe<te;++oe)me[oe]^=z[oe];$(me),this.reset=!0}else this.start=oe}return this},h.prototype.encode=function(I,q){var Z=I&255,z=1,Q=[Z];for(I=I>>8,Z=I&255;Z>0;)Q.unshift(Z),I=I>>8,Z=I&255,++z;return q?Q.push(z):Q.unshift(z),this.update(Q),Q.length},h.prototype.encodeString=function(I){var q,Z=typeof I;if(Z!=="string"){if(Z==="object"){if(I===null)throw new Error(e);if(l&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!l||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);q=!0}var z=0,Q=I.length;if(q)z=Q;else for(var le=0;le<I.length;++le){var te=I.charCodeAt(le);te<128?z+=1:te<2048?z+=2:te<55296||te>=57344?z+=3:(te=65536+((te&1023)<<10|I.charCodeAt(++le)&1023),z+=4)}return z+=this.encode(z*8),this.update(I),z},h.prototype.bytepad=function(I,q){for(var Z=this.encode(q),z=0;z<I.length;++z)Z+=this.encodeString(I[z]);var Q=q-Z%q,le=[];return le.length=Q,this.update(le),this},h.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var I=this.blocks,q=this.lastByteIndex,Z=this.blockCount,z=this.s;if(I[q>>2]|=this.padding[q&3],this.lastByteIndex===this.byteCount)for(I[0]=I[Z],q=1;q<Z+1;++q)I[q]=0;for(I[Z-1]|=2147483648,q=0;q<Z;++q)z[q]^=I[q];$(z)}},h.prototype.toString=h.prototype.hex=function(){this.finalize();for(var I=this.blockCount,q=this.s,Z=this.outputBlocks,z=this.extraBytes,Q=0,le=0,te="",re;le<Z;){for(Q=0;Q<I&&le<Z;++Q,++le)re=q[Q],te+=d[re>>4&15]+d[re&15]+d[re>>12&15]+d[re>>8&15]+d[re>>20&15]+d[re>>16&15]+d[re>>28&15]+d[re>>24&15];le%I===0&&($(q),Q=0)}return z&&(re=q[Q],te+=d[re>>4&15]+d[re&15],z>1&&(te+=d[re>>12&15]+d[re>>8&15]),z>2&&(te+=d[re>>20&15]+d[re>>16&15])),te},h.prototype.arrayBuffer=function(){this.finalize();var I=this.blockCount,q=this.s,Z=this.outputBlocks,z=this.extraBytes,Q=0,le=0,te=this.outputBits>>3,re;z?re=new ArrayBuffer(Z+1<<2):re=new ArrayBuffer(te);for(var me=new Uint32Array(re);le<Z;){for(Q=0;Q<I&&le<Z;++Q,++le)me[le]=q[Q];le%I===0&&$(q)}return z&&(me[Q]=q[Q],re=re.slice(0,te)),re},h.prototype.buffer=h.prototype.arrayBuffer,h.prototype.digest=h.prototype.array=function(){this.finalize();for(var I=this.blockCount,q=this.s,Z=this.outputBlocks,z=this.extraBytes,Q=0,le=0,te=[],re,me;le<Z;){for(Q=0;Q<I&&le<Z;++Q,++le)re=le<<2,me=q[Q],te[re]=me&255,te[re+1]=me>>8&255,te[re+2]=me>>16&255,te[re+3]=me>>24&255;le%I===0&&$(q)}return z&&(re=le<<2,me=q[Q],te[re]=me&255,z>1&&(te[re+1]=me>>8&255),z>2&&(te[re+2]=me>>16&255)),te};function A(I,q,Z){h.call(this,I,q,Z)}a(A,"Kmac"),A.prototype=new h,A.prototype.finalize=function(){return this.encode(this.outputBits,!0),h.prototype.finalize.call(this)};var $=a(function(I){var q,Z,z,Q,le,te,re,me,oe,ce,F,C,M,G,W,ne,de,ve,we,mt,be,xe,tr,ke,Pe,sr,Oe,De,wr,Fe,qe,ur,Ce,Re,wt,Ge,je,kt,ze,$e,Ar,We,Qe,Sr,Ye,Je,Cr,Le,Xe,Tr,Ze,et,Ir,tt,Ve,br,it,st,V,X,se,pe,ye;for(z=0;z<48;z+=2)Q=I[0]^I[10]^I[20]^I[30]^I[40],le=I[1]^I[11]^I[21]^I[31]^I[41],te=I[2]^I[12]^I[22]^I[32]^I[42],re=I[3]^I[13]^I[23]^I[33]^I[43],me=I[4]^I[14]^I[24]^I[34]^I[44],oe=I[5]^I[15]^I[25]^I[35]^I[45],ce=I[6]^I[16]^I[26]^I[36]^I[46],F=I[7]^I[17]^I[27]^I[37]^I[47],C=I[8]^I[18]^I[28]^I[38]^I[48],M=I[9]^I[19]^I[29]^I[39]^I[49],q=C^(te<<1|re>>>31),Z=M^(re<<1|te>>>31),I[0]^=q,I[1]^=Z,I[10]^=q,I[11]^=Z,I[20]^=q,I[21]^=Z,I[30]^=q,I[31]^=Z,I[40]^=q,I[41]^=Z,q=Q^(me<<1|oe>>>31),Z=le^(oe<<1|me>>>31),I[2]^=q,I[3]^=Z,I[12]^=q,I[13]^=Z,I[22]^=q,I[23]^=Z,I[32]^=q,I[33]^=Z,I[42]^=q,I[43]^=Z,q=te^(ce<<1|F>>>31),Z=re^(F<<1|ce>>>31),I[4]^=q,I[5]^=Z,I[14]^=q,I[15]^=Z,I[24]^=q,I[25]^=Z,I[34]^=q,I[35]^=Z,I[44]^=q,I[45]^=Z,q=me^(C<<1|M>>>31),Z=oe^(M<<1|C>>>31),I[6]^=q,I[7]^=Z,I[16]^=q,I[17]^=Z,I[26]^=q,I[27]^=Z,I[36]^=q,I[37]^=Z,I[46]^=q,I[47]^=Z,q=ce^(Q<<1|le>>>31),Z=F^(le<<1|Q>>>31),I[8]^=q,I[9]^=Z,I[18]^=q,I[19]^=Z,I[28]^=q,I[29]^=Z,I[38]^=q,I[39]^=Z,I[48]^=q,I[49]^=Z,G=I[0],W=I[1],Je=I[11]<<4|I[10]>>>28,Cr=I[10]<<4|I[11]>>>28,De=I[20]<<3|I[21]>>>29,wr=I[21]<<3|I[20]>>>29,X=I[31]<<9|I[30]>>>23,se=I[30]<<9|I[31]>>>23,We=I[40]<<18|I[41]>>>14,Qe=I[41]<<18|I[40]>>>14,Re=I[2]<<1|I[3]>>>31,wt=I[3]<<1|I[2]>>>31,ne=I[13]<<12|I[12]>>>20,de=I[12]<<12|I[13]>>>20,Le=I[22]<<10|I[23]>>>22,Xe=I[23]<<10|I[22]>>>22,Fe=I[33]<<13|I[32]>>>19,qe=I[32]<<13|I[33]>>>19,pe=I[42]<<2|I[43]>>>30,ye=I[43]<<2|I[42]>>>30,tt=I[5]<<30|I[4]>>>2,Ve=I[4]<<30|I[5]>>>2,Ge=I[14]<<6|I[15]>>>26,je=I[15]<<6|I[14]>>>26,ve=I[25]<<11|I[24]>>>21,we=I[24]<<11|I[25]>>>21,Tr=I[34]<<15|I[35]>>>17,Ze=I[35]<<15|I[34]>>>17,ur=I[45]<<29|I[44]>>>3,Ce=I[44]<<29|I[45]>>>3,ke=I[6]<<28|I[7]>>>4,Pe=I[7]<<28|I[6]>>>4,br=I[17]<<23|I[16]>>>9,it=I[16]<<23|I[17]>>>9,kt=I[26]<<25|I[27]>>>7,ze=I[27]<<25|I[26]>>>7,mt=I[36]<<21|I[37]>>>11,be=I[37]<<21|I[36]>>>11,et=I[47]<<24|I[46]>>>8,Ir=I[46]<<24|I[47]>>>8,Sr=I[8]<<27|I[9]>>>5,Ye=I[9]<<27|I[8]>>>5,sr=I[18]<<20|I[19]>>>12,Oe=I[19]<<20|I[18]>>>12,st=I[29]<<7|I[28]>>>25,V=I[28]<<7|I[29]>>>25,$e=I[38]<<8|I[39]>>>24,Ar=I[39]<<8|I[38]>>>24,xe=I[48]<<14|I[49]>>>18,tr=I[49]<<14|I[48]>>>18,I[0]=G^~ne&ve,I[1]=W^~de&we,I[10]=ke^~sr&De,I[11]=Pe^~Oe&wr,I[20]=Re^~Ge&kt,I[21]=wt^~je&ze,I[30]=Sr^~Je&Le,I[31]=Ye^~Cr&Xe,I[40]=tt^~br&st,I[41]=Ve^~it&V,I[2]=ne^~ve&mt,I[3]=de^~we&be,I[12]=sr^~De&Fe,I[13]=Oe^~wr&qe,I[22]=Ge^~kt&$e,I[23]=je^~ze&Ar,I[32]=Je^~Le&Tr,I[33]=Cr^~Xe&Ze,I[42]=br^~st&X,I[43]=it^~V&se,I[4]=ve^~mt&xe,I[5]=we^~be&tr,I[14]=De^~Fe&ur,I[15]=wr^~qe&Ce,I[24]=kt^~$e&We,I[25]=ze^~Ar&Qe,I[34]=Le^~Tr&et,I[35]=Xe^~Ze&Ir,I[44]=st^~X&pe,I[45]=V^~se&ye,I[6]=mt^~xe&G,I[7]=be^~tr&W,I[16]=Fe^~ur&ke,I[17]=qe^~Ce&Pe,I[26]=$e^~We&Re,I[27]=Ar^~Qe&wt,I[36]=Tr^~et&Sr,I[37]=Ze^~Ir&Ye,I[46]=X^~pe&tt,I[47]=se^~ye&Ve,I[8]=xe^~G&ne,I[9]=tr^~W&de,I[18]=ur^~ke&sr,I[19]=Ce^~Pe&Oe,I[28]=We^~Re&Ge,I[29]=Qe^~wt&je,I[38]=et^~Sr&Je,I[39]=Ir^~Ye&Cr,I[48]=pe^~tt&br,I[49]=ye^~Ve&it,I[0]^=O[z],I[1]^=O[z+1]},"f");if(f)t.exports=u;else for(v=0;v<c.length;++v)i[c[v]]=u[c[v]]})()})(Jl);const bA=Jl.exports;function or(t){return"0x"+bA.keccak_256(at(t))}a(or,"keccak256");const xA="rlp/5.7.0",En=new ae(xA);function Yh(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}a(Yh,"arrayifyInteger");function Jh(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}a(Jh,"unarrayifyInteger");function ug(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(ug(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Yh(n.length);return i.unshift(247+i.length),i.concat(n)}$l(t)||En.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(at(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Yh(e.length);return r.unshift(183+r.length),r.concat(e)}a(ug,"_encode");function _f(t){return nt(ug(t))}a(_f,"encode$3");function Xh(t,e,r,n){const i=[];for(;r<e+1+n;){const s=lg(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&En.throwError("child data too short",ae.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}a(Xh,"_decodeChildren");function lg(t,e){if(t.length===0&&En.throwError("data too short",ae.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&En.throwError("data short segment too short",ae.errors.BUFFER_OVERRUN,{});const n=Jh(t,e+1,r);return e+1+r+n>t.length&&En.throwError("data long segment too short",ae.errors.BUFFER_OVERRUN,{}),Xh(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&En.throwError("data array too short",ae.errors.BUFFER_OVERRUN,{}),Xh(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&En.throwError("data array too short",ae.errors.BUFFER_OVERRUN,{});const n=Jh(t,e+1,r);e+1+r+n>t.length&&En.throwError("data array too short",ae.errors.BUFFER_OVERRUN,{});const i=nt(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&En.throwError("data too short",ae.errors.BUFFER_OVERRUN,{});const n=nt(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:nt(t[e])}}a(lg,"_decode");function Xl(t){const e=at(t),r=lg(e,0);return r.consumed!==e.length&&En.throwArgumentError("invalid rlp data","data",t),r.result}a(Xl,"decode$4");const EA="address/5.7.0",is=new ae(EA);function Zh(t){Nt(t,20)||is.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=at(or(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}a(Zh,"getChecksumAddress");const _A=9007199254740991;function AA(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}a(AA,"log10");const Zl={};for(let t=0;t<10;t++)Zl[String(t)]=String(t);for(let t=0;t<26;t++)Zl[String.fromCharCode(65+t)]=String(10+t);const ec=Math.floor(AA(_A));function SA(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Zl[n]).join("");for(;e.length>=ec;){let n=e.substring(0,ec);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}a(SA,"ibanChecksum");function pr(t){let e=null;if(typeof t!="string"&&is.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Zh(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&is.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==SA(t)&&is.throwArgumentError("bad icap checksum","address",t),e=oA(t.substring(4));e.length<40;)e="0"+e;e=Zh("0x"+e)}else is.throwArgumentError("invalid address","address",t);return e}a(pr,"getAddress");function hg(t){let e=null;try{e=pr(t.from)}catch{is.throwArgumentError("missing from address","transaction",t)}const r=xs(at(Ae.from(t.nonce).toHexString()));return pr(xr(or(_f([e,r])),12))}a(hg,"getContractAddress");class cg extends Hn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=pr(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return pr(zt(e.readValue().toHexString(),20))}}a(cg,"AddressCoder");class dg extends Hn{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}a(dg,"AnonymousCoder");const ss=new ae(Va);function pg(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let l={};n=e.map(d=>{const p=d.localName;return p||ss.throwError("cannot encode object for signature with missing names",ae.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),l[p]&&ss.throwError("cannot encode object for signature with duplicate names",ae.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),l[p]=!0,r[p]})}else ss.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&ss.throwArgumentError("types/value length mismatch","tuple",r);let i=new Go(t.wordSize),s=new Go(t.wordSize),o=[];e.forEach((l,d)=>{let p=n[d];if(l.dynamic){let x=s.length;l.encode(s,p);let T=i.writeUpdatableValue();o.push(R=>{T(R+x)})}else l.encode(i,p)}),o.forEach(l=>{l(i.length)});let f=t.appendWriter(i);return f+=t.appendWriter(s),f}a(pg,"pack");function gg(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let f=t.readValue(),l=n.subReader(f.toNumber());try{o=s.decode(l)}catch(d){if(d.code===ae.errors.BUFFER_OVERRUN)throw d;o=d,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(f){if(f.code===ae.errors.BUFFER_OVERRUN)throw f;o=f,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const f=o.localName;return f&&(s[f]||(s[f]=0),s[f]++),s},{});e.forEach((s,o)=>{let f=s.localName;if(!f||i[f]!==1||(f==="length"&&(f="_length"),r[f]!=null))return;const l=r[o];l instanceof Error?Object.defineProperty(r,f,{enumerable:!0,get:()=>{throw l}}):r[f]=l});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}a(gg,"unpack");class vg extends Hn{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),ss.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return pg(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&ss.throwError("insufficient data length",ae.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new dg(this.coder));return e.coerce(this.name,gg(e,n))}}a(vg,"ArrayCoder");class mg extends Hn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}a(mg,"BooleanCoder");class e0 extends Hn{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=at(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}a(e0,"DynamicBytesCoder");class yg extends e0{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,nt(super.decode(e)))}}a(yg,"BytesCoder");class wg extends Hn{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=at(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,nt(e.readBytes(this.size)))}}a(wg,"FixedBytesCoder");class bg extends Hn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}a(bg,"NullCoder");const CA="0x0000000000000000000000000000000000000000",TA=Ae.from(-1),xg=Ae.from(0),IA=Ae.from(1),MA=Ae.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),NA="0x0000000000000000000000000000000000000000000000000000000000000000";class Eg extends Hn{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Ae.from(r),i=MA.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(IA).mul(TA)))&&this._throwError("value out-of-bounds",r)}else(n.lt(xg)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}a(Eg,"NumberCoder");const RA="strings/5.7.0",_g=new ae(RA);var Ma;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Ma||(Ma={}));var Vr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Vr||(Vr={}));function BA(t,e,r,n,i){return _g.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}a(BA,"errorFunc");function Ag(t,e,r,n,i){if(t===Vr.BAD_PREFIX||t===Vr.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Vr.OVERRUN?r.length-e-1:0}a(Ag,"ignoreFunc");function kA(t,e,r,n,i){return t===Vr.OVERLONG?(n.push(i),0):(n.push(65533),Ag(t,e,r))}a(kA,"replaceFunc");const PA=Object.freeze({error:BA,ignore:Ag,replace:kA});function Sg(t,e){e==null&&(e=PA.error),t=at(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Vr.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Vr.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Vr.OVERRUN,n-1,t,r);continue}let f=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let d=t[n];if((d&192)!=128){n+=e(Vr.MISSING_CONTINUE,n,t,r),f=null;break}f=f<<6|d&63,n++}if(f!==null){if(f>1114111){n+=e(Vr.OUT_OF_RANGE,n-1-s,t,r,f);continue}if(f>=55296&&f<=57343){n+=e(Vr.UTF16_SURROGATE,n-1-s,t,r,f);continue}if(f<=o){n+=e(Vr.OVERLONG,n-1-s,t,r,f);continue}r.push(f)}}return r}a(Sg,"getUtf8CodePoints");function Un(t,e=Ma.current){e!=Ma.current&&(_g.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return at(r)}a(Un,"toUtf8Bytes");function OA(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}a(OA,"_toUtf8String");function Ka(t,e){return OA(Sg(t,e))}a(Ka,"toUtf8String");function LA(t,e=Ma.current){return Sg(Un(t,e))}a(LA,"toUtf8CodePoints");class Cg extends e0{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Un(r))}decode(e){return Ka(super.decode(e))}}a(Cg,"StringCoder");class la extends Hn{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return pg(e,this.coders,r)}decode(e){return e.coerce(this.name,gg(e,this.coders))}}a(la,"TupleCoder");const eo=new ae(Va),UA=new RegExp(/^bytes([0-9]*)$/),DA=new RegExp(/^(u?int)([0-9]*)$/);class Tg{constructor(e){Ee(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new cg(e.name);case"bool":return new mg(e.name);case"string":return new Cg(e.name);case"bytes":return new yg(e.name);case"array":return new vg(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new la((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new bg(e.name)}let r=e.type.match(DA);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&eo.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Eg(n/8,r[1]==="int",e.name)}if(r=e.type.match(UA),r){let n=parseInt(r[1]);return(n===0||n>32)&&eo.throwArgumentError("invalid bytes length","param",e),new wg(n,e.name)}return eo.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Ia(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Go(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(ar.from(i)));return new la(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&eo.throwError("types/values length mismatch",ae.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(ar.from(o))),i=new la(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(ar.from(o)));return new la(i,"_").decode(this._getReader(at(r),n))}}a(Tg,"AbiCoder");const FA=new Tg;function as(t){return or(Un(t))}a(as,"id");const Ig="hash/5.7.0";function Mg(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return at(e)}a(Mg,"decode$3");function Ng(t){t=at(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}a(Ng,"encode$2");function Rg(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=a(function(s,o){n.call(s,function(f){o>0&&Array.isArray(f)?i(f,o-1):r.push(f)})},"flatDeep");return i(t,e),r}a(Rg,"flat");function qA(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}a(qA,"fromEntries");function VA(t){let e=0;function r(){return t[e++]<<8|t[e++]}a(r,"u16");let n=r(),i=1,s=[0,1];for(let K=1;K<n;K++)s.push(i+=r());let o=r(),f=e;e+=o;let l=0,d=0;function p(){return l==0&&(d=d<<8|t[e++],l=8),d>>--l&1}a(p,"read_bit");const x=31,T=Math.pow(2,x),R=T>>>1,N=R>>1,O=T-1;let B=0;for(let K=0;K<x;K++)B=B<<1|p();let k=[],L=0,D=T;for(;;){let K=Math.floor(((B-L+1)*i-1)/D),j=0,ie=n;for(;ie-j>1;){let P=j+ie>>>1;K<s[P]?ie=P:j=P}if(j==0)break;k.push(j);let J=L+Math.floor(D*s[j]/i),ue=L+Math.floor(D*s[j+1]/i)-1;for(;((J^ue)&R)==0;)B=B<<1&O|p(),J=J<<1&O,ue=ue<<1&O|1;for(;J&~ue&N;)B=B&R|B<<1&O>>>1|p(),J=J<<1^R,ue=(ue^R)<<1|R|1;L=J,D=1+ue-J}let H=n-4;return k.map(K=>{switch(K-H){case 3:return H+65792+(t[f++]<<16|t[f++]<<8|t[f++]);case 2:return H+256+(t[f++]<<8|t[f++]);case 1:return H+t[f++];default:return K-1}})}a(VA,"decode_arithmetic");function KA(t){let e=0;return()=>t[e++]}a(KA,"read_payload");function HA(t){return KA(VA(t))}a(HA,"read_compressed_payload");function GA(t){return t&1?~t>>1:t>>1}a(GA,"signed");function jA(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}a(jA,"read_counts");function tc(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}a(tc,"read_ascending");function zA(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=GA(e());return r}a(zA,"read_deltas");function jo(t,e){let r=tc(t(),t),n=t(),i=tc(n,t),s=jA(n,t);for(let o=0;o<n;o++)for(let f=0;f<s[o];f++)r.push(i[o]+f);return e?r.map(o=>e[o]):r}a(jo,"read_member_array");function $A(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(QA(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(YA(r,t))}return qA(Rg(e))}a($A,"read_mapped_map");function WA(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}a(WA,"read_zero_terminated_array");function Bg(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)zA(t,r).forEach((s,o)=>n[o].push(s));return n}a(Bg,"read_transposed");function QA(t,e){let r=1+e(),n=e(),i=WA(e),s=Bg(i.length,1+t,e);return Rg(s.map((o,f)=>{const l=o[0],d=o.slice(1);return Array(i[f]).fill(void 0).map((p,x)=>{let T=x*n;return[l+x*r,d.map(R=>R+T)]})}))}a(QA,"read_linear_table");function YA(t,e){let r=1+e();return Bg(r,1+t,e).map(i=>[i[0],i.slice(1)])}a(YA,"read_replacement_table");function JA(t){let e=jo(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let d=jo(t,e);if(d.length==0)break;n.push({set:new Set(d),node:r()})}n.sort((d,p)=>p.set.size-d.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let f=i==1,l=i==2;return{branches:n,valid:s,fe0f:o,save:f,check:l}}}a(JA,"read_emoji_trie");function XA(){return HA(Mg("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}a(XA,"getData");const Af=XA(),ZA=new Set(jo(Af)),eS=new Set(jo(Af)),tS=$A(Af),rS=JA(Af),rc=45,nc=95;function kg(t){return LA(t)}a(kg,"explode_cp");function nS(t){return t.filter(e=>e!=65039)}a(nS,"filter_fe0f");function Pg(t){for(let e of t.split(".")){let r=kg(e);try{for(let n=r.lastIndexOf(nc)-1;n>=0;n--)if(r[n]!==nc)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===rc&&r[3]===rc)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}a(Pg,"ens_normalize_post_check");function iS(t){return Pg(sS(t,nS))}a(iS,"ens_normalize");function sS(t,e){let r=kg(t).reverse(),n=[];for(;r.length;){let i=oS(r);if(i){n.push(...e(i));continue}let s=r.pop();if(ZA.has(s)){n.push(s);continue}if(eS.has(s))continue;let o=tS[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return Pg(aS(String.fromCodePoint(...n)))}a(sS,"normalize");function aS(t){return t.normalize("NFC")}a(aS,"nfc");function oS(t,e){var r;let n=rS,i,s,o=[],f=t.length;for(e&&(e.length=0);f;){let l=t[--f];if(n=(r=n.branches.find(d=>d.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;o.push(l),n.fe0f&&(o.push(65039),f>0&&t[f-1]==65039&&f--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(f).reverse()),t.length=f)}return i}a(oS,"consume_emoji_reversed");const fS=new ae(Ig),Og=new Uint8Array(32);Og.fill(0);function ic(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}a(ic,"checkComponent");function Lg(t){const e=Un(iS(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(ic(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(ic(e.slice(n))),r}a(Lg,"ensNameSplit");function mo(t){typeof t!="string"&&fS.throwArgumentError("invalid ENS name; not a string","name",t);let e=Og;const r=Lg(t);for(;r.length;)e=or(Hr([e,or(r.pop())]));return nt(e)}a(mo,"namehash");function uS(t){return nt(Hr(Lg(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}a(uS,"dnsEncode");var lS=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return a(i,"adopt"),new(r||(r=Promise))(function(s,o){function f(p){try{d(n.next(p))}catch(x){o(x)}}a(f,"fulfilled");function l(p){try{d(n.throw(p))}catch(x){o(x)}}a(l,"rejected");function d(p){p.done?s(p.value):i(p.value).then(f,l)}a(d,"step"),d((n=n.apply(t,e||[])).next())})};const Wt=new ae(Ig),Ug=new Uint8Array(32);Ug.fill(0);const hS=Ae.from(-1),Dg=Ae.from(0),Fg=Ae.from(1),cS=Ae.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function dS(t){const e=at(t),r=e.length%32;return r?Lr([e,Ug.slice(r)]):nt(e)}a(dS,"hexPadRight");const pS=zt(Fg.toHexString(),32),gS=zt(Dg.toHexString(),32),sc={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},tu=["name","version","chainId","verifyingContract","salt"];function ac(t){return function(e){return typeof e!="string"&&Wt.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}a(ac,"checkString");const vS={name:ac("name"),version:ac("version"),chainId:function(t){try{return Ae.from(t).toString()}catch{}return Wt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return pr(t).toLowerCase()}catch{}return Wt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=at(t);if(e.length!==32)throw new Error("bad length");return nt(e)}catch{}return Wt.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function ru(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Wt.throwArgumentError("invalid numeric width","type",t);const i=cS.mask(r?n-1:n),s=r?i.add(Fg).mul(hS):Dg;return function(o){const f=Ae.from(o);return(f.lt(s)||f.gt(i))&&Wt.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),zt(f.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Wt.throwArgumentError("invalid bytes width","type",t),function(n){return at(n).length!==r&&Wt.throwArgumentError(`invalid length for ${t}`,"value",n),dS(n)}}}switch(t){case"address":return function(e){return zt(pr(e),32)};case"bool":return function(e){return e?pS:gS};case"bytes":return function(e){return or(e)};case"string":return function(e){return as(e)}}return null}a(ru,"getBaseEncoder");function oc(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}a(oc,"encodeType");class Or{constructor(e){Ee(this,"types",Object.freeze(ii(e))),Ee(this,"_encoderCache",{}),Ee(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(f=>{r[f]={},n[f]=[],i[f]={}});for(const f in e){const l={};e[f].forEach(d=>{l[d.name]&&Wt.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(f)}`,"types",e),l[d.name]=!0;const p=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];p===f&&Wt.throwArgumentError(`circular type reference to ${JSON.stringify(p)}`,"types",e),!ru(p)&&(n[p]||Wt.throwArgumentError(`unknown type ${JSON.stringify(p)}`,"types",e),n[p].push(f),r[f][p]=!0)})}const s=Object.keys(n).filter(f=>n[f].length===0);s.length===0?Wt.throwArgumentError("missing primary type","types",e):s.length>1&&Wt.throwArgumentError(`ambiguous primary types or unused types: ${s.map(f=>JSON.stringify(f)).join(", ")}`,"types",e),Ee(this,"primaryType",s[0]);function o(f,l){l[f]&&Wt.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`,"types",e),l[f]=!0,Object.keys(r[f]).forEach(d=>{!n[d]||(o(d,l),Object.keys(l).forEach(p=>{i[p][d]=!0}))}),delete l[f]}a(o,"checkCircular"),o(this.primaryType,{});for(const f in i){const l=Object.keys(i[f]);l.sort(),this._types[f]=oc(f,e[f])+l.map(d=>oc(d,e[d])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=ru(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return f=>{o>=0&&f.length!==o&&Wt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",f);let l=f.map(s);return this._types[i]&&(l=l.map(or)),or(Lr(l))}}const n=this.types[e];if(n){const i=as(this._types[e]);return s=>{const o=n.map(({name:f,type:l})=>{const d=this.getEncoder(l)(s[f]);return this._types[l]?or(d):d});return o.unshift(i),Lr(o)}}return Wt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Wt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return or(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(ru(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],f=parseInt(i[3]);return f>=0&&r.length!==f&&Wt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(o,l,n))}const s=this.types[e];return s?s.reduce((o,{name:f,type:l})=>(o[f]=this._visit(l,r[f],n),o),{}):Wt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Or(e)}static getPrimaryType(e){return Or.from(e).primaryType}static hashStruct(e,r,n){return Or.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=sc[n];i||Wt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>tu.indexOf(n.name)-tu.indexOf(i.name)),Or.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Lr(["0x1901",Or.hashDomain(e),Or.from(r).hash(n)])}static hash(e,r,n){return or(Or.encode(e,r,n))}static resolveNames(e,r,n,i){return lS(this,void 0,void 0,function*(){e=fr(e);const s={};e.verifyingContract&&!Nt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Or.from(r);o.visit(n,(f,l)=>(f==="address"&&!Nt(l,20)&&(s[l]="0x"),l));for(const f in s)s[f]=yield i(f);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(f,l)=>f==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){Or.hashDomain(e);const i={},s=[];tu.forEach(l=>{const d=e[l];d!=null&&(i[l]=vS[l](d),s.push({name:l,type:sc[l]}))});const o=Or.from(r),f=fr(r);return f.EIP712Domain?Wt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):f.EIP712Domain=s,o.encode(n),{types:f,domain:i,primaryType:o.primaryType,message:o.visit(n,(l,d)=>{if(l.match(/^bytes(\d*)/))return nt(at(d));if(l.match(/^u?int/))return Ae.from(d).toString();switch(l){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return typeof d!="string"&&Wt.throwArgumentError("invalid string","value",d),d}return Wt.throwArgumentError("unsupported type","type",l)})}}}a(Or,"TypedDataEncoder");const $t=new ae(Va);class qg extends Vs{}a(qg,"LogDescription");class Vg extends Vs{}a(Vg,"TransactionDescription");class Kg extends Vs{}a(Kg,"ErrorDescription");class zo extends Vs{static isIndexed(e){return!!(e&&e._isIndexed)}}a(zo,"Indexed");const mS={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function fc(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}a(fc,"wrapAccessError");class zu{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,Ee(this,"fragments",r.map(n=>Bn.from(n)).filter(n=>n!=null)),Ee(this,"_abiCoder",Rn(new.target,"getAbiCoder")()),Ee(this,"functions",{}),Ee(this,"errors",{}),Ee(this,"events",{}),Ee(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){$t.warn("duplicate definition - constructor");return}Ee(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){$t.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||Ee(this,"deploy",dn.from({payable:!1,type:"constructor"})),Ee(this,"_isInterface",!0)}format(e){e||(e=Mt.full),e===Mt.sighash&&$t.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Mt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return FA}static getAddress(e){return pr(e)}static getSighash(e){return xr(as(e.format()),0,4)}static getEventTopic(e){return as(e.format())}getFunction(e){if(Nt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];$t.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?$t.throwArgumentError("no matching function","name",n):i.length>1&&$t.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[pn.fromString(e).format()];return r||$t.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Nt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];$t.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?$t.throwArgumentError("no matching event","name",n):i.length>1&&$t.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Mn.fromString(e).format()];return r||$t.throwArgumentError("no matching event","signature",e),r}getError(e){if(Nt(e)){const n=Rn(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}$t.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?$t.throwArgumentError("no matching error","name",n):i.length>1&&$t.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[pn.fromString(e).format()];return r||$t.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Rn(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Rn(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=at(r);return nt(n.slice(0,4))!==this.getSighash(e)&&$t.throwArgumentError(`data signature does not match error ${e.name}.`,"data",nt(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),nt(Hr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=at(r);return nt(n.slice(0,4))!==this.getSighash(e)&&$t.throwArgumentError(`data signature does not match function ${e.name}.`,"data",nt(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),nt(Hr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=at(r),i=null,s="",o=null,f=null,l=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const d=nt(n.slice(0,4)),p=mS[d];if(p)o=this._abiCoder.decode(p.inputs,n.slice(4)),f=p.name,l=p.signature,p.reason&&(i=o[0]),f==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:f==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const x=this.getError(d);o=this._abiCoder.decode(x.inputs,n.slice(4)),f=x.name,l=x.format()}catch{}break}}return $t.throwError("call revert exception"+s,ae.errors.CALL_EXCEPTION,{method:e.format(),data:nt(r),errorArgs:o,errorName:f,errorSignature:l,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),nt(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&$t.throwError("too many arguments for "+e.format(),ae.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=a((s,o)=>s.type==="string"?as(o):s.type==="bytes"?or(nt(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=Ae.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),zt(nt(o),32)),"encodeTopic");for(r.forEach((s,o)=>{let f=e.inputs[o];if(!f.indexed){s!=null&&$t.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+f.name,s);return}s==null?n.push(null):f.baseType==="array"||f.baseType==="tuple"?$t.throwArgumentError("filtering with tuples or arrays not supported","contract."+f.name,s):Array.isArray(s)?n.push(s.map(l=>i(f,l))):n.push(i(f,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&$t.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,f)=>{const l=r[f];if(o.indexed)if(o.type==="string")n.push(as(l));else if(o.type==="bytes")n.push(or(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let T=this.getEventTopic(e);(!Nt(n[0],32)||n[0].toLowerCase()!==T)&&$t.throwError("fragment/topic mismatch",ae.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:T,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((T,R)=>{T.indexed?T.type==="string"||T.type==="bytes"||T.baseType==="tuple"||T.baseType==="array"?(i.push(ar.fromObject({type:"bytes32",name:T.name})),o.push(!0)):(i.push(T),o.push(!1)):(s.push(T),o.push(!1))});let f=n!=null?this._abiCoder.decode(i,Hr(n)):null,l=this._abiCoder.decode(s,r,!0),d=[],p=0,x=0;e.inputs.forEach((T,R)=>{if(T.indexed)if(f==null)d[R]=new zo({_isIndexed:!0,hash:null});else if(o[R])d[R]=new zo({_isIndexed:!0,hash:f[x++]});else try{d[R]=f[x++]}catch(N){d[R]=N}else try{d[R]=l[p++]}catch(N){d[R]=N}if(T.name&&d[T.name]==null){const N=d[R];N instanceof Error?Object.defineProperty(d,T.name,{enumerable:!0,get:()=>{throw fc(`property ${JSON.stringify(T.name)}`,N)}}):d[T.name]=N}});for(let T=0;T<d.length;T++){const R=d[T];R instanceof Error&&Object.defineProperty(d,T,{enumerable:!0,get:()=>{throw fc(`index ${T}`,R)}})}return Object.freeze(d)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new Vg({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Ae.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new qg({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=nt(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Kg({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}a(zu,"Interface");const yS="abstract-provider/5.7.0";var wS=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return a(i,"adopt"),new(r||(r=Promise))(function(s,o){function f(p){try{d(n.next(p))}catch(x){o(x)}}a(f,"fulfilled");function l(p){try{d(n.throw(p))}catch(x){o(x)}}a(l,"rejected");function d(p){p.done?s(p.value):i(p.value).then(f,l)}a(d,"step"),d((n=n.apply(t,e||[])).next())})};const bS=new ae(yS);class Hg extends Vs{static isForkEvent(e){return!!(e&&e._isForkEvent)}}a(Hg,"ForkEvent");class Ha{constructor(){bS.checkAbstract(new.target,Ha),Ee(this,"_isProvider",!0)}getFeeData(){return wS(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield nr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Ae.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}a(Ha,"Provider");const xS="abstract-signer/5.7.0";var on=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return a(i,"adopt"),new(r||(r=Promise))(function(s,o){function f(p){try{d(n.next(p))}catch(x){o(x)}}a(f,"fulfilled");function l(p){try{d(n.throw(p))}catch(x){o(x)}}a(l,"rejected");function d(p){p.done?s(p.value):i(p.value).then(f,l)}a(d,"step"),d((n=n.apply(t,e||[])).next())})};const Qr=new ae(xS),ES=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],_S=[ae.errors.INSUFFICIENT_FUNDS,ae.errors.NONCE_EXPIRED,ae.errors.REPLACEMENT_UNDERPRICED];class Ks{constructor(){Qr.checkAbstract(new.target,Ks),Ee(this,"_isSigner",!0)}getBalance(e){return on(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return on(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return on(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield nr(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return on(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield nr(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return on(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return on(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return on(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return on(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return on(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)ES.indexOf(n)===-1&&Qr.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=fr(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Qr.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return on(this,void 0,void 0,function*(){const r=yield nr(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>on(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Qr.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Qr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Qr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Qr.throwError("network does not support EIP-1559",ae.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Qr.throwError("failed to get consistent fee data",ae.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(_S.indexOf(i.code)>=0)throw i;return Qr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ae.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Qr.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield nr(r)})}_checkProvider(e){this.provider||Qr.throwError("missing provider",ae.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}a(Ks,"Signer");class Sf extends Ks{constructor(e,r){super(),Ee(this,"address",e),Ee(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Qr.throwError(e,ae.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Sf(this.address,e)}}a(Sf,"VoidSigner");var Gg={exports:{}};(function(t){(function(e,r){function n(m,u){if(!m)throw new Error(u||"Assertion failed")}a(n,"assert");function i(m,u){m.super_=u;var c=a(function(){},"TempCtor");c.prototype=u.prototype,m.prototype=new c,m.prototype.constructor=m}a(i,"inherits");function s(m,u,c){if(s.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((u==="le"||u==="be")&&(c=u,u=10),this._init(m||0,u||10,c||"be"))}a(s,"BN"),typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Gr.Buffer}catch{}s.isBN=a(function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},"isBN"),s.max=a(function(u,c){return u.cmp(c)>0?u:c},"max"),s.min=a(function(u,c){return u.cmp(c)<0?u:c},"min"),s.prototype._init=a(function(u,c,v){if(typeof u=="number")return this._initNumber(u,c,v);if(typeof u=="object")return this._initArray(u,c,v);c==="hex"&&(c=16),n(c===(c|0)&&c>=2&&c<=36),u=u.toString().replace(/\s+/g,"");var y=0;u[0]==="-"&&(y++,this.negative=1),y<u.length&&(c===16?this._parseHex(u,y,v):(this._parseBase(u,c,y),v==="le"&&this._initArray(this.toArray(),c,v)))},"init"),s.prototype._initNumber=a(function(u,c,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),c,v)},"_initNumber"),s.prototype._initArray=a(function(u,c,v){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var E,g,_=0;if(v==="be")for(y=u.length-1,E=0;y>=0;y-=3)g=u[y]|u[y-1]<<8|u[y-2]<<16,this.words[E]|=g<<_&67108863,this.words[E+1]=g>>>26-_&67108863,_+=24,_>=26&&(_-=26,E++);else if(v==="le")for(y=0,E=0;y<u.length;y+=3)g=u[y]|u[y+1]<<8|u[y+2]<<16,this.words[E]|=g<<_&67108863,this.words[E+1]=g>>>26-_&67108863,_+=24,_>=26&&(_-=26,E++);return this._strip()},"_initArray");function f(m,u){var c=m.charCodeAt(u);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;n(!1,"Invalid character in "+m)}a(f,"parseHex4Bits");function l(m,u,c){var v=f(m,c);return c-1>=u&&(v|=f(m,c-1)<<4),v}a(l,"parseHexByte"),s.prototype._parseHex=a(function(u,c,v){this.length=Math.ceil((u.length-c)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var E=0,g=0,_;if(v==="be")for(y=u.length-1;y>=c;y-=2)_=l(u,c,y)<<E,this.words[g]|=_&67108863,E>=18?(E-=18,g+=1,this.words[g]|=_>>>26):E+=8;else{var w=u.length-c;for(y=w%2===0?c+1:c;y<u.length;y+=2)_=l(u,c,y)<<E,this.words[g]|=_&67108863,E>=18?(E-=18,g+=1,this.words[g]|=_>>>26):E+=8}this._strip()},"_parseHex");function d(m,u,c,v){for(var y=0,E=0,g=Math.min(m.length,c),_=u;_<g;_++){var w=m.charCodeAt(_)-48;y*=v,w>=49?E=w-49+10:w>=17?E=w-17+10:E=w,n(w>=0&&E<v,"Invalid character"),y+=E}return y}a(d,"parseBase"),s.prototype._parseBase=a(function(u,c,v){this.words=[0],this.length=1;for(var y=0,E=1;E<=67108863;E*=c)y++;y--,E=E/c|0;for(var g=u.length-v,_=g%y,w=Math.min(g,g-_)+v,h=0,A=v;A<w;A+=y)h=d(u,A,A+y,c),this.imuln(E),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(_!==0){var $=1;for(h=d(u,A,u.length,c),A=0;A<_;A++)$*=c;this.imuln($),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},"_parseBase"),s.prototype.copy=a(function(u){u.words=new Array(this.length);for(var c=0;c<this.length;c++)u.words[c]=this.words[c];u.length=this.length,u.negative=this.negative,u.red=this.red},"copy");function p(m,u){m.words=u.words,m.length=u.length,m.negative=u.negative,m.red=u.red}if(a(p,"move"),s.prototype._move=a(function(u){p(u,this)},"_move"),s.prototype.clone=a(function(){var u=new s(null);return this.copy(u),u},"clone"),s.prototype._expand=a(function(u){for(;this.length<u;)this.words[this.length++]=0;return this},"_expand"),s.prototype._strip=a(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),s.prototype._normSign=a(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{s.prototype.inspect=x}else s.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}a(x,"inspect");var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=a(function(u,c){u=u||10,c=c|0||1;var v;if(u===16||u==="hex"){v="";for(var y=0,E=0,g=0;g<this.length;g++){var _=this.words[g],w=((_<<y|E)&16777215).toString(16);E=_>>>24-y&16777215,y+=2,y>=26&&(y-=26,g--),E!==0||g!==this.length-1?v=T[6-w.length]+w+v:v=w+v}for(E!==0&&(v=E.toString(16)+v);v.length%c!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(u===(u|0)&&u>=2&&u<=36){var h=R[u],A=N[u];v="";var $=this.clone();for($.negative=0;!$.isZero();){var I=$.modrn(A).toString(u);$=$.idivn(A),$.isZero()?v=I+v:v=T[h-I.length]+I+v}for(this.isZero()&&(v="0"+v);v.length%c!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},"toString"),s.prototype.toNumber=a(function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},"toNumber"),s.prototype.toJSON=a(function(){return this.toString(16,2)},"toJSON"),o&&(s.prototype.toBuffer=a(function(u,c){return this.toArrayLike(o,u,c)},"toBuffer")),s.prototype.toArray=a(function(u,c){return this.toArrayLike(Array,u,c)},"toArray");var O=a(function(u,c){return u.allocUnsafe?u.allocUnsafe(c):new u(c)},"allocate");s.prototype.toArrayLike=a(function(u,c,v){this._strip();var y=this.byteLength(),E=v||Math.max(1,y);n(y<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var g=O(u,E),_=c==="le"?"LE":"BE";return this["_toArrayLike"+_](g,y),g},"toArrayLike"),s.prototype._toArrayLikeLE=a(function(u,c){for(var v=0,y=0,E=0,g=0;E<this.length;E++){var _=this.words[E]<<g|y;u[v++]=_&255,v<u.length&&(u[v++]=_>>8&255),v<u.length&&(u[v++]=_>>16&255),g===6?(v<u.length&&(u[v++]=_>>24&255),y=0,g=0):(y=_>>>24,g+=2)}if(v<u.length)for(u[v++]=y;v<u.length;)u[v++]=0},"_toArrayLikeLE"),s.prototype._toArrayLikeBE=a(function(u,c){for(var v=u.length-1,y=0,E=0,g=0;E<this.length;E++){var _=this.words[E]<<g|y;u[v--]=_&255,v>=0&&(u[v--]=_>>8&255),v>=0&&(u[v--]=_>>16&255),g===6?(v>=0&&(u[v--]=_>>24&255),y=0,g=0):(y=_>>>24,g+=2)}if(v>=0)for(u[v--]=y;v>=0;)u[v--]=0},"_toArrayLikeBE"),Math.clz32?s.prototype._countBits=a(function(u){return 32-Math.clz32(u)},"_countBits"):s.prototype._countBits=a(function(u){var c=u,v=0;return c>=4096&&(v+=13,c>>>=13),c>=64&&(v+=7,c>>>=7),c>=8&&(v+=4,c>>>=4),c>=2&&(v+=2,c>>>=2),v+c},"_countBits"),s.prototype._zeroBits=a(function(u){if(u===0)return 26;var c=u,v=0;return(c&8191)===0&&(v+=13,c>>>=13),(c&127)===0&&(v+=7,c>>>=7),(c&15)===0&&(v+=4,c>>>=4),(c&3)===0&&(v+=2,c>>>=2),(c&1)===0&&v++,v},"_zeroBits"),s.prototype.bitLength=a(function(){var u=this.words[this.length-1],c=this._countBits(u);return(this.length-1)*26+c},"bitLength");function B(m){for(var u=new Array(m.bitLength()),c=0;c<u.length;c++){var v=c/26|0,y=c%26;u[c]=m.words[v]>>>y&1}return u}a(B,"toBitArray"),s.prototype.zeroBits=a(function(){if(this.isZero())return 0;for(var u=0,c=0;c<this.length;c++){var v=this._zeroBits(this.words[c]);if(u+=v,v!==26)break}return u},"zeroBits"),s.prototype.byteLength=a(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),s.prototype.toTwos=a(function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},"toTwos"),s.prototype.fromTwos=a(function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},"fromTwos"),s.prototype.isNeg=a(function(){return this.negative!==0},"isNeg"),s.prototype.neg=a(function(){return this.clone().ineg()},"neg"),s.prototype.ineg=a(function(){return this.isZero()||(this.negative^=1),this},"ineg"),s.prototype.iuor=a(function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var c=0;c<u.length;c++)this.words[c]=this.words[c]|u.words[c];return this._strip()},"iuor"),s.prototype.ior=a(function(u){return n((this.negative|u.negative)===0),this.iuor(u)},"ior"),s.prototype.or=a(function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},"or"),s.prototype.uor=a(function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},"uor"),s.prototype.iuand=a(function(u){var c;this.length>u.length?c=u:c=this;for(var v=0;v<c.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=c.length,this._strip()},"iuand"),s.prototype.iand=a(function(u){return n((this.negative|u.negative)===0),this.iuand(u)},"iand"),s.prototype.and=a(function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},"and"),s.prototype.uand=a(function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},"uand"),s.prototype.iuxor=a(function(u){var c,v;this.length>u.length?(c=this,v=u):(c=u,v=this);for(var y=0;y<v.length;y++)this.words[y]=c.words[y]^v.words[y];if(this!==c)for(;y<c.length;y++)this.words[y]=c.words[y];return this.length=c.length,this._strip()},"iuxor"),s.prototype.ixor=a(function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},"ixor"),s.prototype.xor=a(function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},"xor"),s.prototype.uxor=a(function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},"uxor"),s.prototype.inotn=a(function(u){n(typeof u=="number"&&u>=0);var c=Math.ceil(u/26)|0,v=u%26;this._expand(c),v>0&&c--;for(var y=0;y<c;y++)this.words[y]=~this.words[y]&67108863;return v>0&&(this.words[y]=~this.words[y]&67108863>>26-v),this._strip()},"inotn"),s.prototype.notn=a(function(u){return this.clone().inotn(u)},"notn"),s.prototype.setn=a(function(u,c){n(typeof u=="number"&&u>=0);var v=u/26|0,y=u%26;return this._expand(v+1),c?this.words[v]=this.words[v]|1<<y:this.words[v]=this.words[v]&~(1<<y),this._strip()},"setn"),s.prototype.iadd=a(function(u){var c;if(this.negative!==0&&u.negative===0)return this.negative=0,c=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,c=this.isub(u),u.negative=1,c._normSign();var v,y;this.length>u.length?(v=this,y=u):(v=u,y=this);for(var E=0,g=0;g<y.length;g++)c=(v.words[g]|0)+(y.words[g]|0)+E,this.words[g]=c&67108863,E=c>>>26;for(;E!==0&&g<v.length;g++)c=(v.words[g]|0)+E,this.words[g]=c&67108863,E=c>>>26;if(this.length=v.length,E!==0)this.words[this.length]=E,this.length++;else if(v!==this)for(;g<v.length;g++)this.words[g]=v.words[g];return this},"iadd"),s.prototype.add=a(function(u){var c;return u.negative!==0&&this.negative===0?(u.negative=0,c=this.sub(u),u.negative^=1,c):u.negative===0&&this.negative!==0?(this.negative=0,c=u.sub(this),this.negative=1,c):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},"add"),s.prototype.isub=a(function(u){if(u.negative!==0){u.negative=0;var c=this.iadd(u);return u.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v=this.cmp(u);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,E;v>0?(y=this,E=u):(y=u,E=this);for(var g=0,_=0;_<E.length;_++)c=(y.words[_]|0)-(E.words[_]|0)+g,g=c>>26,this.words[_]=c&67108863;for(;g!==0&&_<y.length;_++)c=(y.words[_]|0)+g,g=c>>26,this.words[_]=c&67108863;if(g===0&&_<y.length&&y!==this)for(;_<y.length;_++)this.words[_]=y.words[_];return this.length=Math.max(this.length,_),y!==this&&(this.negative=1),this._strip()},"isub"),s.prototype.sub=a(function(u){return this.clone().isub(u)},"sub");function k(m,u,c){c.negative=u.negative^m.negative;var v=m.length+u.length|0;c.length=v,v=v-1|0;var y=m.words[0]|0,E=u.words[0]|0,g=y*E,_=g&67108863,w=g/67108864|0;c.words[0]=_;for(var h=1;h<v;h++){for(var A=w>>>26,$=w&67108863,I=Math.min(h,u.length-1),q=Math.max(0,h-m.length+1);q<=I;q++){var Z=h-q|0;y=m.words[Z]|0,E=u.words[q]|0,g=y*E+$,A+=g/67108864|0,$=g&67108863}c.words[h]=$|0,w=A|0}return w!==0?c.words[h]=w|0:c.length--,c._strip()}a(k,"smallMulTo");var L=a(function(u,c,v){var y=u.words,E=c.words,g=v.words,_=0,w,h,A,$=y[0]|0,I=$&8191,q=$>>>13,Z=y[1]|0,z=Z&8191,Q=Z>>>13,le=y[2]|0,te=le&8191,re=le>>>13,me=y[3]|0,oe=me&8191,ce=me>>>13,F=y[4]|0,C=F&8191,M=F>>>13,G=y[5]|0,W=G&8191,ne=G>>>13,de=y[6]|0,ve=de&8191,we=de>>>13,mt=y[7]|0,be=mt&8191,xe=mt>>>13,tr=y[8]|0,ke=tr&8191,Pe=tr>>>13,sr=y[9]|0,Oe=sr&8191,De=sr>>>13,wr=E[0]|0,Fe=wr&8191,qe=wr>>>13,ur=E[1]|0,Ce=ur&8191,Re=ur>>>13,wt=E[2]|0,Ge=wt&8191,je=wt>>>13,kt=E[3]|0,ze=kt&8191,$e=kt>>>13,Ar=E[4]|0,We=Ar&8191,Qe=Ar>>>13,Sr=E[5]|0,Ye=Sr&8191,Je=Sr>>>13,Cr=E[6]|0,Le=Cr&8191,Xe=Cr>>>13,Tr=E[7]|0,Ze=Tr&8191,et=Tr>>>13,Ir=E[8]|0,tt=Ir&8191,Ve=Ir>>>13,br=E[9]|0,it=br&8191,st=br>>>13;v.negative=u.negative^c.negative,v.length=19,w=Math.imul(I,Fe),h=Math.imul(I,qe),h=h+Math.imul(q,Fe)|0,A=Math.imul(q,qe);var V=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(V>>>26)|0,V&=67108863,w=Math.imul(z,Fe),h=Math.imul(z,qe),h=h+Math.imul(Q,Fe)|0,A=Math.imul(Q,qe),w=w+Math.imul(I,Ce)|0,h=h+Math.imul(I,Re)|0,h=h+Math.imul(q,Ce)|0,A=A+Math.imul(q,Re)|0;var X=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(X>>>26)|0,X&=67108863,w=Math.imul(te,Fe),h=Math.imul(te,qe),h=h+Math.imul(re,Fe)|0,A=Math.imul(re,qe),w=w+Math.imul(z,Ce)|0,h=h+Math.imul(z,Re)|0,h=h+Math.imul(Q,Ce)|0,A=A+Math.imul(Q,Re)|0,w=w+Math.imul(I,Ge)|0,h=h+Math.imul(I,je)|0,h=h+Math.imul(q,Ge)|0,A=A+Math.imul(q,je)|0;var se=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(se>>>26)|0,se&=67108863,w=Math.imul(oe,Fe),h=Math.imul(oe,qe),h=h+Math.imul(ce,Fe)|0,A=Math.imul(ce,qe),w=w+Math.imul(te,Ce)|0,h=h+Math.imul(te,Re)|0,h=h+Math.imul(re,Ce)|0,A=A+Math.imul(re,Re)|0,w=w+Math.imul(z,Ge)|0,h=h+Math.imul(z,je)|0,h=h+Math.imul(Q,Ge)|0,A=A+Math.imul(Q,je)|0,w=w+Math.imul(I,ze)|0,h=h+Math.imul(I,$e)|0,h=h+Math.imul(q,ze)|0,A=A+Math.imul(q,$e)|0;var pe=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(pe>>>26)|0,pe&=67108863,w=Math.imul(C,Fe),h=Math.imul(C,qe),h=h+Math.imul(M,Fe)|0,A=Math.imul(M,qe),w=w+Math.imul(oe,Ce)|0,h=h+Math.imul(oe,Re)|0,h=h+Math.imul(ce,Ce)|0,A=A+Math.imul(ce,Re)|0,w=w+Math.imul(te,Ge)|0,h=h+Math.imul(te,je)|0,h=h+Math.imul(re,Ge)|0,A=A+Math.imul(re,je)|0,w=w+Math.imul(z,ze)|0,h=h+Math.imul(z,$e)|0,h=h+Math.imul(Q,ze)|0,A=A+Math.imul(Q,$e)|0,w=w+Math.imul(I,We)|0,h=h+Math.imul(I,Qe)|0,h=h+Math.imul(q,We)|0,A=A+Math.imul(q,Qe)|0;var ye=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(ye>>>26)|0,ye&=67108863,w=Math.imul(W,Fe),h=Math.imul(W,qe),h=h+Math.imul(ne,Fe)|0,A=Math.imul(ne,qe),w=w+Math.imul(C,Ce)|0,h=h+Math.imul(C,Re)|0,h=h+Math.imul(M,Ce)|0,A=A+Math.imul(M,Re)|0,w=w+Math.imul(oe,Ge)|0,h=h+Math.imul(oe,je)|0,h=h+Math.imul(ce,Ge)|0,A=A+Math.imul(ce,je)|0,w=w+Math.imul(te,ze)|0,h=h+Math.imul(te,$e)|0,h=h+Math.imul(re,ze)|0,A=A+Math.imul(re,$e)|0,w=w+Math.imul(z,We)|0,h=h+Math.imul(z,Qe)|0,h=h+Math.imul(Q,We)|0,A=A+Math.imul(Q,Qe)|0,w=w+Math.imul(I,Ye)|0,h=h+Math.imul(I,Je)|0,h=h+Math.imul(q,Ye)|0,A=A+Math.imul(q,Je)|0;var Me=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Me>>>26)|0,Me&=67108863,w=Math.imul(ve,Fe),h=Math.imul(ve,qe),h=h+Math.imul(we,Fe)|0,A=Math.imul(we,qe),w=w+Math.imul(W,Ce)|0,h=h+Math.imul(W,Re)|0,h=h+Math.imul(ne,Ce)|0,A=A+Math.imul(ne,Re)|0,w=w+Math.imul(C,Ge)|0,h=h+Math.imul(C,je)|0,h=h+Math.imul(M,Ge)|0,A=A+Math.imul(M,je)|0,w=w+Math.imul(oe,ze)|0,h=h+Math.imul(oe,$e)|0,h=h+Math.imul(ce,ze)|0,A=A+Math.imul(ce,$e)|0,w=w+Math.imul(te,We)|0,h=h+Math.imul(te,Qe)|0,h=h+Math.imul(re,We)|0,A=A+Math.imul(re,Qe)|0,w=w+Math.imul(z,Ye)|0,h=h+Math.imul(z,Je)|0,h=h+Math.imul(Q,Ye)|0,A=A+Math.imul(Q,Je)|0,w=w+Math.imul(I,Le)|0,h=h+Math.imul(I,Xe)|0,h=h+Math.imul(q,Le)|0,A=A+Math.imul(q,Xe)|0;var Ue=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,w=Math.imul(be,Fe),h=Math.imul(be,qe),h=h+Math.imul(xe,Fe)|0,A=Math.imul(xe,qe),w=w+Math.imul(ve,Ce)|0,h=h+Math.imul(ve,Re)|0,h=h+Math.imul(we,Ce)|0,A=A+Math.imul(we,Re)|0,w=w+Math.imul(W,Ge)|0,h=h+Math.imul(W,je)|0,h=h+Math.imul(ne,Ge)|0,A=A+Math.imul(ne,je)|0,w=w+Math.imul(C,ze)|0,h=h+Math.imul(C,$e)|0,h=h+Math.imul(M,ze)|0,A=A+Math.imul(M,$e)|0,w=w+Math.imul(oe,We)|0,h=h+Math.imul(oe,Qe)|0,h=h+Math.imul(ce,We)|0,A=A+Math.imul(ce,Qe)|0,w=w+Math.imul(te,Ye)|0,h=h+Math.imul(te,Je)|0,h=h+Math.imul(re,Ye)|0,A=A+Math.imul(re,Je)|0,w=w+Math.imul(z,Le)|0,h=h+Math.imul(z,Xe)|0,h=h+Math.imul(Q,Le)|0,A=A+Math.imul(Q,Xe)|0,w=w+Math.imul(I,Ze)|0,h=h+Math.imul(I,et)|0,h=h+Math.imul(q,Ze)|0,A=A+Math.imul(q,et)|0;var lt=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(ke,Fe),h=Math.imul(ke,qe),h=h+Math.imul(Pe,Fe)|0,A=Math.imul(Pe,qe),w=w+Math.imul(be,Ce)|0,h=h+Math.imul(be,Re)|0,h=h+Math.imul(xe,Ce)|0,A=A+Math.imul(xe,Re)|0,w=w+Math.imul(ve,Ge)|0,h=h+Math.imul(ve,je)|0,h=h+Math.imul(we,Ge)|0,A=A+Math.imul(we,je)|0,w=w+Math.imul(W,ze)|0,h=h+Math.imul(W,$e)|0,h=h+Math.imul(ne,ze)|0,A=A+Math.imul(ne,$e)|0,w=w+Math.imul(C,We)|0,h=h+Math.imul(C,Qe)|0,h=h+Math.imul(M,We)|0,A=A+Math.imul(M,Qe)|0,w=w+Math.imul(oe,Ye)|0,h=h+Math.imul(oe,Je)|0,h=h+Math.imul(ce,Ye)|0,A=A+Math.imul(ce,Je)|0,w=w+Math.imul(te,Le)|0,h=h+Math.imul(te,Xe)|0,h=h+Math.imul(re,Le)|0,A=A+Math.imul(re,Xe)|0,w=w+Math.imul(z,Ze)|0,h=h+Math.imul(z,et)|0,h=h+Math.imul(Q,Ze)|0,A=A+Math.imul(Q,et)|0,w=w+Math.imul(I,tt)|0,h=h+Math.imul(I,Ve)|0,h=h+Math.imul(q,tt)|0,A=A+Math.imul(q,Ve)|0;var ut=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(Oe,Fe),h=Math.imul(Oe,qe),h=h+Math.imul(De,Fe)|0,A=Math.imul(De,qe),w=w+Math.imul(ke,Ce)|0,h=h+Math.imul(ke,Re)|0,h=h+Math.imul(Pe,Ce)|0,A=A+Math.imul(Pe,Re)|0,w=w+Math.imul(be,Ge)|0,h=h+Math.imul(be,je)|0,h=h+Math.imul(xe,Ge)|0,A=A+Math.imul(xe,je)|0,w=w+Math.imul(ve,ze)|0,h=h+Math.imul(ve,$e)|0,h=h+Math.imul(we,ze)|0,A=A+Math.imul(we,$e)|0,w=w+Math.imul(W,We)|0,h=h+Math.imul(W,Qe)|0,h=h+Math.imul(ne,We)|0,A=A+Math.imul(ne,Qe)|0,w=w+Math.imul(C,Ye)|0,h=h+Math.imul(C,Je)|0,h=h+Math.imul(M,Ye)|0,A=A+Math.imul(M,Je)|0,w=w+Math.imul(oe,Le)|0,h=h+Math.imul(oe,Xe)|0,h=h+Math.imul(ce,Le)|0,A=A+Math.imul(ce,Xe)|0,w=w+Math.imul(te,Ze)|0,h=h+Math.imul(te,et)|0,h=h+Math.imul(re,Ze)|0,A=A+Math.imul(re,et)|0,w=w+Math.imul(z,tt)|0,h=h+Math.imul(z,Ve)|0,h=h+Math.imul(Q,tt)|0,A=A+Math.imul(Q,Ve)|0,w=w+Math.imul(I,it)|0,h=h+Math.imul(I,st)|0,h=h+Math.imul(q,it)|0,A=A+Math.imul(q,st)|0;var Qt=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(Oe,Ce),h=Math.imul(Oe,Re),h=h+Math.imul(De,Ce)|0,A=Math.imul(De,Re),w=w+Math.imul(ke,Ge)|0,h=h+Math.imul(ke,je)|0,h=h+Math.imul(Pe,Ge)|0,A=A+Math.imul(Pe,je)|0,w=w+Math.imul(be,ze)|0,h=h+Math.imul(be,$e)|0,h=h+Math.imul(xe,ze)|0,A=A+Math.imul(xe,$e)|0,w=w+Math.imul(ve,We)|0,h=h+Math.imul(ve,Qe)|0,h=h+Math.imul(we,We)|0,A=A+Math.imul(we,Qe)|0,w=w+Math.imul(W,Ye)|0,h=h+Math.imul(W,Je)|0,h=h+Math.imul(ne,Ye)|0,A=A+Math.imul(ne,Je)|0,w=w+Math.imul(C,Le)|0,h=h+Math.imul(C,Xe)|0,h=h+Math.imul(M,Le)|0,A=A+Math.imul(M,Xe)|0,w=w+Math.imul(oe,Ze)|0,h=h+Math.imul(oe,et)|0,h=h+Math.imul(ce,Ze)|0,A=A+Math.imul(ce,et)|0,w=w+Math.imul(te,tt)|0,h=h+Math.imul(te,Ve)|0,h=h+Math.imul(re,tt)|0,A=A+Math.imul(re,Ve)|0,w=w+Math.imul(z,it)|0,h=h+Math.imul(z,st)|0,h=h+Math.imul(Q,it)|0,A=A+Math.imul(Q,st)|0;var Yt=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,w=Math.imul(Oe,Ge),h=Math.imul(Oe,je),h=h+Math.imul(De,Ge)|0,A=Math.imul(De,je),w=w+Math.imul(ke,ze)|0,h=h+Math.imul(ke,$e)|0,h=h+Math.imul(Pe,ze)|0,A=A+Math.imul(Pe,$e)|0,w=w+Math.imul(be,We)|0,h=h+Math.imul(be,Qe)|0,h=h+Math.imul(xe,We)|0,A=A+Math.imul(xe,Qe)|0,w=w+Math.imul(ve,Ye)|0,h=h+Math.imul(ve,Je)|0,h=h+Math.imul(we,Ye)|0,A=A+Math.imul(we,Je)|0,w=w+Math.imul(W,Le)|0,h=h+Math.imul(W,Xe)|0,h=h+Math.imul(ne,Le)|0,A=A+Math.imul(ne,Xe)|0,w=w+Math.imul(C,Ze)|0,h=h+Math.imul(C,et)|0,h=h+Math.imul(M,Ze)|0,A=A+Math.imul(M,et)|0,w=w+Math.imul(oe,tt)|0,h=h+Math.imul(oe,Ve)|0,h=h+Math.imul(ce,tt)|0,A=A+Math.imul(ce,Ve)|0,w=w+Math.imul(te,it)|0,h=h+Math.imul(te,st)|0,h=h+Math.imul(re,it)|0,A=A+Math.imul(re,st)|0;var Ht=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,w=Math.imul(Oe,ze),h=Math.imul(Oe,$e),h=h+Math.imul(De,ze)|0,A=Math.imul(De,$e),w=w+Math.imul(ke,We)|0,h=h+Math.imul(ke,Qe)|0,h=h+Math.imul(Pe,We)|0,A=A+Math.imul(Pe,Qe)|0,w=w+Math.imul(be,Ye)|0,h=h+Math.imul(be,Je)|0,h=h+Math.imul(xe,Ye)|0,A=A+Math.imul(xe,Je)|0,w=w+Math.imul(ve,Le)|0,h=h+Math.imul(ve,Xe)|0,h=h+Math.imul(we,Le)|0,A=A+Math.imul(we,Xe)|0,w=w+Math.imul(W,Ze)|0,h=h+Math.imul(W,et)|0,h=h+Math.imul(ne,Ze)|0,A=A+Math.imul(ne,et)|0,w=w+Math.imul(C,tt)|0,h=h+Math.imul(C,Ve)|0,h=h+Math.imul(M,tt)|0,A=A+Math.imul(M,Ve)|0,w=w+Math.imul(oe,it)|0,h=h+Math.imul(oe,st)|0,h=h+Math.imul(ce,it)|0,A=A+Math.imul(ce,st)|0;var Ft=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,w=Math.imul(Oe,We),h=Math.imul(Oe,Qe),h=h+Math.imul(De,We)|0,A=Math.imul(De,Qe),w=w+Math.imul(ke,Ye)|0,h=h+Math.imul(ke,Je)|0,h=h+Math.imul(Pe,Ye)|0,A=A+Math.imul(Pe,Je)|0,w=w+Math.imul(be,Le)|0,h=h+Math.imul(be,Xe)|0,h=h+Math.imul(xe,Le)|0,A=A+Math.imul(xe,Xe)|0,w=w+Math.imul(ve,Ze)|0,h=h+Math.imul(ve,et)|0,h=h+Math.imul(we,Ze)|0,A=A+Math.imul(we,et)|0,w=w+Math.imul(W,tt)|0,h=h+Math.imul(W,Ve)|0,h=h+Math.imul(ne,tt)|0,A=A+Math.imul(ne,Ve)|0,w=w+Math.imul(C,it)|0,h=h+Math.imul(C,st)|0,h=h+Math.imul(M,it)|0,A=A+Math.imul(M,st)|0;var rr=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(rr>>>26)|0,rr&=67108863,w=Math.imul(Oe,Ye),h=Math.imul(Oe,Je),h=h+Math.imul(De,Ye)|0,A=Math.imul(De,Je),w=w+Math.imul(ke,Le)|0,h=h+Math.imul(ke,Xe)|0,h=h+Math.imul(Pe,Le)|0,A=A+Math.imul(Pe,Xe)|0,w=w+Math.imul(be,Ze)|0,h=h+Math.imul(be,et)|0,h=h+Math.imul(xe,Ze)|0,A=A+Math.imul(xe,et)|0,w=w+Math.imul(ve,tt)|0,h=h+Math.imul(ve,Ve)|0,h=h+Math.imul(we,tt)|0,A=A+Math.imul(we,Ve)|0,w=w+Math.imul(W,it)|0,h=h+Math.imul(W,st)|0,h=h+Math.imul(ne,it)|0,A=A+Math.imul(ne,st)|0;var sn=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(sn>>>26)|0,sn&=67108863,w=Math.imul(Oe,Le),h=Math.imul(Oe,Xe),h=h+Math.imul(De,Le)|0,A=Math.imul(De,Xe),w=w+Math.imul(ke,Ze)|0,h=h+Math.imul(ke,et)|0,h=h+Math.imul(Pe,Ze)|0,A=A+Math.imul(Pe,et)|0,w=w+Math.imul(be,tt)|0,h=h+Math.imul(be,Ve)|0,h=h+Math.imul(xe,tt)|0,A=A+Math.imul(xe,Ve)|0,w=w+Math.imul(ve,it)|0,h=h+Math.imul(ve,st)|0,h=h+Math.imul(we,it)|0,A=A+Math.imul(we,st)|0;var an=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(an>>>26)|0,an&=67108863,w=Math.imul(Oe,Ze),h=Math.imul(Oe,et),h=h+Math.imul(De,Ze)|0,A=Math.imul(De,et),w=w+Math.imul(ke,tt)|0,h=h+Math.imul(ke,Ve)|0,h=h+Math.imul(Pe,tt)|0,A=A+Math.imul(Pe,Ve)|0,w=w+Math.imul(be,it)|0,h=h+Math.imul(be,st)|0,h=h+Math.imul(xe,it)|0,A=A+Math.imul(xe,st)|0;var Ci=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,w=Math.imul(Oe,tt),h=Math.imul(Oe,Ve),h=h+Math.imul(De,tt)|0,A=Math.imul(De,Ve),w=w+Math.imul(ke,it)|0,h=h+Math.imul(ke,st)|0,h=h+Math.imul(Pe,it)|0,A=A+Math.imul(Pe,st)|0;var Ti=(_+w|0)+((h&8191)<<13)|0;_=(A+(h>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,w=Math.imul(Oe,it),h=Math.imul(Oe,st),h=h+Math.imul(De,it)|0,A=Math.imul(De,st);var Ii=(_+w|0)+((h&8191)<<13)|0;return _=(A+(h>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,g[0]=V,g[1]=X,g[2]=se,g[3]=pe,g[4]=ye,g[5]=Me,g[6]=Ue,g[7]=lt,g[8]=ut,g[9]=Qt,g[10]=Yt,g[11]=Ht,g[12]=Ft,g[13]=rr,g[14]=sn,g[15]=an,g[16]=Ci,g[17]=Ti,g[18]=Ii,_!==0&&(g[19]=_,v.length++),v},"comb10MulTo");Math.imul||(L=k);function D(m,u,c){c.negative=u.negative^m.negative,c.length=m.length+u.length;for(var v=0,y=0,E=0;E<c.length-1;E++){var g=y;y=0;for(var _=v&67108863,w=Math.min(E,u.length-1),h=Math.max(0,E-m.length+1);h<=w;h++){var A=E-h,$=m.words[A]|0,I=u.words[h]|0,q=$*I,Z=q&67108863;g=g+(q/67108864|0)|0,Z=Z+_|0,_=Z&67108863,g=g+(Z>>>26)|0,y+=g>>>26,g&=67108863}c.words[E]=_,v=g,g=y}return v!==0?c.words[E]=v:c.length--,c._strip()}a(D,"bigMulTo");function H(m,u,c){return D(m,u,c)}a(H,"jumboMulTo"),s.prototype.mulTo=a(function(u,c){var v,y=this.length+u.length;return this.length===10&&u.length===10?v=L(this,u,c):y<63?v=k(this,u,c):y<1024?v=D(this,u,c):v=H(this,u,c),v},"mulTo"),s.prototype.mul=a(function(u){var c=new s(null);return c.words=new Array(this.length+u.length),this.mulTo(u,c)},"mul"),s.prototype.mulf=a(function(u){var c=new s(null);return c.words=new Array(this.length+u.length),H(this,u,c)},"mulf"),s.prototype.imul=a(function(u){return this.clone().mulTo(u,this)},"imul"),s.prototype.imuln=a(function(u){var c=u<0;c&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var v=0,y=0;y<this.length;y++){var E=(this.words[y]|0)*u,g=(E&67108863)+(v&67108863);v>>=26,v+=E/67108864|0,v+=g>>>26,this.words[y]=g&67108863}return v!==0&&(this.words[y]=v,this.length++),c?this.ineg():this},"imuln"),s.prototype.muln=a(function(u){return this.clone().imuln(u)},"muln"),s.prototype.sqr=a(function(){return this.mul(this)},"sqr"),s.prototype.isqr=a(function(){return this.imul(this.clone())},"isqr"),s.prototype.pow=a(function(u){var c=B(u);if(c.length===0)return new s(1);for(var v=this,y=0;y<c.length&&c[y]===0;y++,v=v.sqr());if(++y<c.length)for(var E=v.sqr();y<c.length;y++,E=E.sqr())c[y]!==0&&(v=v.mul(E));return v},"pow"),s.prototype.iushln=a(function(u){n(typeof u=="number"&&u>=0);var c=u%26,v=(u-c)/26,y=67108863>>>26-c<<26-c,E;if(c!==0){var g=0;for(E=0;E<this.length;E++){var _=this.words[E]&y,w=(this.words[E]|0)-_<<c;this.words[E]=w|g,g=_>>>26-c}g&&(this.words[E]=g,this.length++)}if(v!==0){for(E=this.length-1;E>=0;E--)this.words[E+v]=this.words[E];for(E=0;E<v;E++)this.words[E]=0;this.length+=v}return this._strip()},"iushln"),s.prototype.ishln=a(function(u){return n(this.negative===0),this.iushln(u)},"ishln"),s.prototype.iushrn=a(function(u,c,v){n(typeof u=="number"&&u>=0);var y;c?y=(c-c%26)/26:y=0;var E=u%26,g=Math.min((u-E)/26,this.length),_=67108863^67108863>>>E<<E,w=v;if(y-=g,y=Math.max(0,y),w){for(var h=0;h<g;h++)w.words[h]=this.words[h];w.length=g}if(g!==0)if(this.length>g)for(this.length-=g,h=0;h<this.length;h++)this.words[h]=this.words[h+g];else this.words[0]=0,this.length=1;var A=0;for(h=this.length-1;h>=0&&(A!==0||h>=y);h--){var $=this.words[h]|0;this.words[h]=A<<26-E|$>>>E,A=$&_}return w&&A!==0&&(w.words[w.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},"iushrn"),s.prototype.ishrn=a(function(u,c,v){return n(this.negative===0),this.iushrn(u,c,v)},"ishrn"),s.prototype.shln=a(function(u){return this.clone().ishln(u)},"shln"),s.prototype.ushln=a(function(u){return this.clone().iushln(u)},"ushln"),s.prototype.shrn=a(function(u){return this.clone().ishrn(u)},"shrn"),s.prototype.ushrn=a(function(u){return this.clone().iushrn(u)},"ushrn"),s.prototype.testn=a(function(u){n(typeof u=="number"&&u>=0);var c=u%26,v=(u-c)/26,y=1<<c;if(this.length<=v)return!1;var E=this.words[v];return!!(E&y)},"testn"),s.prototype.imaskn=a(function(u){n(typeof u=="number"&&u>=0);var c=u%26,v=(u-c)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(c!==0&&v++,this.length=Math.min(v,this.length),c!==0){var y=67108863^67108863>>>c<<c;this.words[this.length-1]&=y}return this._strip()},"imaskn"),s.prototype.maskn=a(function(u){return this.clone().imaskn(u)},"maskn"),s.prototype.iaddn=a(function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},"iaddn"),s.prototype._iaddn=a(function(u){this.words[0]+=u;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},"_iaddn"),s.prototype.isubn=a(function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},"isubn"),s.prototype.addn=a(function(u){return this.clone().iaddn(u)},"addn"),s.prototype.subn=a(function(u){return this.clone().isubn(u)},"subn"),s.prototype.iabs=a(function(){return this.negative=0,this},"iabs"),s.prototype.abs=a(function(){return this.clone().iabs()},"abs"),s.prototype._ishlnsubmul=a(function(u,c,v){var y=u.length+v,E;this._expand(y);var g,_=0;for(E=0;E<u.length;E++){g=(this.words[E+v]|0)+_;var w=(u.words[E]|0)*c;g-=w&67108863,_=(g>>26)-(w/67108864|0),this.words[E+v]=g&67108863}for(;E<this.length-v;E++)g=(this.words[E+v]|0)+_,_=g>>26,this.words[E+v]=g&67108863;if(_===0)return this._strip();for(n(_===-1),_=0,E=0;E<this.length;E++)g=-(this.words[E]|0)+_,_=g>>26,this.words[E]=g&67108863;return this.negative=1,this._strip()},"_ishlnsubmul"),s.prototype._wordDiv=a(function(u,c){var v=this.length-u.length,y=this.clone(),E=u,g=E.words[E.length-1]|0,_=this._countBits(g);v=26-_,v!==0&&(E=E.ushln(v),y.iushln(v),g=E.words[E.length-1]|0);var w=y.length-E.length,h;if(c!=="mod"){h=new s(null),h.length=w+1,h.words=new Array(h.length);for(var A=0;A<h.length;A++)h.words[A]=0}var $=y.clone()._ishlnsubmul(E,1,w);$.negative===0&&(y=$,h&&(h.words[w]=1));for(var I=w-1;I>=0;I--){var q=(y.words[E.length+I]|0)*67108864+(y.words[E.length+I-1]|0);for(q=Math.min(q/g|0,67108863),y._ishlnsubmul(E,q,I);y.negative!==0;)q--,y.negative=0,y._ishlnsubmul(E,1,I),y.isZero()||(y.negative^=1);h&&(h.words[I]=q)}return h&&h._strip(),y._strip(),c!=="div"&&v!==0&&y.iushrn(v),{div:h||null,mod:y}},"_wordDiv"),s.prototype.divmod=a(function(u,c,v){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,E,g;return this.negative!==0&&u.negative===0?(g=this.neg().divmod(u,c),c!=="mod"&&(y=g.div.neg()),c!=="div"&&(E=g.mod.neg(),v&&E.negative!==0&&E.iadd(u)),{div:y,mod:E}):this.negative===0&&u.negative!==0?(g=this.divmod(u.neg(),c),c!=="mod"&&(y=g.div.neg()),{div:y,mod:g.mod}):(this.negative&u.negative)!==0?(g=this.neg().divmod(u.neg(),c),c!=="div"&&(E=g.mod.neg(),v&&E.negative!==0&&E.isub(u)),{div:g.div,mod:E}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?c==="div"?{div:this.divn(u.words[0]),mod:null}:c==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,c)},"divmod"),s.prototype.div=a(function(u){return this.divmod(u,"div",!1).div},"div"),s.prototype.mod=a(function(u){return this.divmod(u,"mod",!1).mod},"mod"),s.prototype.umod=a(function(u){return this.divmod(u,"mod",!0).mod},"umod"),s.prototype.divRound=a(function(u){var c=this.divmod(u);if(c.mod.isZero())return c.div;var v=c.div.negative!==0?c.mod.isub(u):c.mod,y=u.ushrn(1),E=u.andln(1),g=v.cmp(y);return g<0||E===1&&g===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},"divRound"),s.prototype.modrn=a(function(u){var c=u<0;c&&(u=-u),n(u<=67108863);for(var v=(1<<26)%u,y=0,E=this.length-1;E>=0;E--)y=(v*y+(this.words[E]|0))%u;return c?-y:y},"modrn"),s.prototype.modn=a(function(u){return this.modrn(u)},"modn"),s.prototype.idivn=a(function(u){var c=u<0;c&&(u=-u),n(u<=67108863);for(var v=0,y=this.length-1;y>=0;y--){var E=(this.words[y]|0)+v*67108864;this.words[y]=E/u|0,v=E%u}return this._strip(),c?this.ineg():this},"idivn"),s.prototype.divn=a(function(u){return this.clone().idivn(u)},"divn"),s.prototype.egcd=a(function(u){n(u.negative===0),n(!u.isZero());var c=this,v=u.clone();c.negative!==0?c=c.umod(u):c=c.clone();for(var y=new s(1),E=new s(0),g=new s(0),_=new s(1),w=0;c.isEven()&&v.isEven();)c.iushrn(1),v.iushrn(1),++w;for(var h=v.clone(),A=c.clone();!c.isZero();){for(var $=0,I=1;(c.words[0]&I)===0&&$<26;++$,I<<=1);if($>0)for(c.iushrn($);$-- >0;)(y.isOdd()||E.isOdd())&&(y.iadd(h),E.isub(A)),y.iushrn(1),E.iushrn(1);for(var q=0,Z=1;(v.words[0]&Z)===0&&q<26;++q,Z<<=1);if(q>0)for(v.iushrn(q);q-- >0;)(g.isOdd()||_.isOdd())&&(g.iadd(h),_.isub(A)),g.iushrn(1),_.iushrn(1);c.cmp(v)>=0?(c.isub(v),y.isub(g),E.isub(_)):(v.isub(c),g.isub(y),_.isub(E))}return{a:g,b:_,gcd:v.iushln(w)}},"egcd"),s.prototype._invmp=a(function(u){n(u.negative===0),n(!u.isZero());var c=this,v=u.clone();c.negative!==0?c=c.umod(u):c=c.clone();for(var y=new s(1),E=new s(0),g=v.clone();c.cmpn(1)>0&&v.cmpn(1)>0;){for(var _=0,w=1;(c.words[0]&w)===0&&_<26;++_,w<<=1);if(_>0)for(c.iushrn(_);_-- >0;)y.isOdd()&&y.iadd(g),y.iushrn(1);for(var h=0,A=1;(v.words[0]&A)===0&&h<26;++h,A<<=1);if(h>0)for(v.iushrn(h);h-- >0;)E.isOdd()&&E.iadd(g),E.iushrn(1);c.cmp(v)>=0?(c.isub(v),y.isub(E)):(v.isub(c),E.isub(y))}var $;return c.cmpn(1)===0?$=y:$=E,$.cmpn(0)<0&&$.iadd(u),$},"_invmp"),s.prototype.gcd=a(function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var c=this.clone(),v=u.clone();c.negative=0,v.negative=0;for(var y=0;c.isEven()&&v.isEven();y++)c.iushrn(1),v.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;v.isEven();)v.iushrn(1);var E=c.cmp(v);if(E<0){var g=c;c=v,v=g}else if(E===0||v.cmpn(1)===0)break;c.isub(v)}while(!0);return v.iushln(y)},"gcd"),s.prototype.invm=a(function(u){return this.egcd(u).a.umod(u)},"invm"),s.prototype.isEven=a(function(){return(this.words[0]&1)===0},"isEven"),s.prototype.isOdd=a(function(){return(this.words[0]&1)===1},"isOdd"),s.prototype.andln=a(function(u){return this.words[0]&u},"andln"),s.prototype.bincn=a(function(u){n(typeof u=="number");var c=u%26,v=(u-c)/26,y=1<<c;if(this.length<=v)return this._expand(v+1),this.words[v]|=y,this;for(var E=y,g=v;E!==0&&g<this.length;g++){var _=this.words[g]|0;_+=E,E=_>>>26,_&=67108863,this.words[g]=_}return E!==0&&(this.words[g]=E,this.length++),this},"bincn"),s.prototype.isZero=a(function(){return this.length===1&&this.words[0]===0},"isZero"),s.prototype.cmpn=a(function(u){var c=u<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var v;if(this.length>1)v=1;else{c&&(u=-u),n(u<=67108863,"Number is too big");var y=this.words[0]|0;v=y===u?0:y<u?-1:1}return this.negative!==0?-v|0:v},"cmpn"),s.prototype.cmp=a(function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var c=this.ucmp(u);return this.negative!==0?-c|0:c},"cmp"),s.prototype.ucmp=a(function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var c=0,v=this.length-1;v>=0;v--){var y=this.words[v]|0,E=u.words[v]|0;if(y!==E){y<E?c=-1:y>E&&(c=1);break}}return c},"ucmp"),s.prototype.gtn=a(function(u){return this.cmpn(u)===1},"gtn"),s.prototype.gt=a(function(u){return this.cmp(u)===1},"gt"),s.prototype.gten=a(function(u){return this.cmpn(u)>=0},"gten"),s.prototype.gte=a(function(u){return this.cmp(u)>=0},"gte"),s.prototype.ltn=a(function(u){return this.cmpn(u)===-1},"ltn"),s.prototype.lt=a(function(u){return this.cmp(u)===-1},"lt"),s.prototype.lten=a(function(u){return this.cmpn(u)<=0},"lten"),s.prototype.lte=a(function(u){return this.cmp(u)<=0},"lte"),s.prototype.eqn=a(function(u){return this.cmpn(u)===0},"eqn"),s.prototype.eq=a(function(u){return this.cmp(u)===0},"eq"),s.red=a(function(u){return new b(u)},"red"),s.prototype.toRed=a(function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},"toRed"),s.prototype.fromRed=a(function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),s.prototype._forceRed=a(function(u){return this.red=u,this},"_forceRed"),s.prototype.forceRed=a(function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},"forceRed"),s.prototype.redAdd=a(function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},"redAdd"),s.prototype.redIAdd=a(function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},"redIAdd"),s.prototype.redSub=a(function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},"redSub"),s.prototype.redISub=a(function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},"redISub"),s.prototype.redShl=a(function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},"redShl"),s.prototype.redMul=a(function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},"redMul"),s.prototype.redIMul=a(function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},"redIMul"),s.prototype.redSqr=a(function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),s.prototype.redISqr=a(function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),s.prototype.redSqrt=a(function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),s.prototype.redInvm=a(function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),s.prototype.redNeg=a(function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),s.prototype.redPow=a(function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)},"redPow");var K={k256:null,p224:null,p192:null,p25519:null};function j(m,u){this.name=m,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(j,"MPrime"),j.prototype._tmp=a(function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},"_tmp"),j.prototype.ireduce=a(function(u){var c=u,v;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),v=c.bitLength();while(v>this.n);var y=v<this.n?-1:c.ucmp(this.p);return y===0?(c.words[0]=0,c.length=1):y>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},"ireduce"),j.prototype.split=a(function(u,c){u.iushrn(this.n,0,c)},"split"),j.prototype.imulK=a(function(u){return u.imul(this.k)},"imulK");function ie(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(ie,"K256"),i(ie,j),ie.prototype.split=a(function(u,c){for(var v=4194303,y=Math.min(u.length,9),E=0;E<y;E++)c.words[E]=u.words[E];if(c.length=y,u.length<=9){u.words[0]=0,u.length=1;return}var g=u.words[9];for(c.words[c.length++]=g&v,E=10;E<u.length;E++){var _=u.words[E]|0;u.words[E-10]=(_&v)<<4|g>>>22,g=_}g>>>=22,u.words[E-10]=g,g===0&&u.length>10?u.length-=10:u.length-=9},"split"),ie.prototype.imulK=a(function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var c=0,v=0;v<u.length;v++){var y=u.words[v]|0;c+=y*977,u.words[v]=c&67108863,c=y*64+(c/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u},"imulK");function J(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(J,"P224"),i(J,j);function ue(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(ue,"P192"),i(ue,j);function P(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(P,"P25519"),i(P,j),P.prototype.imulK=a(function(u){for(var c=0,v=0;v<u.length;v++){var y=(u.words[v]|0)*19+c,E=y&67108863;y>>>=26,u.words[v]=E,c=y}return c!==0&&(u.words[u.length++]=c),u},"imulK"),s._prime=a(function(u){if(K[u])return K[u];var c;if(u==="k256")c=new ie;else if(u==="p224")c=new J;else if(u==="p192")c=new ue;else if(u==="p25519")c=new P;else throw new Error("Unknown prime "+u);return K[u]=c,c},"prime");function b(m){if(typeof m=="string"){var u=s._prime(m);this.m=u.p,this.prime=u}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}a(b,"Red"),b.prototype._verify1=a(function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},"_verify1"),b.prototype._verify2=a(function(u,c){n((u.negative|c.negative)===0,"red works only with positives"),n(u.red&&u.red===c.red,"red works only with red numbers")},"_verify2"),b.prototype.imod=a(function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(p(u,u.umod(this.m)._forceRed(this)),u)},"imod"),b.prototype.neg=a(function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},"neg"),b.prototype.add=a(function(u,c){this._verify2(u,c);var v=u.add(c);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},"add"),b.prototype.iadd=a(function(u,c){this._verify2(u,c);var v=u.iadd(c);return v.cmp(this.m)>=0&&v.isub(this.m),v},"iadd"),b.prototype.sub=a(function(u,c){this._verify2(u,c);var v=u.sub(c);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},"sub"),b.prototype.isub=a(function(u,c){this._verify2(u,c);var v=u.isub(c);return v.cmpn(0)<0&&v.iadd(this.m),v},"isub"),b.prototype.shl=a(function(u,c){return this._verify1(u),this.imod(u.ushln(c))},"shl"),b.prototype.imul=a(function(u,c){return this._verify2(u,c),this.imod(u.imul(c))},"imul"),b.prototype.mul=a(function(u,c){return this._verify2(u,c),this.imod(u.mul(c))},"mul"),b.prototype.isqr=a(function(u){return this.imul(u,u.clone())},"isqr"),b.prototype.sqr=a(function(u){return this.mul(u,u)},"sqr"),b.prototype.sqrt=a(function(u){if(u.isZero())return u.clone();var c=this.m.andln(3);if(n(c%2===1),c===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(u,v)}for(var y=this.m.subn(1),E=0;!y.isZero()&&y.andln(1)===0;)E++,y.iushrn(1);n(!y.isZero());var g=new s(1).toRed(this),_=g.redNeg(),w=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);this.pow(h,w).cmp(_)!==0;)h.redIAdd(_);for(var A=this.pow(h,y),$=this.pow(u,y.addn(1).iushrn(1)),I=this.pow(u,y),q=E;I.cmp(g)!==0;){for(var Z=I,z=0;Z.cmp(g)!==0;z++)Z=Z.redSqr();n(z<q);var Q=this.pow(A,new s(1).iushln(q-z-1));$=$.redMul(Q),A=Q.redSqr(),I=I.redMul(A),q=z}return $},"sqrt"),b.prototype.invm=a(function(u){var c=u._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},"invm"),b.prototype.pow=a(function(u,c){if(c.isZero())return new s(1).toRed(this);if(c.cmpn(1)===0)return u.clone();var v=4,y=new Array(1<<v);y[0]=new s(1).toRed(this),y[1]=u;for(var E=2;E<y.length;E++)y[E]=this.mul(y[E-1],u);var g=y[0],_=0,w=0,h=c.bitLength()%26;for(h===0&&(h=26),E=c.length-1;E>=0;E--){for(var A=c.words[E],$=h-1;$>=0;$--){var I=A>>$&1;if(g!==y[0]&&(g=this.sqr(g)),I===0&&_===0){w=0;continue}_<<=1,_|=I,w++,!(w!==v&&(E!==0||$!==0))&&(g=this.mul(g,y[_]),w=0,_=0)}h=26}return g},"pow"),b.prototype.convertTo=a(function(u){var c=u.umod(this.m);return c===u?c.clone():c},"convertTo"),b.prototype.convertFrom=a(function(u){var c=u.clone();return c.red=null,c},"convertFrom"),s.mont=a(function(u){return new S(u)},"mont");function S(m){b.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(S,"Mont"),i(S,b),S.prototype.convertTo=a(function(u){return this.imod(u.ushln(this.shift))},"convertTo"),S.prototype.convertFrom=a(function(u){var c=this.imod(u.mul(this.rinv));return c.red=null,c},"convertFrom"),S.prototype.imul=a(function(u,c){if(u.isZero()||c.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(c),y=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=v.isub(y).iushrn(this.shift),g=E;return E.cmp(this.m)>=0?g=E.isub(this.m):E.cmpn(0)<0&&(g=E.iadd(this.m)),g._forceRed(this)},"imul"),S.prototype.mul=a(function(u,c){if(u.isZero()||c.isZero())return new s(0)._forceRed(this);var v=u.mul(c),y=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=v.isub(y).iushrn(this.shift),g=E;return E.cmp(this.m)>=0?g=E.isub(this.m):E.cmpn(0)<0&&(g=E.iadd(this.m)),g._forceRed(this)},"mul"),S.prototype.invm=a(function(u){var c=this.imod(u._invmp(this.m).mul(this.r2));return c._forceRed(this)},"invm")})(t,Vt)})(Gg);const gt=Gg.exports;var jg={},St={},Ga=zg;function zg(t,e){if(!t)throw new Error(e||"Assertion failed")}a(zg,"assert$b");zg.equal=a(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual");var $u={exports:{}};typeof Object.create=="function"?$u.exports=a(function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):$u.exports=a(function(e,r){if(r){e.super_=r;var n=a(function(){},"TempCtor");n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}},"inherits");var AS=Ga,SS=$u.exports;St.inherits=SS;function CS(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}a(CS,"isSurrogatePair");function TS(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):CS(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}a(TS,"toArray");St.toArray=TS;function IS(t){for(var e="",r=0;r<t.length;r++)e+=Wg(t[r].toString(16));return e}a(IS,"toHex");St.toHex=IS;function $g(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}a($g,"htonl");St.htonl=$g;function MS(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=$g(i)),r+=Qg(i.toString(16))}return r}a(MS,"toHex32");St.toHex32=MS;function Wg(t){return t.length===1?"0"+t:t}a(Wg,"zero2");St.zero2=Wg;function Qg(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}a(Qg,"zero8");St.zero8=Qg;function NS(t,e,r,n){var i=r-e;AS(i%4===0);for(var s=new Array(i/4),o=0,f=e;o<s.length;o++,f+=4){var l;n==="big"?l=t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:l=t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],s[o]=l>>>0}return s}a(NS,"join32");St.join32=NS;function RS(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}a(RS,"split32");St.split32=RS;function BS(t,e){return t>>>e|t<<32-e}a(BS,"rotr32$1");St.rotr32=BS;function kS(t,e){return t<<e|t>>>32-e}a(kS,"rotl32$2");St.rotl32=kS;function PS(t,e){return t+e>>>0}a(PS,"sum32$3");St.sum32=PS;function OS(t,e,r){return t+e+r>>>0}a(OS,"sum32_3$1");St.sum32_3=OS;function LS(t,e,r,n){return t+e+r+n>>>0}a(LS,"sum32_4$2");St.sum32_4=LS;function US(t,e,r,n,i){return t+e+r+n+i>>>0}a(US,"sum32_5$2");St.sum32_5=US;function DS(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,f=(o<n?1:0)+r+i;t[e]=f>>>0,t[e+1]=o}a(DS,"sum64$1");St.sum64=DS;function FS(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}a(FS,"sum64_hi$1");St.sum64_hi=FS;function qS(t,e,r,n){var i=e+n;return i>>>0}a(qS,"sum64_lo$1");St.sum64_lo=qS;function VS(t,e,r,n,i,s,o,f){var l=0,d=e;d=d+n>>>0,l+=d<e?1:0,d=d+s>>>0,l+=d<s?1:0,d=d+f>>>0,l+=d<f?1:0;var p=t+r+i+o+l;return p>>>0}a(VS,"sum64_4_hi$1");St.sum64_4_hi=VS;function KS(t,e,r,n,i,s,o,f){var l=e+n+s+f;return l>>>0}a(KS,"sum64_4_lo$1");St.sum64_4_lo=KS;function HS(t,e,r,n,i,s,o,f,l,d){var p=0,x=e;x=x+n>>>0,p+=x<e?1:0,x=x+s>>>0,p+=x<s?1:0,x=x+f>>>0,p+=x<f?1:0,x=x+d>>>0,p+=x<d?1:0;var T=t+r+i+o+l+p;return T>>>0}a(HS,"sum64_5_hi$1");St.sum64_5_hi=HS;function GS(t,e,r,n,i,s,o,f,l,d){var p=e+n+s+f+d;return p>>>0}a(GS,"sum64_5_lo$1");St.sum64_5_lo=GS;function jS(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}a(jS,"rotr64_hi$1");St.rotr64_hi=jS;function zS(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}a(zS,"rotr64_lo$1");St.rotr64_lo=zS;function $S(t,e,r){return t>>>r}a($S,"shr64_hi$1");St.shr64_hi=$S;function WS(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}a(WS,"shr64_lo$1");St.shr64_lo=WS;var Hs={},uc=St,QS=Ga;function Cf(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}a(Cf,"BlockHash$4");Hs.BlockHash=Cf;Cf.prototype.update=a(function(e,r){if(e=uc.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=uc.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},"update");Cf.prototype.digest=a(function(e){return this.update(this._pad()),QS(this.pending===null),this._digest(e)},"digest");Cf.prototype._pad=a(function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i},"pad");var Gs={},Gn={},YS=St,Pn=YS.rotr32;function JS(t,e,r,n){if(t===0)return Yg(e,r,n);if(t===1||t===3)return Xg(e,r,n);if(t===2)return Jg(e,r,n)}a(JS,"ft_1$1");Gn.ft_1=JS;function Yg(t,e,r){return t&e^~t&r}a(Yg,"ch32$1");Gn.ch32=Yg;function Jg(t,e,r){return t&e^t&r^e&r}a(Jg,"maj32$1");Gn.maj32=Jg;function Xg(t,e,r){return t^e^r}a(Xg,"p32");Gn.p32=Xg;function XS(t){return Pn(t,2)^Pn(t,13)^Pn(t,22)}a(XS,"s0_256$1");Gn.s0_256=XS;function ZS(t){return Pn(t,6)^Pn(t,11)^Pn(t,25)}a(ZS,"s1_256$1");Gn.s1_256=ZS;function eC(t){return Pn(t,7)^Pn(t,18)^t>>>3}a(eC,"g0_256$1");Gn.g0_256=eC;function tC(t){return Pn(t,17)^Pn(t,19)^t>>>10}a(tC,"g1_256$1");Gn.g1_256=tC;var Es=St,rC=Hs,nC=Gn,nu=Es.rotl32,ra=Es.sum32,iC=Es.sum32_5,sC=nC.ft_1,Zg=rC.BlockHash,aC=[1518500249,1859775393,2400959708,3395469782];function Dn(){if(!(this instanceof Dn))return new Dn;Zg.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a(Dn,"SHA1");Es.inherits(Dn,Zg);var oC=Dn;Dn.blockSize=512;Dn.outSize=160;Dn.hmacStrength=80;Dn.padLength=64;Dn.prototype._update=a(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=nu(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],f=this.h[2],l=this.h[3],d=this.h[4];for(i=0;i<n.length;i++){var p=~~(i/20),x=iC(nu(s,5),sC(p,o,f,l),d,n[i],aC[p]);d=l,l=f,f=nu(o,30),o=s,s=x}this.h[0]=ra(this.h[0],s),this.h[1]=ra(this.h[1],o),this.h[2]=ra(this.h[2],f),this.h[3]=ra(this.h[3],l),this.h[4]=ra(this.h[4],d)},"_update");Dn.prototype._digest=a(function(e){return e==="hex"?Es.toHex32(this.h,"big"):Es.split32(this.h,"big")},"digest");var _s=St,fC=Hs,js=Gn,uC=Ga,fn=_s.sum32,lC=_s.sum32_4,hC=_s.sum32_5,cC=js.ch32,dC=js.maj32,pC=js.s0_256,gC=js.s1_256,vC=js.g0_256,mC=js.g1_256,ev=fC.BlockHash,yC=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Fn(){if(!(this instanceof Fn))return new Fn;ev.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=yC,this.W=new Array(64)}a(Fn,"SHA256$1");_s.inherits(Fn,ev);var tv=Fn;Fn.blockSize=512;Fn.outSize=256;Fn.hmacStrength=192;Fn.padLength=64;Fn.prototype._update=a(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=lC(mC(n[i-2]),n[i-7],vC(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],f=this.h[2],l=this.h[3],d=this.h[4],p=this.h[5],x=this.h[6],T=this.h[7];for(uC(this.k.length===n.length),i=0;i<n.length;i++){var R=hC(T,gC(d),cC(d,p,x),this.k[i],n[i]),N=fn(pC(s),dC(s,o,f));T=x,x=p,p=d,d=fn(l,R),l=f,f=o,o=s,s=fn(R,N)}this.h[0]=fn(this.h[0],s),this.h[1]=fn(this.h[1],o),this.h[2]=fn(this.h[2],f),this.h[3]=fn(this.h[3],l),this.h[4]=fn(this.h[4],d),this.h[5]=fn(this.h[5],p),this.h[6]=fn(this.h[6],x),this.h[7]=fn(this.h[7],T)},"_update");Fn.prototype._digest=a(function(e){return e==="hex"?_s.toHex32(this.h,"big"):_s.split32(this.h,"big")},"digest");var Wu=St,rv=tv;function si(){if(!(this instanceof si))return new si;rv.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a(si,"SHA224");Wu.inherits(si,rv);var wC=si;si.blockSize=512;si.outSize=224;si.hmacStrength=192;si.padLength=64;si.prototype._digest=a(function(e){return e==="hex"?Wu.toHex32(this.h.slice(0,7),"big"):Wu.split32(this.h.slice(0,7),"big")},"digest");var qr=St,bC=Hs,xC=Ga,On=qr.rotr64_hi,Ln=qr.rotr64_lo,nv=qr.shr64_hi,iv=qr.shr64_lo,li=qr.sum64,iu=qr.sum64_hi,su=qr.sum64_lo,EC=qr.sum64_4_hi,_C=qr.sum64_4_lo,AC=qr.sum64_5_hi,SC=qr.sum64_5_lo,sv=bC.BlockHash,CC=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function yn(){if(!(this instanceof yn))return new yn;sv.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=CC,this.W=new Array(160)}a(yn,"SHA512$1");qr.inherits(yn,sv);var av=yn;yn.blockSize=1024;yn.outSize=512;yn.hmacStrength=192;yn.padLength=128;yn.prototype._prepareBlock=a(function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=UC(n[i-4],n[i-3]),o=DC(n[i-4],n[i-3]),f=n[i-14],l=n[i-13],d=OC(n[i-30],n[i-29]),p=LC(n[i-30],n[i-29]),x=n[i-32],T=n[i-31];n[i]=EC(s,o,f,l,d,p,x,T),n[i+1]=_C(s,o,f,l,d,p,x,T)}},"_prepareBlock");yn.prototype._update=a(function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],l=this.h[4],d=this.h[5],p=this.h[6],x=this.h[7],T=this.h[8],R=this.h[9],N=this.h[10],O=this.h[11],B=this.h[12],k=this.h[13],L=this.h[14],D=this.h[15];xC(this.k.length===n.length);for(var H=0;H<n.length;H+=2){var K=L,j=D,ie=kC(T,R),J=PC(T,R),ue=TC(T,R,N,O,B),P=IC(T,R,N,O,B,k),b=this.k[H],S=this.k[H+1],m=n[H],u=n[H+1],c=AC(K,j,ie,J,ue,P,b,S,m,u),v=SC(K,j,ie,J,ue,P,b,S,m,u);K=RC(i,s),j=BC(i,s),ie=MC(i,s,o,f,l),J=NC(i,s,o,f,l,d);var y=iu(K,j,ie,J),E=su(K,j,ie,J);L=B,D=k,B=N,k=O,N=T,O=R,T=iu(p,x,c,v),R=su(x,x,c,v),p=l,x=d,l=o,d=f,o=i,f=s,i=iu(c,v,y,E),s=su(c,v,y,E)}li(this.h,0,i,s),li(this.h,2,o,f),li(this.h,4,l,d),li(this.h,6,p,x),li(this.h,8,T,R),li(this.h,10,N,O),li(this.h,12,B,k),li(this.h,14,L,D)},"_update");yn.prototype._digest=a(function(e){return e==="hex"?qr.toHex32(this.h,"big"):qr.split32(this.h,"big")},"digest");function TC(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}a(TC,"ch64_hi");function IC(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}a(IC,"ch64_lo");function MC(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}a(MC,"maj64_hi");function NC(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}a(NC,"maj64_lo");function RC(t,e){var r=On(t,e,28),n=On(e,t,2),i=On(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(RC,"s0_512_hi");function BC(t,e){var r=Ln(t,e,28),n=Ln(e,t,2),i=Ln(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(BC,"s0_512_lo");function kC(t,e){var r=On(t,e,14),n=On(t,e,18),i=On(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}a(kC,"s1_512_hi");function PC(t,e){var r=Ln(t,e,14),n=Ln(t,e,18),i=Ln(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}a(PC,"s1_512_lo");function OC(t,e){var r=On(t,e,1),n=On(t,e,8),i=nv(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(OC,"g0_512_hi");function LC(t,e){var r=Ln(t,e,1),n=Ln(t,e,8),i=iv(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}a(LC,"g0_512_lo");function UC(t,e){var r=On(t,e,19),n=On(e,t,29),i=nv(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}a(UC,"g1_512_hi");function DC(t,e){var r=Ln(t,e,19),n=Ln(e,t,29),i=iv(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}a(DC,"g1_512_lo");var Qu=St,ov=av;function ai(){if(!(this instanceof ai))return new ai;ov.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a(ai,"SHA384");Qu.inherits(ai,ov);var FC=ai;ai.blockSize=1024;ai.outSize=384;ai.hmacStrength=192;ai.padLength=128;ai.prototype._digest=a(function(e){return e==="hex"?Qu.toHex32(this.h.slice(0,12),"big"):Qu.split32(this.h.slice(0,12),"big")},"digest");Gs.sha1=oC;Gs.sha224=wC;Gs.sha256=tv;Gs.sha384=FC;Gs.sha512=av;var fv={},Hi=St,qC=Hs,to=Hi.rotl32,lc=Hi.sum32,na=Hi.sum32_3,hc=Hi.sum32_4,uv=qC.BlockHash;function qn(){if(!(this instanceof qn))return new qn;uv.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}a(qn,"RIPEMD160");Hi.inherits(qn,uv);fv.ripemd160=qn;qn.blockSize=512;qn.outSize=160;qn.hmacStrength=192;qn.padLength=64;qn.prototype._update=a(function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],l=n,d=i,p=s,x=o,T=f,R=0;R<80;R++){var N=lc(to(hc(n,cc(R,i,s,o),e[HC[R]+r],VC(R)),jC[R]),f);n=f,f=o,o=to(s,10),s=i,i=N,N=lc(to(hc(l,cc(79-R,d,p,x),e[GC[R]+r],KC(R)),zC[R]),T),l=T,T=x,x=to(p,10),p=d,d=N}N=na(this.h[1],s,x),this.h[1]=na(this.h[2],o,T),this.h[2]=na(this.h[3],f,l),this.h[3]=na(this.h[4],n,d),this.h[4]=na(this.h[0],i,p),this.h[0]=N},"update");qn.prototype._digest=a(function(e){return e==="hex"?Hi.toHex32(this.h,"little"):Hi.split32(this.h,"little")},"digest");function cc(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}a(cc,"f$2");function VC(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}a(VC,"K$1");function KC(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}a(KC,"Kh");var HC=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],GC=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],jC=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],zC=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],$C=St,WC=Ga;function As(t,e,r){if(!(this instanceof As))return new As(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init($C.toArray(e,r))}a(As,"Hmac");var QC=As;As.prototype._init=a(function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),WC(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)},"init");As.prototype.update=a(function(e,r){return this.inner.update(e,r),this},"update");As.prototype.digest=a(function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},"digest");(function(t){var e=t;e.utils=St,e.common=Hs,e.sha=Gs,e.ripemd=fv,e.hmac=QC,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(jg);const xn=jg;function zs(t,e,r){return r={path:e,exports:{},require:function(n,i){return YC(n,i==null?r.path:i)}},t(r,r.exports),r.exports}a(zs,"createCommonjsModule");function YC(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}a(YC,"commonjsRequire");var t0=lv;function lv(t,e){if(!t)throw new Error(e||"Assertion failed")}a(lv,"assert");lv.equal=a(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual");var vn=zs(function(t,e){var r=e;function n(o,f){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var d=0;d<o.length;d++)l[d]=o[d]|0;return l}if(f==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var d=0;d<o.length;d+=2)l.push(parseInt(o[d]+o[d+1],16))}else for(var d=0;d<o.length;d++){var p=o.charCodeAt(d),x=p>>8,T=p&255;x?l.push(x,T):l.push(T)}return l}a(n,"toArray"),r.toArray=n;function i(o){return o.length===1?"0"+o:o}a(i,"zero2"),r.zero2=i;function s(o){for(var f="",l=0;l<o.length;l++)f+=i(o[l].toString(16));return f}a(s,"toHex"),r.toHex=s,r.encode=a(function(f,l){return l==="hex"?s(f):f},"encode")}),jr=zs(function(t,e){var r=e;r.assert=t0,r.toArray=vn.toArray,r.zero2=vn.zero2,r.toHex=vn.toHex,r.encode=vn.encode;function n(l,d,p){var x=new Array(Math.max(l.bitLength(),p)+1);x.fill(0);for(var T=1<<d+1,R=l.clone(),N=0;N<x.length;N++){var O,B=R.andln(T-1);R.isOdd()?(B>(T>>1)-1?O=(T>>1)-B:O=B,R.isubn(O)):O=0,x[N]=O,R.iushrn(1)}return x}a(n,"getNAF"),r.getNAF=n;function i(l,d){var p=[[],[]];l=l.clone(),d=d.clone();for(var x=0,T=0,R;l.cmpn(-x)>0||d.cmpn(-T)>0;){var N=l.andln(3)+x&3,O=d.andln(3)+T&3;N===3&&(N=-1),O===3&&(O=-1);var B;(N&1)===0?B=0:(R=l.andln(7)+x&7,(R===3||R===5)&&O===2?B=-N:B=N),p[0].push(B);var k;(O&1)===0?k=0:(R=d.andln(7)+T&7,(R===3||R===5)&&N===2?k=-O:k=O),p[1].push(k),2*x===B+1&&(x=1-x),2*T===k+1&&(T=1-T),l.iushrn(1),d.iushrn(1)}return p}a(i,"getJSF"),r.getJSF=i;function s(l,d,p){var x="_"+d;l.prototype[d]=a(function(){return this[x]!==void 0?this[x]:this[x]=p.call(this)},"cachedProperty")}a(s,"cachedProperty"),r.cachedProperty=s;function o(l){return typeof l=="string"?r.toArray(l,"hex"):l}a(o,"parseBytes"),r.parseBytes=o;function f(l){return new gt(l,"hex","le")}a(f,"intFromLE"),r.intFromLE=f}),$o=jr.getNAF,JC=jr.getJSF,Wo=jr.assert;function _i(t,e){this.type=t,this.p=new gt(e.p,16),this.red=e.prime?gt.red(e.prime):gt.mont(this.p),this.zero=new gt(0).toRed(this.red),this.one=new gt(1).toRed(this.red),this.two=new gt(2).toRed(this.red),this.n=e.n&&new gt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}a(_i,"BaseCurve");var $i=_i;_i.prototype.point=a(function(){throw new Error("Not implemented")},"point");_i.prototype.validate=a(function(){throw new Error("Not implemented")},"validate");_i.prototype._fixedNafMul=a(function(e,r){Wo(e.precomputed);var n=e._getDoubles(),i=$o(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],f,l;for(f=0;f<i.length;f+=n.step){l=0;for(var d=f+n.step-1;d>=f;d--)l=(l<<1)+i[d];o.push(l)}for(var p=this.jpoint(null,null,null),x=this.jpoint(null,null,null),T=s;T>0;T--){for(f=0;f<o.length;f++)l=o[f],l===T?x=x.mixedAdd(n.points[f]):l===-T&&(x=x.mixedAdd(n.points[f].neg()));p=p.add(x)}return p.toP()},"_fixedNafMul");_i.prototype._wnafMul=a(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=$o(r,n,this._bitLength),f=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var d=0;l>=0&&o[l]===0;l--)d++;if(l>=0&&d++,f=f.dblp(d),l<0)break;var p=o[l];Wo(p!==0),e.type==="affine"?p>0?f=f.mixedAdd(s[p-1>>1]):f=f.mixedAdd(s[-p-1>>1].neg()):p>0?f=f.add(s[p-1>>1]):f=f.add(s[-p-1>>1].neg())}return e.type==="affine"?f.toP():f},"_wnafMul");_i.prototype._wnafMulAdd=a(function(e,r,n,i,s){var o=this._wnafT1,f=this._wnafT2,l=this._wnafT3,d=0,p,x,T;for(p=0;p<i;p++){T=r[p];var R=T._getNAFPoints(e);o[p]=R.wnd,f[p]=R.points}for(p=i-1;p>=1;p-=2){var N=p-1,O=p;if(o[N]!==1||o[O]!==1){l[N]=$o(n[N],o[N],this._bitLength),l[O]=$o(n[O],o[O],this._bitLength),d=Math.max(l[N].length,d),d=Math.max(l[O].length,d);continue}var B=[r[N],null,null,r[O]];r[N].y.cmp(r[O].y)===0?(B[1]=r[N].add(r[O]),B[2]=r[N].toJ().mixedAdd(r[O].neg())):r[N].y.cmp(r[O].y.redNeg())===0?(B[1]=r[N].toJ().mixedAdd(r[O]),B[2]=r[N].add(r[O].neg())):(B[1]=r[N].toJ().mixedAdd(r[O]),B[2]=r[N].toJ().mixedAdd(r[O].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],L=JC(n[N],n[O]);for(d=Math.max(L[0].length,d),l[N]=new Array(d),l[O]=new Array(d),x=0;x<d;x++){var D=L[0][x]|0,H=L[1][x]|0;l[N][x]=k[(D+1)*3+(H+1)],l[O][x]=0,f[N]=B}}var K=this.jpoint(null,null,null),j=this._wnafT4;for(p=d;p>=0;p--){for(var ie=0;p>=0;){var J=!0;for(x=0;x<i;x++)j[x]=l[x][p]|0,j[x]!==0&&(J=!1);if(!J)break;ie++,p--}if(p>=0&&ie++,K=K.dblp(ie),p<0)break;for(x=0;x<i;x++){var ue=j[x];ue!==0&&(ue>0?T=f[x][ue-1>>1]:ue<0&&(T=f[x][-ue-1>>1].neg()),T.type==="affine"?K=K.mixedAdd(T):K=K.add(T))}}for(p=0;p<i;p++)f[p]=null;return s?K:K.toP()},"_wnafMulAdd");function rn(t,e){this.curve=t,this.type=e,this.precomputed=null}a(rn,"BasePoint");_i.BasePoint=rn;rn.prototype.eq=a(function(){throw new Error("Not implemented")},"eq");rn.prototype.validate=a(function(){return this.curve.validate(this)},"validate");_i.prototype.decodePoint=a(function(e,r){e=jr.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Wo(e[e.length-1]%2===0):e[0]===7&&Wo(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");rn.prototype.encodeCompressed=a(function(e){return this.encode(e,!0)},"encodeCompressed");rn.prototype._encode=a(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");rn.prototype.encode=a(function(e,r){return jr.encode(this._encode(r),e)},"encode");rn.prototype.precompute=a(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");rn.prototype._hasDoubles=a(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");rn.prototype._getDoubles=a(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");rn.prototype._getNAFPoints=a(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");rn.prototype._getBeta=a(function(){return null},"_getBeta");rn.prototype.dblp=a(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp");var r0=zs(function(t){typeof Object.create=="function"?t.exports=a(function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):t.exports=a(function(r,n){if(n){r.super_=n;var i=a(function(){},"TempCtor");i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},"inherits")}),XC=jr.assert;function nn(t){$i.call(this,"short",t),this.a=new gt(t.a,16).toRed(this.red),this.b=new gt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}a(nn,"ShortCurve");r0(nn,$i);var ZC=nn;nn.prototype._getEndomorphism=a(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new gt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new gt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],XC(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(f){return{a:new gt(f.a,16),b:new gt(f.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}},"_getEndomorphism");nn.prototype._getEndoRoots=a(function(e){var r=e===this.p?this.red:gt.mont(e),n=new gt(2).toRed(r).redInvm(),i=n.redNeg(),s=new gt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),f=i.redSub(s).fromRed();return[o,f]},"_getEndoRoots");nn.prototype._getEndoBasis=a(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new gt(1),o=new gt(0),f=new gt(0),l=new gt(1),d,p,x,T,R,N,O,B=0,k,L;n.cmpn(0)!==0;){var D=i.div(n);k=i.sub(D.mul(n)),L=f.sub(D.mul(s));var H=l.sub(D.mul(o));if(!x&&k.cmp(r)<0)d=O.neg(),p=s,x=k.neg(),T=L;else if(x&&++B===2)break;O=k,i=n,n=k,f=s,s=L,l=o,o=H}R=k.neg(),N=L;var K=x.sqr().add(T.sqr()),j=R.sqr().add(N.sqr());return j.cmp(K)>=0&&(R=d,N=p),x.negative&&(x=x.neg(),T=T.neg()),R.negative&&(R=R.neg(),N=N.neg()),[{a:x,b:T},{a:R,b:N}]},"_getEndoBasis");nn.prototype._endoSplit=a(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),f=s.mul(n.a),l=o.mul(i.a),d=s.mul(n.b),p=o.mul(i.b),x=e.sub(f).sub(l),T=d.add(p).neg();return{k1:x,k2:T}},"_endoSplit");nn.prototype.pointFromX=a(function(e,r){e=new gt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");nn.prototype.validate=a(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");nn.prototype._endoWnafMulAdd=a(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var f=this._endoSplit(r[o]),l=e[o],d=l._getBeta();f.k1.negative&&(f.k1.ineg(),l=l.neg(!0)),f.k2.negative&&(f.k2.ineg(),d=d.neg(!0)),i[o*2]=l,i[o*2+1]=d,s[o*2]=f.k1,s[o*2+1]=f.k2}for(var p=this._wnafMulAdd(1,i,s,o*2,n),x=0;x<o*2;x++)i[x]=null,s[x]=null;return p},"_endoWnafMulAdd");function gr(t,e,r,n){$i.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new gt(e,16),this.y=new gt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}a(gr,"Point");r0(gr,$i.BasePoint);nn.prototype.point=a(function(e,r,n){return new gr(this,e,r,n)},"point");nn.prototype.pointFromJSON=a(function(e,r){return gr.fromJSON(this,e,r)},"pointFromJSON");gr.prototype._getBeta=a(function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=a(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");gr.prototype.toJSON=a(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");gr.fromJSON=a(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(f){return e.point(f[0],f[1],n)}a(s,"obj2point");var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i},"fromJSON");gr.prototype.inspect=a(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");gr.prototype.isInfinity=a(function(){return this.inf},"isInfinity");gr.prototype.add=a(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");gr.prototype.dbl=a(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),f=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,f)},"dbl");gr.prototype.getX=a(function(){return this.x.fromRed()},"getX");gr.prototype.getY=a(function(){return this.y.fromRed()},"getY");gr.prototype.mul=a(function(e){return e=new gt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");gr.prototype.mulAdd=a(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");gr.prototype.jmulAdd=a(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");gr.prototype.eq=a(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");gr.prototype.neg=a(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=a(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");gr.prototype.toJ=a(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function yr(t,e,r,n){$i.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new gt(0)):(this.x=new gt(e,16),this.y=new gt(r,16),this.z=new gt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(yr,"JPoint");r0(yr,$i.BasePoint);nn.prototype.jpoint=a(function(e,r,n){return new yr(this,e,r,n)},"jpoint");yr.prototype.toP=a(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");yr.prototype.neg=a(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");yr.prototype.add=a(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),d=o.redSub(f);if(l.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=l.redSqr(),x=p.redMul(l),T=i.redMul(p),R=d.redSqr().redIAdd(x).redISub(T).redISub(T),N=d.redMul(T.redISub(R)).redISub(o.redMul(x)),O=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(R,N,O)},"add");yr.prototype.mixedAdd=a(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),f=n.redSub(i),l=s.redSub(o);if(f.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=f.redSqr(),p=d.redMul(f),x=n.redMul(d),T=l.redSqr().redIAdd(p).redISub(x).redISub(x),R=l.redMul(x.redISub(T)).redISub(s.redMul(p)),N=this.z.redMul(f);return this.curve.jpoint(T,R,N)},"mixedAdd");yr.prototype.dblp=a(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,f=this.y,l=this.z,d=l.redSqr().redSqr(),p=f.redAdd(f);for(r=0;r<e;r++){var x=o.redSqr(),T=p.redSqr(),R=T.redSqr(),N=x.redAdd(x).redIAdd(x).redIAdd(i.redMul(d)),O=o.redMul(T),B=N.redSqr().redISub(O.redAdd(O)),k=O.redISub(B),L=N.redMul(k);L=L.redIAdd(L).redISub(R);var D=p.redMul(l);r+1<e&&(d=d.redMul(R)),o=B,l=D,p=L}return this.curve.jpoint(o,p.redMul(s),l)},"dblp");yr.prototype.dbl=a(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");yr.prototype._zeroDbl=a(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(o);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i),d=l.redSqr().redISub(f).redISub(f),p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),e=d,r=l.redMul(f.redISub(d)).redISub(p),n=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),T=this.y.redSqr(),R=T.redSqr(),N=this.x.redAdd(T).redSqr().redISub(x).redISub(R);N=N.redIAdd(N);var O=x.redAdd(x).redIAdd(x),B=O.redSqr(),k=R.redIAdd(R);k=k.redIAdd(k),k=k.redIAdd(k),e=B.redISub(N).redISub(N),r=O.redMul(N.redISub(e)).redISub(k),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");yr.prototype._threeDbl=a(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(i).redISub(o);f=f.redIAdd(f);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=l.redSqr().redISub(f).redISub(f);e=d;var p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),r=l.redMul(f.redISub(d)).redISub(p),n=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),T=this.y.redSqr(),R=this.x.redMul(T),N=this.x.redSub(x).redMul(this.x.redAdd(x));N=N.redAdd(N).redIAdd(N);var O=R.redIAdd(R);O=O.redIAdd(O);var B=O.redAdd(O);e=N.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(T).redISub(x);var k=T.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),r=N.redMul(O.redISub(e)).redISub(k)}return this.curve.jpoint(e,r,n)},"_threeDbl");yr.prototype._dbl=a(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),f=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),d=r.redAdd(r);d=d.redIAdd(d);var p=d.redMul(f),x=l.redSqr().redISub(p.redAdd(p)),T=p.redISub(x),R=f.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R);var N=l.redMul(T).redISub(R),O=n.redAdd(n).redMul(i);return this.curve.jpoint(x,N,O)},"_dbl");yr.prototype.trpl=a(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(o);var l=f.redSqr(),d=i.redIAdd(i);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var p=s.redIAdd(f).redSqr().redISub(o).redISub(l).redISub(d),x=r.redMul(p);x=x.redIAdd(x),x=x.redIAdd(x);var T=this.x.redMul(l).redISub(x);T=T.redIAdd(T),T=T.redIAdd(T);var R=this.y.redMul(p.redMul(d.redISub(p)).redISub(f.redMul(l)));R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R);var N=this.z.redAdd(f).redSqr().redISub(n).redISub(l);return this.curve.jpoint(T,R,N)},"trpl");yr.prototype.mul=a(function(e,r){return e=new gt(e,r),this.curve._wnafMul(this,e)},"mul");yr.prototype.eq=a(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");yr.prototype.eqXToP=a(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");yr.prototype.inspect=a(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");yr.prototype.isInfinity=a(function(){return this.z.cmpn(0)===0},"isInfinity");var yo=zs(function(t,e){var r=e;r.base=$i,r.short=ZC,r.mont=null,r.edwards=null}),wo=zs(function(t,e){var r=e,n=jr.assert;function i(f){f.type==="short"?this.curve=new yo.short(f):f.type==="edwards"?this.curve=new yo.edwards(f):this.curve=new yo.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a(i,"PresetCurve"),r.PresetCurve=i;function s(f,l){Object.defineProperty(r,f,{configurable:!0,enumerable:!0,get:function(){var d=new i(l);return Object.defineProperty(r,f,{configurable:!0,enumerable:!0,value:d}),d}})}a(s,"defineCurve"),s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:xn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:xn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:xn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:xn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:xn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xn.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:xn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function bi(t){if(!(this instanceof bi))return new bi(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=vn.toArray(t.entropy,t.entropyEnc||"hex"),r=vn.toArray(t.nonce,t.nonceEnc||"hex"),n=vn.toArray(t.pers,t.persEnc||"hex");t0(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}a(bi,"HmacDRBG");var hv=bi;bi.prototype._init=a(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");bi.prototype._hmac=a(function(){return new xn.hmac(this.hash,this.K)},"hmac");bi.prototype._update=a(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");bi.prototype.reseed=a(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=vn.toArray(e,r),n=vn.toArray(n,i),t0(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");bi.prototype.generate=a(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=vn.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,vn.encode(o,r)},"generate");var Yu=jr.assert;function _r(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}a(_r,"KeyPair");var n0=_r;_r.fromPublic=a(function(e,r,n){return r instanceof _r?r:new _r(e,{pub:r,pubEnc:n})},"fromPublic");_r.fromPrivate=a(function(e,r,n){return r instanceof _r?r:new _r(e,{priv:r,privEnc:n})},"fromPrivate");_r.prototype.validate=a(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");_r.prototype.getPublic=a(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");_r.prototype.getPrivate=a(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");_r.prototype._importPrivate=a(function(e,r){this.priv=new gt(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");_r.prototype._importPublic=a(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Yu(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Yu(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");_r.prototype.derive=a(function(e){return e.validate()||Yu(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");_r.prototype.sign=a(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");_r.prototype.verify=a(function(e,r){return this.ec.verify(e,r,this)},"verify");_r.prototype.inspect=a(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect");var e3=jr.assert;function Tf(t,e){if(t instanceof Tf)return t;this._importDER(t,e)||(e3(t.r&&t.s,"Signature without r or s"),this.r=new gt(t.r,16),this.s=new gt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}a(Tf,"Signature");var If=Tf;function t3(){this.place=0}a(t3,"Position");function au(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}a(au,"getLength");function dc(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}a(dc,"rmPadding");Tf.prototype._importDER=a(function(e,r){e=jr.toArray(e,r);var n=new t3;if(e[n.place++]!==48)return!1;var i=au(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=au(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var f=au(e,n);if(f===!1||e.length!==f+n.place)return!1;var l=e.slice(n.place,f+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new gt(o),this.s=new gt(l),this.recoveryParam=null,!0},"_importDER");function ou(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}a(ou,"constructLength");Tf.prototype.toDER=a(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=dc(r),n=dc(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];ou(i,r.length),i=i.concat(r),i.push(2),ou(i,n.length);var s=i.concat(n),o=[48];return ou(o,s.length),o=o.concat(s),jr.encode(o,e)},"toDER");var r3=a(function(){throw new Error("unsupported")},"rand"),cv=jr.assert;function tn(t){if(!(this instanceof tn))return new tn(t);typeof t=="string"&&(cv(Object.prototype.hasOwnProperty.call(wo,t),"Unknown curve "+t),t=wo[t]),t instanceof wo.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}a(tn,"EC");var n3=tn;tn.prototype.keyPair=a(function(e){return new n0(this,e)},"keyPair");tn.prototype.keyFromPrivate=a(function(e,r){return n0.fromPrivate(this,e,r)},"keyFromPrivate");tn.prototype.keyFromPublic=a(function(e,r){return n0.fromPublic(this,e,r)},"keyFromPublic");tn.prototype.genKeyPair=a(function(e){e||(e={});for(var r=new hv({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||r3(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new gt(2));;){var s=new gt(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");tn.prototype._truncateToN=a(function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");tn.prototype.sign=a(function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new gt(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),f=e.toArray("be",s),l=new hv({hash:this.hash,entropy:o,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new gt(1)),p=0;;p++){var x=i.k?i.k(p):new gt(l.generate(this.n.byteLength()));if(x=this._truncateToN(x,!0),!(x.cmpn(1)<=0||x.cmp(d)>=0)){var T=this.g.mul(x);if(!T.isInfinity()){var R=T.getX(),N=R.umod(this.n);if(N.cmpn(0)!==0){var O=x.invm(this.n).mul(N.mul(r.getPrivate()).iadd(e));if(O=O.umod(this.n),O.cmpn(0)!==0){var B=(T.getY().isOdd()?1:0)|(R.cmp(N)!==0?2:0);return i.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),B^=1),new If({r:N,s:O,recoveryParam:B})}}}}}},"sign");tn.prototype.verify=a(function(e,r,n,i){e=this._truncateToN(new gt(e,16)),n=this.keyFromPublic(n,i),r=new If(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var f=o.invm(this.n),l=f.mul(e).umod(this.n),d=f.mul(s).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(l,n.getPublic(),d),p.isInfinity()?!1:p.eqXToP(s)):(p=this.g.mulAdd(l,n.getPublic(),d),p.isInfinity()?!1:p.getX().umod(this.n).cmp(s)===0)},"verify");tn.prototype.recoverPubKey=function(t,e,r,n){cv((3&r)===r,"The recovery param is more than two bits"),e=new If(e,n);var i=this.n,s=new gt(t),o=e.r,f=e.s,l=r&1,d=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var p=e.r.invm(i),x=i.sub(s).mul(p).umod(i),T=f.mul(p).umod(i);return this.g.mulAdd(x,o,T)};tn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new If(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var i3=zs(function(t,e){var r=e;r.version="6.5.4",r.utils=jr,r.rand=function(){throw new Error("unsupported")},r.curve=yo,r.curves=wo,r.ec=n3,r.eddsa=null}),s3=i3.ec;const a3="signing-key/5.7.0",Ju=new ae(a3);let fu=null;function An(){return fu||(fu=new s3("secp256k1")),fu}a(An,"getCurve");class dv{constructor(e){Ee(this,"curve","secp256k1"),Ee(this,"privateKey",nt(e)),Vi(this.privateKey)!==32&&Ju.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=An().keyFromPrivate(at(this.privateKey));Ee(this,"publicKey","0x"+r.getPublic(!1,"hex")),Ee(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Ee(this,"_isSigningKey",!0)}_addPoint(e){const r=An().keyFromPublic(at(this.publicKey)),n=An().keyFromPublic(at(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=An().keyFromPrivate(at(this.privateKey)),n=at(e);n.length!==32&&Ju.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Ef({recoveryParam:i.recoveryParam,r:zt("0x"+i.r.toString(16),32),s:zt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=An().keyFromPrivate(at(this.privateKey)),n=An().keyFromPublic(at(pv(e)));return zt("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}a(dv,"SigningKey");function o3(t,e){const r=Ef(e),n={r:at(r.r),s:at(r.s)};return"0x"+An().recoverPubKey(at(t),n,r.recoveryParam).encode("hex",!1)}a(o3,"recoverPublicKey");function pv(t,e){const r=at(t);if(r.length===32){const n=new dv(r);return e?"0x"+An().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?nt(r):"0x"+An().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+An().keyFromPublic(r).getPublic(!0,"hex"):nt(r)}return Ju.throwArgumentError("invalid public or private key","key","[REDACTED]")}a(pv,"computePublicKey");const f3="transactions/5.7.0",oi=new ae(f3);var pc;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(pc||(pc={}));function i0(t){return t==="0x"?null:pr(t)}a(i0,"handleAddress");function Er(t){return t==="0x"?xg:Ae.from(t)}a(Er,"handleNumber");function u3(t){const e=pv(t);return pr(xr(or(xr(e,1)),12))}a(u3,"computeAddress");function gv(t,e){return u3(o3(at(t),e))}a(gv,"recoverAddress");function Kr(t,e){const r=xs(Ae.from(t).toHexString());return r.length>32&&oi.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}a(Kr,"formatNumber");function uu(t,e){return{address:pr(t),storageKeys:(e||[]).map((r,n)=>(Vi(r)!==32&&oi.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}a(uu,"accessSetify");function $s(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&oi.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),uu(r[0],r[1])):uu(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return uu(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}a($s,"accessListify");function vv(t){return $s(t).map(e=>[e.address,e.storageKeys])}a(vv,"formatAccessList");function l3(t,e){if(t.gasPrice!=null){const n=Ae.from(t.gasPrice),i=Ae.from(t.maxFeePerGas||0);n.eq(i)||oi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Kr(t.chainId||0,"chainId"),Kr(t.nonce||0,"nonce"),Kr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Kr(t.maxFeePerGas||0,"maxFeePerGas"),Kr(t.gasLimit||0,"gasLimit"),t.to!=null?pr(t.to):"0x",Kr(t.value||0,"value"),t.data||"0x",vv(t.accessList||[])];if(e){const n=Ef(e);r.push(Kr(n.recoveryParam,"recoveryParam")),r.push(xs(n.r)),r.push(xs(n.s))}return Lr(["0x02",_f(r)])}a(l3,"_serializeEip1559");function h3(t,e){const r=[Kr(t.chainId||0,"chainId"),Kr(t.nonce||0,"nonce"),Kr(t.gasPrice||0,"gasPrice"),Kr(t.gasLimit||0,"gasLimit"),t.to!=null?pr(t.to):"0x",Kr(t.value||0,"value"),t.data||"0x",vv(t.accessList||[])];if(e){const n=Ef(e);r.push(Kr(n.recoveryParam,"recoveryParam")),r.push(xs(n.r)),r.push(xs(n.s))}return Lr(["0x01",_f(r)])}a(h3,"_serializeEip2930");function mv(t,e,r){try{const n=Er(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{oi.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=zt(e[1],32),t.s=zt(e[2],32);try{const n=or(r(t));t.from=gv(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}a(mv,"_parseEipSignature");function c3(t){const e=Xl(t.slice(1));e.length!==9&&e.length!==12&&oi.throwArgumentError("invalid component count for transaction type: 2","payload",nt(t));const r=Er(e[2]),n=Er(e[3]),i={type:2,chainId:Er(e[0]).toNumber(),nonce:Er(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Er(e[4]),to:i0(e[5]),value:Er(e[6]),data:e[7],accessList:$s(e[8])};return e.length===9||(i.hash=or(t),mv(i,e.slice(9),l3)),i}a(c3,"_parseEip1559");function d3(t){const e=Xl(t.slice(1));e.length!==8&&e.length!==11&&oi.throwArgumentError("invalid component count for transaction type: 1","payload",nt(t));const r={type:1,chainId:Er(e[0]).toNumber(),nonce:Er(e[1]).toNumber(),gasPrice:Er(e[2]),gasLimit:Er(e[3]),to:i0(e[4]),value:Er(e[5]),data:e[6],accessList:$s(e[7])};return e.length===8||(r.hash=or(t),mv(r,e.slice(8),h3)),r}a(d3,"_parseEip2930");function p3(t){const e=Xl(t);e.length!==9&&e.length!==6&&oi.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Er(e[0]).toNumber(),gasPrice:Er(e[1]),gasLimit:Er(e[2]),to:i0(e[3]),value:Er(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Ae.from(e[6]).toNumber()}catch{return r}if(r.r=zt(e[7],32),r.s=zt(e[8],32),Ae.from(r.r).isZero()&&Ae.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(nt(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=or(_f(i));try{r.from=gv(s,{r:nt(r.r),s:nt(r.s),recoveryParam:n})}catch{}r.hash=or(t)}return r.type=null,r}a(p3,"_parse");function g3(t){const e=at(t);if(e[0]>127)return p3(e);switch(e[0]){case 1:return d3(e);case 2:return c3(e)}return oi.throwError(`unsupported transaction type: ${e[0]}`,ae.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}a(g3,"parse$1");const v3="contracts/5.7.0";var Gi=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return a(i,"adopt"),new(r||(r=Promise))(function(s,o){function f(p){try{d(n.next(p))}catch(x){o(x)}}a(f,"fulfilled");function l(p){try{d(n.throw(p))}catch(x){o(x)}}a(l,"rejected");function d(p){p.done?s(p.value):i(p.value).then(f,l)}a(d,"step"),d((n=n.apply(t,e||[])).next())})};const er=new ae(v3);function Qo(t,e){return Gi(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&er.throwArgumentError("invalid address or ENS name","name",r);try{return pr(r)}catch{}t||er.throwError("a provider or signer is needed to resolve ENS names",ae.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&er.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}a(Qo,"resolveName");function bo(t,e,r){return Gi(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>bo(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Qo(t,e):r.type==="tuple"?yield bo(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>bo(t,n,r.arrayChildren))):Promise.reject(er.makeError("invalid value for array",ae.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}a(bo,"resolveAddresses");function Mf(t,e,r){return Gi(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=fr(r.pop())),er.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=nr({override:Qo(t.signer,n.from),signer:t.signer.getAddress()}).then(d=>Gi(this,void 0,void 0,function*(){return pr(d.signer)!==d.override&&er.throwError("Contract with a Signer cannot override from",ae.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):n.from=t.signer.getAddress():n.from&&(n.from=Qo(t.provider,n.from));const i=yield nr({args:bo(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:nr(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},f=i.overrides;if(f.nonce!=null&&(o.nonce=Ae.from(f.nonce).toNumber()),f.gasLimit!=null&&(o.gasLimit=Ae.from(f.gasLimit)),f.gasPrice!=null&&(o.gasPrice=Ae.from(f.gasPrice)),f.maxFeePerGas!=null&&(o.maxFeePerGas=Ae.from(f.maxFeePerGas)),f.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=Ae.from(f.maxPriorityFeePerGas)),f.from!=null&&(o.from=f.from),f.type!=null&&(o.type=f.type),f.accessList!=null&&(o.accessList=$s(f.accessList)),o.gasLimit==null&&e.gas!=null){let d=21e3;const p=at(s);for(let x=0;x<p.length;x++)d+=4,p[x]&&(d+=64);o.gasLimit=Ae.from(e.gas).add(d)}if(f.value){const d=Ae.from(f.value);!d.isZero()&&!e.payable&&er.throwError("non-payable method cannot override value",ae.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=d}f.customData&&(o.customData=fr(f.customData)),f.ccipReadEnabled&&(o.ccipReadEnabled=!!f.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter(d=>n[d]!=null);return l.length&&er.throwError(`cannot override ${l.map(d=>JSON.stringify(d)).join(",")}`,ae.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o})}a(Mf,"populateTransaction");function m3(t,e){return function(...r){return Mf(t,e,r)}}a(m3,"buildPopulate");function y3(t,e){const r=t.signer||t.provider;return function(...n){return Gi(this,void 0,void 0,function*(){r||er.throwError("estimate require a provider or signer",ae.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Mf(t,e,n);return yield r.estimateGas(i)})}}a(y3,"buildEstimate");function w3(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=ii(s),f=null;try{f=t.interface.parseLog(s)}catch{}return f&&(o.args=f.args,o.decode=(l,d)=>t.interface.decodeEventLog(f.eventFragment,l,d),o.event=f.name,o.eventSignature=f.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}a(w3,"addContractWait");function yv(t,e,r){const n=t.signer||t.provider;return function(...i){return Gi(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=fr(i.pop());l.blockTag!=null&&(s=yield l.blockTag),delete l.blockTag,i.push(l)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield Mf(t,e,i),f=yield n.call(o,s);try{let l=t.interface.decodeFunctionResult(e,f);return r&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===ae.errors.CALL_EXCEPTION&&(l.address=t.address,l.args=i,l.transaction=o),l}})}}a(yv,"buildCall");function b3(t,e){return function(...r){return Gi(this,void 0,void 0,function*(){t.signer||er.throwError("sending a transaction requires a signer",ae.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Mf(t,e,r),i=yield t.signer.sendTransaction(n);return w3(t,i),i})}}a(b3,"buildSend");function gc(t,e,r){return e.constant?yv(t,e,r):b3(t,e)}a(gc,"buildDefault");function wv(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}a(wv,"getEventTag$1");class Ss{constructor(e,r){Ee(this,"tag",e),Ee(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}a(Ss,"RunningEvent");class bv extends Ss{constructor(){super("error",null)}}a(bv,"ErrorRunningEvent");class Xu extends Ss{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&er.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(wv(s),s),Ee(this,"address",e),Ee(this,"interface",r),Ee(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=wA(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}a(Xu,"FragmentRunningEvent");class Zu extends Ss{constructor(e,r){super("*",{address:e}),Ee(this,"address",e),Ee(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}a(Zu,"WildcardRunningEvent");class xv{constructor(e,r,n){Ee(this,"interface",Rn(new.target,"getInterface")(r)),n==null?(Ee(this,"provider",null),Ee(this,"signer",null)):Ks.isSigner(n)?(Ee(this,"provider",n.provider||null),Ee(this,"signer",n)):Ha.isProvider(n)?(Ee(this,"provider",n),Ee(this,"signer",null)):er.throwArgumentError("invalid signer or provider","signerOrProvider",n),Ee(this,"callStatic",{}),Ee(this,"estimateGas",{}),Ee(this,"functions",{}),Ee(this,"populateTransaction",{}),Ee(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(f=>{const l=this.interface.events[f];Ee(this.filters,f,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,d)})),o[l.name]||(o[l.name]=[]),o[l.name].push(f)}),Object.keys(o).forEach(f=>{const l=o[f];l.length===1?Ee(this.filters,f,this.filters[l[0]]):er.warn(`Duplicate definition of ${f} (${l.join(", ")})`)})}if(Ee(this,"_runningEvents",{}),Ee(this,"_wrappedEmits",{}),e==null&&er.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Ee(this,"address",e),this.provider)Ee(this,"resolvedAddress",Qo(this.provider,e));else try{Ee(this,"resolvedAddress",Promise.resolve(pr(e)))}catch{er.throwError("provider is required to use ENS name as contract address",ae.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const f=this.interface.functions[o];if(s[o]){er.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const l=f.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(o)}this[o]==null&&Ee(this,o,gc(this,f,!0)),this.functions[o]==null&&Ee(this.functions,o,gc(this,f,!1)),this.callStatic[o]==null&&Ee(this.callStatic,o,yv(this,f,!0)),this.populateTransaction[o]==null&&Ee(this.populateTransaction,o,m3(this,f)),this.estimateGas[o]==null&&Ee(this.estimateGas,o,y3(this,f))}),Object.keys(i).forEach(o=>{const f=i[o];if(f.length>1)return;o=o.substring(1);const l=f[0];try{this[o]==null&&Ee(this,o,this[l])}catch{}this.functions[o]==null&&Ee(this.functions,o,this.functions[l]),this.callStatic[o]==null&&Ee(this.callStatic,o,this.callStatic[l]),this.populateTransaction[o]==null&&Ee(this.populateTransaction,o,this.populateTransaction[l]),this.estimateGas[o]==null&&Ee(this.estimateGas,o,this.estimateGas[l])})}static getContractAddress(e){return hg(e)}static getInterface(e){return zu.isInterface(e)?e:new zu(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&er.throwError("contract not deployed",ae.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||er.throwError("sending a transactions require a signer",ae.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=fr(e||{});return["from","to"].forEach(function(n){r[n]!=null&&er.throwError("cannot override "+n,ae.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Sf(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Ee(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return zo.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new bv);if(e==="event")return this._normalizeRunningEvent(new Ss("event",null));if(e==="*")return this._normalizeRunningEvent(new Zu(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Xu(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Xu(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Ss(wv(r),r))}return this._normalizeRunningEvent(new Zu(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=ii(r);return i.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||er.throwError("events require a provider or a signer with a provider",ae.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=a(s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const f=e.getEmit(o);this.emit(e.filter,...f)}catch(f){o.decodeError=f.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)},"wrappedEmit");this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=fr(i.filter);return typeof r=="string"&&Nt(r,32)?(n!=null&&er.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r!=null?r:0,s.toBlock=n!=null?n:"latest"),this.provider.getLogs(s).then(o=>o.map(f=>this._wrapEvent(i,f,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}a(xv,"BaseContract");class xo extends xv{}a(xo,"Contract");class s0{constructor(e){Ee(this,"alphabet",e),Ee(this,"base",e.length),Ee(this,"_alphabetMap",{}),Ee(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=at(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let f=0;f<n.length;++f)o+=n[f]<<8,n[f]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return at(new Uint8Array(r.reverse()))}}a(s0,"BaseX");new s0("abcdefghijklmnopqrstuvwxyz234567");const el=new s0("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),x3="sha2/5.7.0";new ae(x3);function vc(t){return"0x"+xn.sha256().update(at(t)).digest("hex")}a(vc,"sha256");const E3="networks/5.7.1",mc=new ae(E3);function _3(t){return t&&typeof t.renetwork=="function"}a(_3,"isRenetworkable");function Xn(t){const e=a(function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]},"func");return e.renetwork=function(r){return Xn(r)},e}a(Xn,"ethDefaultProvider");function Yo(t,e){const r=a(function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null},"func");return r.renetwork=function(n){return Yo(t,n)},r}a(Yo,"etcDefaultProvider");const yc={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Xn("homestead")},wc={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Xn("ropsten")},bc={chainId:63,name:"classicMordor",_defaultProvider:Yo("https://www.ethercluster.com/mordor","classicMordor")},ro={unspecified:{chainId:0,name:"unspecified"},homestead:yc,mainnet:yc,morden:{chainId:2,name:"morden"},ropsten:wc,testnet:wc,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Xn("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Xn("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Xn("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Xn("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Yo("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:bc,classicTestnet:bc,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Yo("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Xn("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Xn("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function A3(t){if(t==null)return null;if(typeof t=="number"){for(const n in ro){const i=ro[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=ro[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=ro[t.name];if(!e)return typeof t.chainId!="number"&&mc.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&mc.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(_3(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}a(A3,"getNetwork");const S3="web/5.7.1";var C3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return a(i,"adopt"),new(r||(r=Promise))(function(s,o){function f(p){try{d(n.next(p))}catch(x){o(x)}}a(f,"fulfilled");function l(p){try{d(n.throw(p))}catch(x){o(x)}}a(l,"rejected");function d(p){p.done?s(p.value):i(p.value).then(f,l)}a(d,"step"),d((n=n.apply(t,e||[])).next())})};function T3(t,e){return C3(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,f)=>{s[f.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:at(new Uint8Array(i))}})}a(T3,"getUrl");var I3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return a(i,"adopt"),new(r||(r=Promise))(function(s,o){function f(p){try{d(n.next(p))}catch(x){o(x)}}a(f,"fulfilled");function l(p){try{d(n.throw(p))}catch(x){o(x)}}a(l,"rejected");function d(p){p.done?s(p.value):i(p.value).then(f,l)}a(d,"step"),d((n=n.apply(t,e||[])).next())})};const un=new ae(S3);function xc(t){return new Promise(e=>{setTimeout(e,t)})}a(xc,"staller");function hi(t,e){if(t==null)return null;if(typeof t=="string")return t;if($l(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Ka(t)}catch{}return nt(t)}return t}a(hi,"bodyify");function M3(t){return Un(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}a(M3,"unpercent");function N3(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;un.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;un.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,f={};let l=null;const d={method:"GET"};let p=!1,x=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&un.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(x=t.timeout),t.headers)for(const k in t.headers)f[k.toLowerCase()]={key:k,value:String(t.headers[k])},["if-none-match","if-modified-since"].indexOf(k.toLowerCase())>=0&&(p=!0);if(d.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&un.throwError("basic authentication requires a secure https url",ae.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const k=t.user+":"+t.password;f.authorization={key:"Authorization",value:"Basic "+Ng(Un(k))}}t.skipFetchSetup!=null&&(d.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(d.fetchOptions=fr(t.fetchOptions))}const T=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),R=l?l.match(T):null;if(R)try{const k={statusCode:200,statusMessage:"OK",headers:{"content-type":R[1]||"text/plain"},body:R[2]?Mg(R[3]):M3(R[3])};let L=k.body;return r&&(L=r(k.body,k)),Promise.resolve(L)}catch(k){un.throwError("processing response error",ae.errors.SERVER_ERROR,{body:hi(R[1],R[2]),error:k,requestBody:null,requestMethod:"GET",url:l})}e&&(d.method="POST",d.body=e,f["content-type"]==null&&(f["content-type"]={key:"Content-Type",value:"application/octet-stream"}),f["content-length"]==null&&(f["content-length"]={key:"Content-Length",value:String(e.length)}));const N={};Object.keys(f).forEach(k=>{const L=f[k];N[L.key]=L.value}),d.headers=N;const O=function(){let k=null;return{promise:new Promise(function(H,K){x&&(k=setTimeout(()=>{k!=null&&(k=null,K(un.makeError("timeout",ae.errors.TIMEOUT,{requestBody:hi(d.body,N["content-type"]),requestMethod:d.method,timeout:x,url:l})))},x))}),cancel:a(function(){k!=null&&(clearTimeout(k),k=null)},"cancel")}}(),B=function(){return I3(this,void 0,void 0,function*(){for(let k=0;k<n;k++){let L=null;try{if(L=yield T3(l,d),k<n){if(L.statusCode===301||L.statusCode===302){const H=L.headers.location||"";if(d.method==="GET"&&H.match(/^https:/)){l=L.headers.location;continue}}else if(L.statusCode===429){let H=!0;if(i&&(H=yield i(k,l)),H){let K=0;const j=L.headers["retry-after"];typeof j=="string"&&j.match(/^[1-9][0-9]*$/)?K=parseInt(j)*1e3:K=s*parseInt(String(Math.random()*Math.pow(2,k))),yield xc(K);continue}}}}catch(H){L=H.response,L==null&&(O.cancel(),un.throwError("missing response",ae.errors.SERVER_ERROR,{requestBody:hi(d.body,N["content-type"]),requestMethod:d.method,serverError:H,url:l}))}let D=L.body;if(p&&L.statusCode===304?D=null:!o&&(L.statusCode<200||L.statusCode>=300)&&(O.cancel(),un.throwError("bad response",ae.errors.SERVER_ERROR,{status:L.statusCode,headers:L.headers,body:hi(D,L.headers?L.headers["content-type"]:null),requestBody:hi(d.body,N["content-type"]),requestMethod:d.method,url:l})),r)try{const H=yield r(D,L);return O.cancel(),H}catch(H){if(H.throttleRetry&&k<n){let K=!0;if(i&&(K=yield i(k,l)),K){const j=s*parseInt(String(Math.random()*Math.pow(2,k)));yield xc(j);continue}}O.cancel(),un.throwError("processing response error",ae.errors.SERVER_ERROR,{body:hi(D,L.headers?L.headers["content-type"]:null),error:H,requestBody:hi(d.body,N["content-type"]),requestMethod:d.method,url:l})}return O.cancel(),D}return un.throwError("failed response",ae.errors.SERVER_ERROR,{requestBody:hi(d.body,N["content-type"]),requestMethod:d.method,url:l})})}();return Promise.race([O.promise,B])}a(N3,"_fetchData");function a0(t,e,r){let n=a((s,o)=>{let f=null;if(s!=null)try{f=JSON.parse(Ka(s))}catch(l){un.throwError("invalid JSON",ae.errors.SERVER_ERROR,{body:s,error:l})}return r&&(f=r(f,o)),f},"processJsonFunc"),i=null;if(e!=null){i=Un(e);const s=typeof t=="string"?{url:t}:fr(t);s.headers?Object.keys(s.headers).filter(f=>f.toLowerCase()==="content-type").length!==0||(s.headers=fr(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return N3(t,i,n)}a(a0,"fetchJson");function ha(t,e){return e||(e={}),e=fr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=a(()=>s?!1:(s=!0,i&&clearTimeout(i),!0),"cancel");e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const f=e.retryLimit;let l=0;function d(){return t().then(function(p){if(p!==void 0)o()&&r(p);else if(e.oncePoll)e.oncePoll.once("poll",d);else if(e.onceBlock)e.onceBlock.once("block",d);else if(!s){if(l++,l>f){o()&&n(new Error("retry limit reached"));return}let x=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));x<e.floor&&(x=e.floor),x>e.ceiling&&(x=e.ceiling),setTimeout(d,x)}return null},function(p){o()&&n(p)})}a(d,"check"),d()})}a(ha,"poll");var Jo="qpzry9x8gf2tvdw0s3jn54khce6mua7l",tl={};for(var no=0;no<Jo.length;no++){var lu=Jo.charAt(no);if(tl[lu]!==void 0)throw new TypeError(lu+" is ambiguous");tl[lu]=no}function us(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}a(us,"polymodStep");function Ev(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=us(e)^n>>5}for(e=us(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=us(e)^i&31}return e}a(Ev,"prefixChk");function R3(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=Ev(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5!==0)throw new Error("Non 5-bit word");n=us(n)^o,i+=Jo.charAt(o)}for(s=0;s<6;++s)n=us(n);for(n^=1,s=0;s<6;++s){var f=n>>(5-s)*5&31;i+=Jo.charAt(f)}return i}a(R3,"encode$1");function _v(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var f=Ev(s);if(typeof f=="string")return f;for(var l=[],d=0;d<o.length;++d){var p=o.charAt(d),x=tl[p];if(x===void 0)return"Unknown character "+p;f=us(f)^x,!(d+6>=o.length)&&l.push(x)}return f!==1?"Invalid checksum for "+t:{prefix:s,words:l}}a(_v,"__decode");function B3(){var t=_v.apply(null,arguments);if(typeof t=="object")return t}a(B3,"decodeUnsafe");function k3(t){var e=_v.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}a(k3,"decode$2");function Nf(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,f=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,f.push(i>>s&o);if(n)s>0&&f.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return f}a(Nf,"convert");function P3(t){var e=Nf(t,8,5,!0);if(Array.isArray(e))return e}a(P3,"toWordsUnsafe");function O3(t){var e=Nf(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}a(O3,"toWords");function L3(t){var e=Nf(t,5,8,!1);if(Array.isArray(e))return e}a(L3,"fromWordsUnsafe");function U3(t){var e=Nf(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}a(U3,"fromWords");var Ec={decodeUnsafe:B3,decode:k3,encode:R3,toWordsUnsafe:P3,toWords:O3,fromWordsUnsafe:L3,fromWords:U3};const Rf="providers/5.7.2",ia=new ae(Rf);class rt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),f=this.hex.bind(this),l=this.number.bind(this),d=this.type.bind(this),p=a(x=>this.data(x,!0),"strictData");return e.transaction={hash:o,type:d,accessList:rt.allowNull(this.accessList.bind(this),null),blockHash:rt.allowNull(o,null),blockNumber:rt.allowNull(l,null),transactionIndex:rt.allowNull(l,null),confirmations:rt.allowNull(l,null),from:r,gasPrice:rt.allowNull(n),maxPriorityFeePerGas:rt.allowNull(n),maxFeePerGas:rt.allowNull(n),gasLimit:n,to:rt.allowNull(r,null),value:n,nonce:l,data:s,r:rt.allowNull(this.uint256),s:rt.allowNull(this.uint256),v:rt.allowNull(l),creates:rt.allowNull(r,null),raw:rt.allowNull(s)},e.transactionRequest={from:rt.allowNull(r),nonce:rt.allowNull(l),gasLimit:rt.allowNull(n),gasPrice:rt.allowNull(n),maxPriorityFeePerGas:rt.allowNull(n),maxFeePerGas:rt.allowNull(n),to:rt.allowNull(r),value:rt.allowNull(n),data:rt.allowNull(p),type:rt.allowNull(l),accessList:rt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:r,topics:rt.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:rt.allowNull(this.address,null),from:rt.allowNull(this.address,null),contractAddress:rt.allowNull(r,null),transactionIndex:l,root:rt.allowNull(f),gasUsed:n,logsBloom:rt.allowNull(s),blockHash:o,transactionHash:o,logs:rt.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:rt.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:rt.allowNull(n),status:rt.allowNull(l),type:d},e.block={hash:rt.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:rt.allowNull(f),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:rt.allowNull(r),extraData:s,transactions:rt.allowNull(rt.arrayOf(o)),baseFeePerGas:rt.allowNull(n)},e.blockWithTransactions=fr(e.block),e.blockWithTransactions.transactions=rt.allowNull(rt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:rt.allowNull(i,void 0),toBlock:rt.allowNull(i,void 0),blockHash:rt.allowNull(o,void 0),address:rt.allowNull(r,void 0),topics:rt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:rt.allowNull(l),blockHash:rt.allowNull(o),transactionIndex:l,removed:rt.allowNull(this.boolean.bind(this)),address:r,data:rt.allowFalsish(s,"0x"),topics:rt.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return $s(e||[])}number(e){return e==="0x"?0:Ae.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Ae.from(e).toNumber()}bigNumber(e){return Ae.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Nt(e))?e.toLowerCase():ia.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return pr(e)}callAddress(e){if(!Nt(e,32))return null;const r=pr(xr(e,12));return r===CA?null:r}contractAddress(e){return hg(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Nt(e))return Wl(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Vi(n)!==32?ia.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=Ae.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Nt(e))throw new Error("invalid uint256");return zt(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=rt.check(r,e);return i._difficulty=n==null?null:Ae.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return rt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Ae.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=rt.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Nt(n)&&(n=Ae.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Nt(n)&&(n=Ae.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return g3(e)}receiptLog(e){return rt.check(this.formats.receiptLog,e)}receipt(e){const r=rt.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=Ae.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&ia.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):ia.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&ia.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return rt.check(this.formats.filter,e)}filterLog(e){return rt.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}a(rt,"Formatter");var ct=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return a(i,"adopt"),new(r||(r=Promise))(function(s,o){function f(p){try{d(n.next(p))}catch(x){o(x)}}a(f,"fulfilled");function l(p){try{d(n.throw(p))}catch(x){o(x)}}a(l,"rejected");function d(p){p.done?s(p.value):i(p.value).then(f,l)}a(d,"step"),d((n=n.apply(t,e||[])).next())})};const yt=new ae(Rf),D3=10;function _c(t){return t==null?"null":(Vi(t)!==32&&yt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}a(_c,"checkTopic");function Ac(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[_c(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return _c(e)}).join("&")}a(Ac,"serializeTopics");function F3(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}a(F3,"deserializeTopics");function Zi(t){if(typeof t=="string"){if(t=t.toLowerCase(),Vi(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Ac(t);if(Hg.isForkEvent(t))throw yt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Ac(t.topics||[])}throw new Error("invalid event - "+t)}a(Zi,"getEventTag");function sa(){return new Date().getTime()}a(sa,"getTime");function Sc(t){return new Promise(e=>{setTimeout(e,t)})}a(Sc,"stall");const q3=["block","network","pending","poll"];class Av{constructor(e,r,n){Ee(this,"tag",e),Ee(this,"listener",r),Ee(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=F3(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||q3.indexOf(this.tag)>=0}}a(Av,"Event");const V3={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function hu(t){return zt(Ae.from(t).toHexString(),32)}a(hu,"bytes32ify");function Cc(t){return el.encode(Hr([t,xr(vc(vc(t)),0,4)]))}a(Cc,"base58Encode");const Sv=new RegExp("^(ipfs)://(.*)$","i"),Tc=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Sv,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Eo(t,e){try{return Ka(Na(t,e))}catch{}return null}a(Eo,"_parseString");function Na(t,e){if(t==="0x")return null;const r=Ae.from(xr(t,e,e+32)).toNumber(),n=Ae.from(xr(t,r,r+32)).toNumber();return xr(t,r+32,r+32+n)}a(Na,"_parseBytes");function cu(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):yt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}a(cu,"getIpfsLink");function Ic(t){const e=at(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}a(Ic,"numPad");function K3(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}a(K3,"bytesPad");function Cv(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=at(t[n]);e[n]=Ic(r),e.push(Ic(i.length)),e.push(K3(i)),r+=32+Math.ceil(i.length/32)*32}return Lr(e)}a(Cv,"encodeBytes");class rl{constructor(e,r,n,i){Ee(this,"provider",e),Ee(this,"name",n),Ee(this,"address",e.formatter.address(r)),Ee(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Ae.from(e).eq(1)).catch(e=>{if(e.code===ae.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return ct(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Lr([e,mo(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Lr(["0x9061b923",Cv([uS(this.name),n.data])]));try{let s=yield this.provider.call(n);return at(s).length%32===4&&yt.throwError("resolver threw error",ae.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Na(s,0)),s}catch(s){if(s.code===ae.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return ct(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Na(n,0):null})}_getAddress(e,r){const n=V3[String(e)];if(n==null&&yt.throwError(`unsupported coin type: ${e}`,ae.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=at(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Cc(Hr([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Cc(Hr([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const f=Ec.toWords(i.slice(2));return f.unshift(o),Ec.encode(n.prefix,f)}}return null}getAddress(e){return ct(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===NA?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===ae.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",hu(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&yt.throwError("invalid or unsupported coin data",ae.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return ct(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Tc.length;n++){const i=r.match(Tc[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:cu(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const f=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const d=yield this.provider.formatter.address(l[0]),p=zt(Ae.from(l[1]).toHexString(),32);if(s==="erc721"){const O=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:Lr(["0x6352211e",p])}));if(f!==O)return null;e.push({type:"owner",content:O})}else if(s==="erc1155"){const O=Ae.from(yield this.provider.call({to:d,data:Lr(["0x00fdd58e",zt(f,32),p])}));if(O.isZero())return null;e.push({type:"balance",content:O.toString()})}const x={to:this.provider.formatter.address(l[0]),data:Lr([o,p])};let T=Eo(yield this.provider.call(x),0);if(T==null)return null;e.push({type:"metadata-url-base",content:T}),s==="erc1155"&&(T=T.replace("{id}",p.substring(2)),e.push({type:"metadata-url-expanded",content:T})),T.match(/^ipfs:/i)&&(T=cu(T)),e.push({type:"metadata-url",content:T});const R=yield a0(T);if(!R)return null;e.push({type:"metadata",content:JSON.stringify(R)});let N=R.image;if(typeof N!="string")return null;if(!N.match(/^(https:\/\/|data:)/i)){if(N.match(Sv)==null)return null;e.push({type:"url-ipfs",content:N}),N=cu(N)}return e.push({type:"url",content:N}),{linkage:e,url:N}}}}}catch{}return null})}getContentHash(){return ct(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+el.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+el.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+Ng("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return yt.throwError("invalid or unsupported content hash data",ae.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return ct(this,void 0,void 0,function*(){let r=Un(e);r=Hr([hu(64),hu(r.length),r]),r.length%32!==0&&(r=Hr([r,zt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",nt(r));return n==null||n==="0x"?null:Ka(n)})}}a(rl,"Resolver");let du=null,H3=1;class Tv extends Ha{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Ee(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Rn(new.target,"getNetwork")(e);r?(Ee(this,"_network",r),this.emit("network",r,null)):yt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ct(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||yt.throwError("no network detected",ae.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Ee(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return ha(()=>this._ready().then(e=>e,e=>{if(!(e.code===ae.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return du==null&&(du=new rt),du}static getNetwork(e){return A3(e==null?"homestead":e)}ccipReadFetch(e,r,n){return ct(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let f=0;f<n.length;f++){const l=n[f],d=l.replace("{sender}",i).replace("{data}",s),p=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),x=yield a0({url:d,errorPassThrough:!0},p,(R,N)=>(R.status=N.statusCode,R));if(x.data)return x.data;const T=x.message||"unknown error";if(x.status>=400&&x.status<500)return yt.throwError(`response not found during CCIP fetch: ${T}`,ae.errors.SERVER_ERROR,{url:l,errorMessage:T});o.push(T)}return yt.throwError(`error encountered during CCIP fetch: ${o.map(f=>JSON.stringify(f)).join(", ")}`,ae.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return ct(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(sa()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=sa(),n=nr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=sa();return i=Ae.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return ct(this,void 0,void 0,function*(){const e=H3++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)yt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",yt.makeError("network block skew detected",ae.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(f=>(!f||f.blockNumber==null||(this._emitted["t:"+s]=f.blockNumber,this.emit(s,f)),null)).catch(f=>{this.emit("error",f)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const f=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(d=>{d.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=d.blockNumber),this._emitted["b:"+d.blockHash]=d.blockNumber,this._emitted["t:"+d.transactionHash]=d.blockNumber,this.emit(s,d)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(f)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ct(this,void 0,void 0,function*(){return yt.throwError("provider does not support network detection",ae.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return ct(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Sc(0),this._network;const n=yt.makeError("underlying network changed",ae.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=sa();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=sa(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return ct(this,void 0,void 0,function*(){return this._waitForTransaction(e,r==null?1:r,n||0,null)})}_waitForTransaction(e,r,n,i){return ct(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,f)=>{const l=[];let d=!1;const p=a(function(){return d?!0:(d=!0,l.forEach(T=>{T()}),!1)},"alreadyDone"),x=a(T=>{T.confirmations<r||p()||o(T)},"minedHandler");if(this.on(e,x),l.push(()=>{this.removeListener(e,x)}),i){let T=i.startBlock,R=null;const N=a(O=>ct(this,void 0,void 0,function*(){d||(yield Sc(1e3),this.getTransactionCount(i.from).then(B=>ct(this,void 0,void 0,function*(){if(!d){if(B<=i.nonce)T=O;else{{const k=yield this.getTransaction(e);if(k&&k.blockNumber!=null)return}for(R==null&&(R=T-3,R<i.startBlock&&(R=i.startBlock));R<=O;){if(d)return;const k=yield this.getBlockWithTransactions(R);for(let L=0;L<k.transactions.length;L++){const D=k.transactions[L];if(D.hash===e)return;if(D.from===i.from&&D.nonce===i.nonce){if(d)return;const H=yield this.waitForTransaction(D.hash,r);if(p())return;let K="replaced";D.data===i.data&&D.to===i.to&&D.value.eq(i.value)?K="repriced":D.data==="0x"&&D.from===D.to&&D.value.isZero()&&(K="cancelled"),f(yt.makeError("transaction was replaced",ae.errors.TRANSACTION_REPLACED,{cancelled:K==="replaced"||K==="cancelled",reason:K,replacement:this._wrapTransaction(D),hash:e,receipt:H}));return}}R++}}d||this.once("block",N)}}),B=>{d||this.once("block",N)}))}),"replaceHandler");if(d)return;this.once("block",N),l.push(()=>{this.removeListener("block",N)})}if(typeof n=="number"&&n>0){const T=setTimeout(()=>{p()||f(yt.makeError("timeout exceeded",ae.errors.TIMEOUT,{timeout:n}))},n);T.unref&&T.unref(),l.push(()=>{clearTimeout(T)})}})})}getBlockNumber(){return ct(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Ae.from(e)}catch(r){return yt.throwError("bad result from backend",ae.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield nr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Ae.from(i)}catch(s){return yt.throwError("bad result from backend",ae.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield nr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Ae.from(i).toNumber()}catch(s){return yt.throwError("bad result from backend",ae.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield nr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return nt(i)}catch(s){return yt.throwError("bad result from backend",ae.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield nr({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>Wl(o))}),s=yield this.perform("getStorageAt",i);try{return nt(s)}catch(o){return yt.throwError("bad result from backend",ae.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Vi(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&yt.throwError("Transaction hash mismatch from Provider.sendTransaction.",ae.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>ct(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let f;s!==0&&n!=null&&(f={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,s,o,f);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&yt.throwError("transaction failed",ae.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>nt(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return ct(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Ae.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s!=null?s:null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?nt(s):null))}),this.formatter.transactionRequest(yield nr(n))})}_getFilter(e){return ct(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield nr(r))})}_call(e,r,n){return ct(this,void 0,void 0,function*(){n>=D3&&yt.throwError("CCIP read exceeded maximum redirections",ae.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Vi(s)%32===4)try{const o=xr(s,4),f=xr(o,0,32);Ae.from(f).eq(i)||yt.throwError("CCIP Read sender did not match",ae.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],d=Ae.from(xr(o,32,64)).toNumber(),p=Ae.from(xr(o,d,d+32)).toNumber(),x=xr(o,d+32);for(let k=0;k<p;k++){const L=Eo(x,k*32);L==null&&yt.throwError("CCIP Read contained corrupt URL string",ae.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(L)}const T=Na(o,64);Ae.from(xr(o,100,128)).isZero()||yt.throwError("CCIP Read callback selector included junk",ae.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const R=xr(o,96,100),N=Na(o,128),O=yield this.ccipReadFetch(e,T,l);O==null&&yt.throwError("CCIP Read disabled or provided no URLs",ae.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const B={to:i,data:Lr([R,Cv([O,N])])};return this._call(B,r,n+1)}catch(o){if(o.code===ae.errors.SERVER_ERROR)throw o}try{return nt(s)}catch(o){return yt.throwError("bad result from backend",ae.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield nr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield nr({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Ae.from(n)}catch(i){return yt.throwError("bad result from backend",ae.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return ct(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&yt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&yt.throwError("ENS name not configured",ae.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return ct(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Nt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Nt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{yt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ha(()=>ct(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let l=0;l<s.transactions.length;l++){const d=s.transactions[l];if(d.blockNumber==null)d.confirmations=0;else if(d.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let p=o-d.blockNumber+1;p<=0&&(p=1),d.confirmations=p}}const f=this.formatter.blockWithTransactions(s);return f.transactions=f.transactions.map(l=>this._wrapTransaction(l)),f}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ha(()=>ct(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ha(()=>ct(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield nr({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),rt.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return ct(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return ct(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&yt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return ct(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new rl(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return ct(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||yt.throwError("network does not support ENS",ae.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+mo(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return ct(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Nt(e))throw n}typeof e!="string"&&yt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return ct(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Eo(yield this.call({to:n,data:"0x691f3431"+mo(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return ct(this,void 0,void 0,function*(){let r=null;if(Nt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new rl(this,o,s);try{const f=yield r.getAvatar();if(f)return f.url}catch(f){if(f.code!==ae.errors.CALL_EXCEPTION)throw f}try{const f=Eo(yield this.call({to:o,data:"0x691f3431"+mo(s).substring(2)}),0);r=yield this.getResolver(f)}catch(f){if(f.code!==ae.errors.CALL_EXCEPTION)throw f;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return yt.throwError(e+" not implemented",ae.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new Av(Zi(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Zi(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Zi(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Zi(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Zi(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Zi(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}a(Tv,"BaseProvider");var Jn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return a(i,"adopt"),new(r||(r=Promise))(function(s,o){function f(p){try{d(n.next(p))}catch(x){o(x)}}a(f,"fulfilled");function l(p){try{d(n.throw(p))}catch(x){o(x)}}a(l,"rejected");function d(p){p.done?s(p.value):i(p.value).then(f,l)}a(d,"step"),d((n=n.apply(t,e||[])).next())})};const ir=new ae(Rf),G3=["call","estimateGas"];function ma(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Nt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=ma(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return ma(JSON.parse(t),e)}catch{}return null}a(ma,"spelunk");function Iv(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=ma(e,!0);if(s)return s.data;ir.throwError("missing revert data in call exception; Transaction reverted without a reason string",ae.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=ma(e.body,!1);s==null&&(s=ma(e,!1)),s&&ir.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ae.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===ae.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&ir.throwError("insufficient funds for intrinsic transaction cost",ae.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&ir.throwError("nonce has already been used",ae.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&ir.throwError("replacement fee too low",ae.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&ir.throwError("legacy pre-eip-155 transactions not supported",ae.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),G3.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&ir.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ae.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}a(Iv,"checkError");function Mc(t){return new Promise(function(e){setTimeout(e,t)})}a(Mc,"timer");function j3(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}a(j3,"getResult");function aa(t){return t&&t.toLowerCase()}a(aa,"getLowerCase");const nl={};class o0 extends Ks{constructor(e,r,n){if(super(),e!==nl)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Ee(this,"provider",r),n==null&&(n=0),typeof n=="string"?(Ee(this,"_address",this.provider.formatter.address(n)),Ee(this,"_index",null)):typeof n=="number"?(Ee(this,"_index",n),Ee(this,"_address",null)):ir.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return ir.throwError("cannot alter JSON-RPC Signer connection",ae.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Mv(nl,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&ir.throwError("unknown account #"+this._index,ae.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=fr(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=fr(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Jn(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&ir.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),nr({tx:nr(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&ir.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&ir.throwError("user rejected transaction",ae.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Iv("sendTransaction",o,s)))})}signTransaction(e){return ir.throwError("signing transactions is unsupported",ae.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Jn(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield ha(()=>Jn(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Jn(this,void 0,void 0,function*(){const r=typeof e=="string"?Un(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[nt(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&ir.throwError("user rejected signing",ae.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Jn(this,void 0,void 0,function*(){const r=typeof e=="string"?Un(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),nt(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&ir.throwError("user rejected signing",ae.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Jn(this,void 0,void 0,function*(){const i=yield Or.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Or.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&ir.throwError("user rejected signing",ae.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return Jn(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}a(o0,"JsonRpcSigner");class Mv extends o0{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}a(Mv,"UncheckedJsonRpcSigner");const z3={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class f0 extends Tv{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Rn(this.constructor,"defaultUrl")()),typeof e=="string"?Ee(this,"connection",Object.freeze({url:e})):Ee(this,"connection",Object.freeze(fr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Jn(this,void 0,void 0,function*(){yield Mc(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Rn(this.constructor,"getNetwork");try{return r(Ae.from(e).toNumber())}catch(n){return ir.throwError("could not detect network",ae.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return ir.throwError("could not detect network",ae.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new o0(nl,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:ii(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=a0(this.connection,JSON.stringify(n),j3).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[aa(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[aa(r.address),r.blockTag]];case"getCode":return["eth_getCode",[aa(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[aa(r.address),zt(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Rn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Rn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=aa(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Jn(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&Ae.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=fr(r),r.transaction=fr(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&ir.throwError(e+" not implemented",ae.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Iv(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(f){e._emitted["t:"+f.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(f).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return Mc(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return a(i,"poll"),i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=fr(z3);if(r)for(const s in r)r[s]&&(n[s]=!0);hA(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Wl(Ae.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=nt(e[s]))}),e.accessList&&(i.accessList=$s(e.accessList)),i}}a(f0,"JsonRpcProvider");const Nc=new ae(Rf);let $3=1;function Rc(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:$3++,jsonrpc:"2.0"};return new Promise((o,f)=>{this.emit("debug",{action:"request",fetcher:r,request:ii(s),provider:this}),e(s,(l,d)=>{if(l)return this.emit("debug",{action:"response",fetcher:r,error:l,request:s,provider:this}),f(l);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:d,provider:this}),d.error){const p=new Error(d.error.message);return p.code=d.error.code,p.data=d.error.data,f(p)}o(d.result)})})}}a(Rc,"buildWeb3LegacyFetcher");function W3(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:ii(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}a(W3,"buildEip1193Fetcher");class Nv extends f0{constructor(e,r){e==null&&Nc.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=W3(e)):e.sendAsync?i=Rc(e,e.sendAsync.bind(e)):e.send?i=Rc(e,e.send.bind(e)):Nc.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),Ee(this,"jsonRpcFetchFunc",i),Ee(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}a(Nv,"Web3Provider");const Q3="units/5.7.0",Y3=new ae(Q3),Rv=["wei","kwei","mwei","gwei","szabo","finney","ether"];function J3(t,e){if(typeof e=="string"){const r=Rv.indexOf(e);r!==-1&&(e=3*r)}return go(t,e!=null?e:18)}a(J3,"formatUnits");function X3(t,e){if(typeof t!="string"&&Y3.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=Rv.indexOf(e);r!==-1&&(e=3*r)}return wn(t,e!=null?e:18)}a(X3,"parseUnits");const pu="43d61dcd-e413-450d-80b8-101d5e903357",Oi={blockExplorerUrls:["https://scan.mvm.dev/"],chainId:"0x120c7",chainName:"Mixin Virtual Machine",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:["https://geth.mvm.dev"]},Z3="https://geth.mvm.dev/",eT="0x3c84B6C98FBeB813e05a7A7813F0442883450B1F",tT="0x0915EaE769D68128EEd9711A0bc4097831BE57F3";function rT(t,e=!1){return X3(t,e?18:8).toString()}a(rT,"fmtWithdrawAmount");function Bc(t,e=!1){return J3(t,e?18:8).toString()}a(Bc,"fmtBalance");function kc(t,e=3e4){if(!!t)return Promise.race([t,new Promise((r,n)=>{setTimeout(()=>{n(new Error("Operation Timeout"))},e)})])}a(kc,"wrapPromiseWithTimeout");const nT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Bv(t){return typeof t=="string"&&nT.test(t)}a(Bv,"validate");var vr=[];for(var gu=0;gu<256;++gu)vr.push((gu+256).toString(16).substr(1));function iT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(vr[t[e+0]]+vr[t[e+1]]+vr[t[e+2]]+vr[t[e+3]]+"-"+vr[t[e+4]]+vr[t[e+5]]+"-"+vr[t[e+6]]+vr[t[e+7]]+"-"+vr[t[e+8]]+vr[t[e+9]]+"-"+vr[t[e+10]]+vr[t[e+11]]+vr[t[e+12]]+vr[t[e+13]]+vr[t[e+14]]+vr[t[e+15]]).toLowerCase();if(!Bv(r))throw TypeError("Stringified UUID is invalid");return r}a(iT,"stringify");function sT(t){if(!Bv(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}a(sT,"parse");const aT=[{type:"constructor",stateMutability:"nonpayable",inputs:[{type:"uint128",name:"_id",internalType:"uint128"},{type:"string",name:"_name",internalType:"string"},{type:"string",name:"_symbol",internalType:"string"}]},{type:"event",name:"Approval",inputs:[{type:"address",name:"owner",internalType:"address",indexed:!0},{type:"address",name:"spender",internalType:"address",indexed:!0},{type:"uint256",name:"value",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{type:"address",name:"from",internalType:"address",indexed:!0},{type:"address",name:"to",internalType:"address",indexed:!0},{type:"uint256",name:"value",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"remaining",internalType:"uint256"}],name:"allowance",inputs:[{type:"address",name:"_owner",internalType:"address"},{type:"address",name:"_spender",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"approve",inputs:[{type:"address",name:"_spender",internalType:"address"},{type:"uint256",name:"_value",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"balance",internalType:"uint256"}],name:"balanceOf",inputs:[{type:"address",name:"_owner",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"burn",inputs:[{type:"address",name:"to",internalType:"address"},{type:"uint256",name:"value",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint8",name:"",internalType:"uint8"}],name:"decimals",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint128",name:"",internalType:"uint128"}],name:"id",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"mint",inputs:[{type:"address",name:"to",internalType:"address"},{type:"uint256",name:"value",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"string",name:"",internalType:"string"}],name:"name",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"registry",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"string",name:"",internalType:"string"}],name:"symbol",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"totalSupply",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"transfer",inputs:[{type:"address",name:"to",internalType:"address"},{type:"uint256",name:"value",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"transferFrom",inputs:[{type:"address",name:"from",internalType:"address"},{type:"address",name:"to",internalType:"address"},{type:"uint256",name:"value",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"transferWithExtra",inputs:[{type:"address",name:"to",internalType:"address"},{type:"uint256",name:"value",internalType:"uint256"},{type:"bytes",name:"extra",internalType:"bytes"}]}],oT=[{type:"constructor",stateMutability:"nonpayable",inputs:[{type:"address",name:"factory",internalType:"address"},{type:"address",name:"xin",internalType:"address"}]},{type:"event",name:"Bound",inputs:[{type:"address",name:"from",internalType:"address",indexed:!0},{type:"address",name:"to",internalType:"address",indexed:!0}],anonymous:!1},{type:"event",name:"Through",inputs:[{type:"address",name:"asset",internalType:"address",indexed:!0},{type:"address",name:"from",internalType:"address",indexed:!0},{type:"address",name:"to",internalType:"address",indexed:!0},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"Vault",inputs:[{type:"address",name:"from",internalType:"address",indexed:!0},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"BASE",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"FACTORY",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"OWNER",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"XIN",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"bind",inputs:[{type:"address",name:"receiver",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"bridges",inputs:[{type:"address",name:"",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"pass",inputs:[{type:"address",name:"asset",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"payable",outputs:[],name:"release",inputs:[{type:"address",name:"receiver",internalType:"address"},{type:"bytes",name:"input",internalType:"bytes"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"vault",inputs:[{type:"address",name:"asset",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"receive",stateMutability:"payable"}],fT=[{type:"constructor",stateMutability:"nonpayable",inputs:[{type:"bytes",name:"raw",internalType:"bytes"},{type:"uint128",name:"pid",internalType:"uint128"}]},{type:"event",name:"AssetCreated",inputs:[{type:"address",name:"at",internalType:"address",indexed:!0},{type:"uint256",name:"id",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"Halted",inputs:[{type:"bool",name:"state",internalType:"bool",indexed:!1}],anonymous:!1},{type:"event",name:"Iterated",inputs:[{type:"uint256[4]",name:"from",internalType:"uint256[4]",indexed:!1},{type:"uint256[4]",name:"to",internalType:"uint256[4]",indexed:!1}],anonymous:!1},{type:"event",name:"MixinEvent",inputs:[{type:"uint64",name:"nonce",internalType:"uint64",indexed:!0},{type:"address",name:"user",internalType:"address",indexed:!0},{type:"address",name:"asset",internalType:"address",indexed:!0},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1},{type:"bytes",name:"extra",internalType:"bytes",indexed:!1},{type:"uint64",name:"timestamp",internalType:"uint64",indexed:!1}],anonymous:!1},{type:"event",name:"MixinTransaction",inputs:[{type:"bytes",name:"raw",internalType:"bytes",indexed:!1}],anonymous:!1},{type:"event",name:"UserCreated",inputs:[{type:"address",name:"at",internalType:"address",indexed:!0},{type:"bytes",name:"members",internalType:"bytes",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"GROUP",inputs:[{type:"uint256",name:"",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"HALTED",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint64",name:"",internalType:"uint64"}],name:"INBOUND",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint64",name:"",internalType:"uint64"}],name:"OUTBOUND",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint128",name:"",internalType:"uint128"}],name:"PID",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"VERSION",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint128",name:"",internalType:"uint128"}],name:"assets",inputs:[{type:"address",name:"",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"balances",inputs:[{type:"uint128",name:"",internalType:"uint128"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"burn",inputs:[{type:"address",name:"user",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"},{type:"bytes",name:"extra",internalType:"bytes"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"claim",inputs:[{type:"address",name:"asset",internalType:"address"},{type:"uint256",name:"amount",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"contracts",inputs:[{type:"uint256",name:"",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"halt",inputs:[{type:"bytes",name:"raw",internalType:"bytes"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"iterate",inputs:[{type:"bytes",name:"raw",internalType:"bytes"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"mixin",inputs:[{type:"bytes",name:"raw",internalType:"bytes"}]},{type:"function",stateMutability:"view",outputs:[{type:"bytes",name:"",internalType:"bytes"}],name:"users",inputs:[{type:"address",name:"",internalType:"address"}]}];class kv{constructor(e){this.signer=void 0,this.contractEntries=[],this.registryContract=new xo(eT,fT,new f0(Z3)),this.signer=e.getSigner()}async getContractAddressByAssetId(e){const r=this.contractEntries.find(({asset_id:i})=>i===e);if(r)return r.contract_address;const n=await this.registryContract.contracts(nt(sT(e)));return this.contractEntries.push({asset_id:e,contract_address:n}),n}async getAssetIdByContractAddress(e){const r=this.contractEntries.find(({contract_address:n})=>n===e);if(r)return r.asset_id;try{const n=await this.registryContract.assets(e),i=iT(at(n));return this.contractEntries.push({asset_id:i,contract_address:e}),i}catch{return""}}async execAssetContract(e,r,n){const i=await this.getContractAddressByAssetId(e);return new xo(i,aT,this.signer)[r](...n,{gasPrice:1e7})}execBridgeContract(e,r,n){return new xo(tT,oT,this.signer)[e](...r,{gasPrice:1e7,value:n})}}a(kv,"ContractOpt");class Pv{constructor(e){this.assets={},this.api=void 0,this.api=e}async getAsset(e){const r=new Date().getTime(),n=this.assets[e];if(n&&r-n.time<5*60*1e3)return n.data;const i=await this.api.endpoints.getAsset(e);return this.assets[e]={data:i,time:new Date().getTime()},i}}a(Pv,"Cache");async function Ov(t){return(await Oa.post("https://bridge.mvm.dev/users",{public_key:t})).data.user}a(Ov,"getProxyUser");async function uT(t){var e;const r=await Ov(t);return(e=r==null?void 0:r.contract)!==null&&e!==void 0?e:""}a(uT,"getProxyUserContract");async function lT(t){return"0x"+(await Oa.post("https://bridge.mvm.dev/extra",t)).data.extra}a(lT,"getExtra");async function hT(t){return(await Oa.get("https://scan.mvm.dev/api",{params:{action:"tokenlist",address:t,module:"account"}})).data.result}a(hT,"getTokenList");const io={getExtra:lT,getProxyUser:Ov,getProxyUserContract:uT,getTokenList:hT};function cT({mustBeMetaMask:t=!1,silent:e=!1,timeout:r=3e3}={}){i();let n=!1;return new Promise(s=>{window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout(()=>{o()},r));function o(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",o);const{ethereum:f}=window;f&&(!t||f.isMetaMask)?s(f):(!e&&console.error("@metamask/detect-provider:",t&&f?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum."),s(null))}a(o,"handleEthereum")});function i(){if(typeof t!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof e!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof r!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}a(cT,"detectEthereumProvider");var dT=cT;async function pT(){const t=await dT({mustBeMetaMask:!0});return await t.request({method:"eth_requestAccounts"}),t}a(pT,"metamask");var u0={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.getLocalStorage=Lt.getLocalStorageOrThrow=Lt.getCrypto=Lt.getCryptoOrThrow=Lt.getLocation=Lt.getLocationOrThrow=Lt.getNavigator=Lt.getNavigatorOrThrow=Lt.getDocument=Lt.getDocumentOrThrow=Lt.getFromWindowOrThrow=Lt.getFromWindow=void 0;function Wi(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}a(Wi,"getFromWindow$2");Lt.getFromWindow=Wi;function Ws(t){const e=Wi(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}a(Ws,"getFromWindowOrThrow$2");Lt.getFromWindowOrThrow=Ws;function gT(){return Ws("document")}a(gT,"getDocumentOrThrow$2");Lt.getDocumentOrThrow=gT;function vT(){return Wi("document")}a(vT,"getDocument$2");Lt.getDocument=vT;function mT(){return Ws("navigator")}a(mT,"getNavigatorOrThrow$2");Lt.getNavigatorOrThrow=mT;function yT(){return Wi("navigator")}a(yT,"getNavigator$2");Lt.getNavigator=yT;function wT(){return Ws("location")}a(wT,"getLocationOrThrow$2");Lt.getLocationOrThrow=wT;function bT(){return Wi("location")}a(bT,"getLocation$2");Lt.getLocation=bT;function xT(){return Ws("crypto")}a(xT,"getCryptoOrThrow$2");Lt.getCryptoOrThrow=xT;function ET(){return Wi("crypto")}a(ET,"getCrypto$2");Lt.getCrypto=ET;function _T(){return Ws("localStorage")}a(_T,"getLocalStorageOrThrow$2");Lt.getLocalStorageOrThrow=_T;function AT(){return Wi("localStorage")}a(AT,"getLocalStorage$2");Lt.getLocalStorage=AT;Object.defineProperty(u0,"__esModule",{value:!0});var Lv=u0.getWindowMetadata=void 0;const Pc=Lt;function ST(){let t,e;try{t=Pc.getDocumentOrThrow(),e=Pc.getLocationOrThrow()}catch{return null}function r(){const x=t.getElementsByTagName("link"),T=[];for(let R=0;R<x.length;R++){const N=x[R],O=N.getAttribute("rel");if(O&&O.toLowerCase().indexOf("icon")>-1){const B=N.getAttribute("href");if(B)if(B.toLowerCase().indexOf("https:")===-1&&B.toLowerCase().indexOf("http:")===-1&&B.indexOf("//")!==0){let k=e.protocol+"//"+e.host;if(B.indexOf("/")===0)k+=B;else{const L=e.pathname.split("/");L.pop();const D=L.join("/");k+=D+"/"+B}T.push(k)}else if(B.indexOf("//")===0){const k=e.protocol+B;T.push(k)}else T.push(B)}}return T}a(r,"getIcons");function n(...x){const T=t.getElementsByTagName("meta");for(let R=0;R<T.length;R++){const N=T[R],O=["itemprop","property","name"].map(B=>N.getAttribute(B)).filter(B=>B?x.includes(B):!1);if(O.length&&O){const B=N.getAttribute("content");if(B)return B}}return""}a(n,"getWindowMetadataOfAny");function i(){let x=n("name","og:site_name","og:title","twitter:title");return x||(x=t.title),x}a(i,"getName");function s(){return n("description","og:description","twitter:description","keywords")}a(s,"getDescription");const o=i(),f=s(),l=e.origin,d=r();return{description:f,url:l,icons:d,name:o}}a(ST,"getWindowMetadata");Lv=u0.getWindowMetadata=ST;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});var Uv=qt.getLocalStorage=Wv=qt.getLocalStorageOrThrow=$v=qt.getCrypto=zv=qt.getCryptoOrThrow=jv=qt.getLocation=Gv=qt.getLocationOrThrow=Hv=qt.getNavigator=Kv=qt.getNavigatorOrThrow=Vv=qt.getDocument=qv=qt.getDocumentOrThrow=Fv=qt.getFromWindowOrThrow=Dv=qt.getFromWindow=void 0;function Qi(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}a(Qi,"getFromWindow$1");var Dv=qt.getFromWindow=Qi;function Qs(t){const e=Qi(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}a(Qs,"getFromWindowOrThrow$1");var Fv=qt.getFromWindowOrThrow=Qs;function CT(){return Qs("document")}a(CT,"getDocumentOrThrow$1");var qv=qt.getDocumentOrThrow=CT;function TT(){return Qi("document")}a(TT,"getDocument$1");var Vv=qt.getDocument=TT;function IT(){return Qs("navigator")}a(IT,"getNavigatorOrThrow$1");var Kv=qt.getNavigatorOrThrow=IT;function MT(){return Qi("navigator")}a(MT,"getNavigator$1");var Hv=qt.getNavigator=MT;function NT(){return Qs("location")}a(NT,"getLocationOrThrow$1");var Gv=qt.getLocationOrThrow=NT;function RT(){return Qi("location")}a(RT,"getLocation$1");var jv=qt.getLocation=RT;function BT(){return Qs("crypto")}a(BT,"getCryptoOrThrow$1");var zv=qt.getCryptoOrThrow=BT;function kT(){return Qi("crypto")}a(kT,"getCrypto$1");var $v=qt.getCrypto=kT;function PT(){return Qs("localStorage")}a(PT,"getLocalStorageOrThrow$1");var Wv=qt.getLocalStorageOrThrow=PT;function OT(){return Qi("localStorage")}a(OT,"getLocalStorage$1");Uv=qt.getLocalStorage=OT;var LT=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,f=s.length;o<f;o++,i++)n[i]=s[o];return n},UT=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return a(t,"BrowserInfo"),t}(),DT=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return a(t,"NodeInfo"),t}(),FT=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return a(t,"SearchBotDeviceInfo"),t}(),qT=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return a(t,"BotInfo"),t}(),VT=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return a(t,"ReactNativeInfo"),t}(),KT=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,HT=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Oc=3,GT=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",KT]],Lc=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function jT(t){return t?Uc(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new VT:typeof navigator<"u"?Uc(navigator.userAgent):WT()}a(jT,"detect");function zT(t){return t!==""&&GT.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}a(zT,"matchUserAgent");function Uc(t){var e=zT(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new qT;var i=n[1]&&n[1].split(/[._]/).slice(0,3);i?i.length<Oc&&(i=LT(i,QT(Oc-i.length))):i=[];var s=i.join("."),o=$T(t),f=HT.exec(t);return f&&f[1]?new FT(r,s,o,f[1]):new UT(r,s,o)}a(Uc,"parseUserAgent");function $T(t){for(var e=0,r=Lc.length;e<r;e++){var n=Lc[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}a($T,"detectOS$1");function WT(){var t=typeof process<"u"&&process.version;return t?new DT(process.version.slice(1)):null}a(WT,"getNodeVersion");function QT(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}a(QT,"createVersionParts");function Bf(t){return jT(t)}a(Bf,"detectEnv");function kf(){const t=Bf();return t&&t.os?t.os:void 0}a(kf,"detectOS");function Qv(){const t=kf();return t?t.toLowerCase().includes("android"):!1}a(Qv,"isAndroid");function Yv(){const t=kf();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}a(Yv,"isIOS");function Jv(){return kf()?Qv()||Yv():!1}a(Jv,"isMobile");function Xv(){const t=Bf();return t&&t.name?t.name.toLowerCase()==="node":!1}a(Xv,"isNode$1");function Zv(){return!Xv()&&!!tm()}a(Zv,"isBrowser");const em=Dv,YT=Fv,JT=qv,XT=Vv,ZT=Kv,tm=Hv,eI=Gv,rm=jv,tI=zv,rI=$v,nI=Wv,Pf=Uv;function il(){return Lv()}a(il,"getClientMeta");function iI(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}a(iI,"safeJsonParse$1");function sI(t){return typeof t=="string"?t:JSON.stringify(t)}a(sI,"safeJsonStringify$1");const nm=iI,im=sI;function l0(t,e){const r=im(e),n=Pf();n&&n.setItem(t,r)}a(l0,"setLocal");function h0(t){let e=null,r=null;const n=Pf();return n&&(r=n.getItem(t)),e=r&&nm(r),e}a(h0,"getLocal");function c0(t){const e=Pf();e&&e.removeItem(t)}a(c0,"removeLocal");const Xo="WALLETCONNECT_DEEPLINK_CHOICE";function aI(t,e){const r=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${r}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}a(aI,"formatIOSMobile");function oI(t){const e=t.href.split("?")[0];l0(Xo,Object.assign(Object.assign({},t),{href:e}))}a(oI,"saveMobileLinkInfo");function sm(t,e){return t.filter(r=>r.name.toLowerCase().includes(e.toLowerCase()))[0]}a(sm,"getMobileRegistryEntry");function fI(t,e){let r=t;return e&&(r=e.map(n=>sm(t,n)).filter(Boolean)),r}a(fI,"getMobileLinkRegistry");const am="https://registry.walletconnect.com";function uI(){return am+"/api/v2/wallets"}a(uI,"getWalletRegistryUrl");function lI(){return am+"/api/v2/dapps"}a(lI,"getDappRegistryUrl");function om(t,e="mobile"){var r;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(r=t.image_url.sm)!==null&&r!==void 0?r:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}a(om,"formatMobileRegistryEntry");function hI(t,e="mobile"){return Object.values(t).filter(r=>!!r[e].universal||!!r[e].native).map(r=>om(r,e))}a(hI,"formatMobileRegistry");const cI=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:Bf,detectOS:kf,isAndroid:Qv,isIOS:Yv,isMobile:Jv,isNode:Xv,isBrowser:Zv,getFromWindow:em,getFromWindowOrThrow:YT,getDocumentOrThrow:JT,getDocument:XT,getNavigatorOrThrow:ZT,getNavigator:tm,getLocationOrThrow:eI,getLocation:rm,getCryptoOrThrow:tI,getCrypto:rI,getLocalStorageOrThrow:nI,getLocalStorage:Pf,getClientMeta:il,safeJsonParse:nm,safeJsonStringify:im,setLocal:l0,getLocal:h0,removeLocal:c0,mobileLinkChoiceKey:Xo,formatIOSMobile:aI,saveMobileLinkInfo:oI,getMobileRegistryEntry:sm,getMobileLinkRegistry:fI,getWalletRegistryUrl:uI,getDappRegistryUrl:lI,formatMobileRegistryEntry:om,formatMobileRegistry:hI},Symbol.toStringTag,{value:"Module"})),dI=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],d0=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],pI={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var fm={exports:{}};(function(t){(function(e,r){function n(P,b){if(!P)throw new Error(b||"Assertion failed")}a(n,"assert");function i(P,b){P.super_=b;var S=a(function(){},"TempCtor");S.prototype=b.prototype,P.prototype=new S,P.prototype.constructor=P}a(i,"inherits");function s(P,b,S){if(s.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((b==="le"||b==="be")&&(S=b,b=10),this._init(P||0,b||10,S||"be"))}a(s,"BN"),typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{o=Gr.Buffer}catch{}s.isBN=a(function(b){return b instanceof s?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===s.wordSize&&Array.isArray(b.words)},"isBN"),s.max=a(function(b,S){return b.cmp(S)>0?b:S},"max"),s.min=a(function(b,S){return b.cmp(S)<0?b:S},"min"),s.prototype._init=a(function(b,S,m){if(typeof b=="number")return this._initNumber(b,S,m);if(typeof b=="object")return this._initArray(b,S,m);S==="hex"&&(S=16),n(S===(S|0)&&S>=2&&S<=36),b=b.toString().replace(/\s+/g,"");var u=0;b[0]==="-"&&u++,S===16?this._parseHex(b,u):this._parseBase(b,S,u),b[0]==="-"&&(this.negative=1),this.strip(),m==="le"&&this._initArray(this.toArray(),S,m)},"init"),s.prototype._initNumber=a(function(b,S,m){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),S,m)},"_initNumber"),s.prototype._initArray=a(function(b,S,m){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var c,v,y=0;if(m==="be")for(u=b.length-1,c=0;u>=0;u-=3)v=b[u]|b[u-1]<<8|b[u-2]<<16,this.words[c]|=v<<y&67108863,this.words[c+1]=v>>>26-y&67108863,y+=24,y>=26&&(y-=26,c++);else if(m==="le")for(u=0,c=0;u<b.length;u+=3)v=b[u]|b[u+1]<<8|b[u+2]<<16,this.words[c]|=v<<y&67108863,this.words[c+1]=v>>>26-y&67108863,y+=24,y>=26&&(y-=26,c++);return this.strip()},"_initArray");function f(P,b,S){for(var m=0,u=Math.min(P.length,S),c=b;c<u;c++){var v=P.charCodeAt(c)-48;m<<=4,v>=49&&v<=54?m|=v-49+10:v>=17&&v<=22?m|=v-17+10:m|=v&15}return m}a(f,"parseHex"),s.prototype._parseHex=a(function(b,S){this.length=Math.ceil((b.length-S)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var u,c,v=0;for(m=b.length-6,u=0;m>=S;m-=6)c=f(b,m,m+6),this.words[u]|=c<<v&67108863,this.words[u+1]|=c>>>26-v&4194303,v+=24,v>=26&&(v-=26,u++);m+6!==S&&(c=f(b,S,m+6),this.words[u]|=c<<v&67108863,this.words[u+1]|=c>>>26-v&4194303),this.strip()},"_parseHex");function l(P,b,S,m){for(var u=0,c=Math.min(P.length,S),v=b;v<c;v++){var y=P.charCodeAt(v)-48;u*=m,y>=49?u+=y-49+10:y>=17?u+=y-17+10:u+=y}return u}a(l,"parseBase"),s.prototype._parseBase=a(function(b,S,m){this.words=[0],this.length=1;for(var u=0,c=1;c<=67108863;c*=S)u++;u--,c=c/S|0;for(var v=b.length-m,y=v%u,E=Math.min(v,v-y)+m,g=0,_=m;_<E;_+=u)g=l(b,_,_+u,S),this.imuln(c),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(y!==0){var w=1;for(g=l(b,_,b.length,S),_=0;_<y;_++)w*=S;this.imuln(w),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}},"_parseBase"),s.prototype.copy=a(function(b){b.words=new Array(this.length);for(var S=0;S<this.length;S++)b.words[S]=this.words[S];b.length=this.length,b.negative=this.negative,b.red=this.red},"copy"),s.prototype.clone=a(function(){var b=new s(null);return this.copy(b),b},"clone"),s.prototype._expand=a(function(b){for(;this.length<b;)this.words[this.length++]=0;return this},"_expand"),s.prototype.strip=a(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),s.prototype._normSign=a(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),s.prototype.inspect=a(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=a(function(b,S){b=b||10,S=S|0||1;var m;if(b===16||b==="hex"){m="";for(var u=0,c=0,v=0;v<this.length;v++){var y=this.words[v],E=((y<<u|c)&16777215).toString(16);c=y>>>24-u&16777215,c!==0||v!==this.length-1?m=d[6-E.length]+E+m:m=E+m,u+=2,u>=26&&(u-=26,v--)}for(c!==0&&(m=c.toString(16)+m);m.length%S!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(b===(b|0)&&b>=2&&b<=36){var g=p[b],_=x[b];m="";var w=this.clone();for(w.negative=0;!w.isZero();){var h=w.modn(_).toString(b);w=w.idivn(_),w.isZero()?m=h+m:m=d[g-h.length]+h+m}for(this.isZero()&&(m="0"+m);m.length%S!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},"toString"),s.prototype.toNumber=a(function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},"toNumber"),s.prototype.toJSON=a(function(){return this.toString(16)},"toJSON"),s.prototype.toBuffer=a(function(b,S){return n(typeof o<"u"),this.toArrayLike(o,b,S)},"toBuffer"),s.prototype.toArray=a(function(b,S){return this.toArrayLike(Array,b,S)},"toArray"),s.prototype.toArrayLike=a(function(b,S,m){var u=this.byteLength(),c=m||Math.max(1,u);n(u<=c,"byte array longer than desired length"),n(c>0,"Requested array length <= 0"),this.strip();var v=S==="le",y=new b(c),E,g,_=this.clone();if(v){for(g=0;!_.isZero();g++)E=_.andln(255),_.iushrn(8),y[g]=E;for(;g<c;g++)y[g]=0}else{for(g=0;g<c-u;g++)y[g]=0;for(g=0;!_.isZero();g++)E=_.andln(255),_.iushrn(8),y[c-g-1]=E}return y},"toArrayLike"),Math.clz32?s.prototype._countBits=a(function(b){return 32-Math.clz32(b)},"_countBits"):s.prototype._countBits=a(function(b){var S=b,m=0;return S>=4096&&(m+=13,S>>>=13),S>=64&&(m+=7,S>>>=7),S>=8&&(m+=4,S>>>=4),S>=2&&(m+=2,S>>>=2),m+S},"_countBits"),s.prototype._zeroBits=a(function(b){if(b===0)return 26;var S=b,m=0;return(S&8191)===0&&(m+=13,S>>>=13),(S&127)===0&&(m+=7,S>>>=7),(S&15)===0&&(m+=4,S>>>=4),(S&3)===0&&(m+=2,S>>>=2),(S&1)===0&&m++,m},"_zeroBits"),s.prototype.bitLength=a(function(){var b=this.words[this.length-1],S=this._countBits(b);return(this.length-1)*26+S},"bitLength");function T(P){for(var b=new Array(P.bitLength()),S=0;S<b.length;S++){var m=S/26|0,u=S%26;b[S]=(P.words[m]&1<<u)>>>u}return b}a(T,"toBitArray"),s.prototype.zeroBits=a(function(){if(this.isZero())return 0;for(var b=0,S=0;S<this.length;S++){var m=this._zeroBits(this.words[S]);if(b+=m,m!==26)break}return b},"zeroBits"),s.prototype.byteLength=a(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),s.prototype.toTwos=a(function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},"toTwos"),s.prototype.fromTwos=a(function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},"fromTwos"),s.prototype.isNeg=a(function(){return this.negative!==0},"isNeg"),s.prototype.neg=a(function(){return this.clone().ineg()},"neg"),s.prototype.ineg=a(function(){return this.isZero()||(this.negative^=1),this},"ineg"),s.prototype.iuor=a(function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var S=0;S<b.length;S++)this.words[S]=this.words[S]|b.words[S];return this.strip()},"iuor"),s.prototype.ior=a(function(b){return n((this.negative|b.negative)===0),this.iuor(b)},"ior"),s.prototype.or=a(function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},"or"),s.prototype.uor=a(function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},"uor"),s.prototype.iuand=a(function(b){var S;this.length>b.length?S=b:S=this;for(var m=0;m<S.length;m++)this.words[m]=this.words[m]&b.words[m];return this.length=S.length,this.strip()},"iuand"),s.prototype.iand=a(function(b){return n((this.negative|b.negative)===0),this.iuand(b)},"iand"),s.prototype.and=a(function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},"and"),s.prototype.uand=a(function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},"uand"),s.prototype.iuxor=a(function(b){var S,m;this.length>b.length?(S=this,m=b):(S=b,m=this);for(var u=0;u<m.length;u++)this.words[u]=S.words[u]^m.words[u];if(this!==S)for(;u<S.length;u++)this.words[u]=S.words[u];return this.length=S.length,this.strip()},"iuxor"),s.prototype.ixor=a(function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},"ixor"),s.prototype.xor=a(function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},"xor"),s.prototype.uxor=a(function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},"uxor"),s.prototype.inotn=a(function(b){n(typeof b=="number"&&b>=0);var S=Math.ceil(b/26)|0,m=b%26;this._expand(S),m>0&&S--;for(var u=0;u<S;u++)this.words[u]=~this.words[u]&67108863;return m>0&&(this.words[u]=~this.words[u]&67108863>>26-m),this.strip()},"inotn"),s.prototype.notn=a(function(b){return this.clone().inotn(b)},"notn"),s.prototype.setn=a(function(b,S){n(typeof b=="number"&&b>=0);var m=b/26|0,u=b%26;return this._expand(m+1),S?this.words[m]=this.words[m]|1<<u:this.words[m]=this.words[m]&~(1<<u),this.strip()},"setn"),s.prototype.iadd=a(function(b){var S;if(this.negative!==0&&b.negative===0)return this.negative=0,S=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,S=this.isub(b),b.negative=1,S._normSign();var m,u;this.length>b.length?(m=this,u=b):(m=b,u=this);for(var c=0,v=0;v<u.length;v++)S=(m.words[v]|0)+(u.words[v]|0)+c,this.words[v]=S&67108863,c=S>>>26;for(;c!==0&&v<m.length;v++)S=(m.words[v]|0)+c,this.words[v]=S&67108863,c=S>>>26;if(this.length=m.length,c!==0)this.words[this.length]=c,this.length++;else if(m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this},"iadd"),s.prototype.add=a(function(b){var S;return b.negative!==0&&this.negative===0?(b.negative=0,S=this.sub(b),b.negative^=1,S):b.negative===0&&this.negative!==0?(this.negative=0,S=b.sub(this),this.negative=1,S):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},"add"),s.prototype.isub=a(function(b){if(b.negative!==0){b.negative=0;var S=this.iadd(b);return b.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var m=this.cmp(b);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var u,c;m>0?(u=this,c=b):(u=b,c=this);for(var v=0,y=0;y<c.length;y++)S=(u.words[y]|0)-(c.words[y]|0)+v,v=S>>26,this.words[y]=S&67108863;for(;v!==0&&y<u.length;y++)S=(u.words[y]|0)+v,v=S>>26,this.words[y]=S&67108863;if(v===0&&y<u.length&&u!==this)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=Math.max(this.length,y),u!==this&&(this.negative=1),this.strip()},"isub"),s.prototype.sub=a(function(b){return this.clone().isub(b)},"sub");function R(P,b,S){S.negative=b.negative^P.negative;var m=P.length+b.length|0;S.length=m,m=m-1|0;var u=P.words[0]|0,c=b.words[0]|0,v=u*c,y=v&67108863,E=v/67108864|0;S.words[0]=y;for(var g=1;g<m;g++){for(var _=E>>>26,w=E&67108863,h=Math.min(g,b.length-1),A=Math.max(0,g-P.length+1);A<=h;A++){var $=g-A|0;u=P.words[$]|0,c=b.words[A]|0,v=u*c+w,_+=v/67108864|0,w=v&67108863}S.words[g]=w|0,E=_|0}return E!==0?S.words[g]=E|0:S.length--,S.strip()}a(R,"smallMulTo");var N=a(function(b,S,m){var u=b.words,c=S.words,v=m.words,y=0,E,g,_,w=u[0]|0,h=w&8191,A=w>>>13,$=u[1]|0,I=$&8191,q=$>>>13,Z=u[2]|0,z=Z&8191,Q=Z>>>13,le=u[3]|0,te=le&8191,re=le>>>13,me=u[4]|0,oe=me&8191,ce=me>>>13,F=u[5]|0,C=F&8191,M=F>>>13,G=u[6]|0,W=G&8191,ne=G>>>13,de=u[7]|0,ve=de&8191,we=de>>>13,mt=u[8]|0,be=mt&8191,xe=mt>>>13,tr=u[9]|0,ke=tr&8191,Pe=tr>>>13,sr=c[0]|0,Oe=sr&8191,De=sr>>>13,wr=c[1]|0,Fe=wr&8191,qe=wr>>>13,ur=c[2]|0,Ce=ur&8191,Re=ur>>>13,wt=c[3]|0,Ge=wt&8191,je=wt>>>13,kt=c[4]|0,ze=kt&8191,$e=kt>>>13,Ar=c[5]|0,We=Ar&8191,Qe=Ar>>>13,Sr=c[6]|0,Ye=Sr&8191,Je=Sr>>>13,Cr=c[7]|0,Le=Cr&8191,Xe=Cr>>>13,Tr=c[8]|0,Ze=Tr&8191,et=Tr>>>13,Ir=c[9]|0,tt=Ir&8191,Ve=Ir>>>13;m.negative=b.negative^S.negative,m.length=19,E=Math.imul(h,Oe),g=Math.imul(h,De),g=g+Math.imul(A,Oe)|0,_=Math.imul(A,De);var br=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(br>>>26)|0,br&=67108863,E=Math.imul(I,Oe),g=Math.imul(I,De),g=g+Math.imul(q,Oe)|0,_=Math.imul(q,De),E=E+Math.imul(h,Fe)|0,g=g+Math.imul(h,qe)|0,g=g+Math.imul(A,Fe)|0,_=_+Math.imul(A,qe)|0;var it=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(it>>>26)|0,it&=67108863,E=Math.imul(z,Oe),g=Math.imul(z,De),g=g+Math.imul(Q,Oe)|0,_=Math.imul(Q,De),E=E+Math.imul(I,Fe)|0,g=g+Math.imul(I,qe)|0,g=g+Math.imul(q,Fe)|0,_=_+Math.imul(q,qe)|0,E=E+Math.imul(h,Ce)|0,g=g+Math.imul(h,Re)|0,g=g+Math.imul(A,Ce)|0,_=_+Math.imul(A,Re)|0;var st=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(st>>>26)|0,st&=67108863,E=Math.imul(te,Oe),g=Math.imul(te,De),g=g+Math.imul(re,Oe)|0,_=Math.imul(re,De),E=E+Math.imul(z,Fe)|0,g=g+Math.imul(z,qe)|0,g=g+Math.imul(Q,Fe)|0,_=_+Math.imul(Q,qe)|0,E=E+Math.imul(I,Ce)|0,g=g+Math.imul(I,Re)|0,g=g+Math.imul(q,Ce)|0,_=_+Math.imul(q,Re)|0,E=E+Math.imul(h,Ge)|0,g=g+Math.imul(h,je)|0,g=g+Math.imul(A,Ge)|0,_=_+Math.imul(A,je)|0;var V=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(V>>>26)|0,V&=67108863,E=Math.imul(oe,Oe),g=Math.imul(oe,De),g=g+Math.imul(ce,Oe)|0,_=Math.imul(ce,De),E=E+Math.imul(te,Fe)|0,g=g+Math.imul(te,qe)|0,g=g+Math.imul(re,Fe)|0,_=_+Math.imul(re,qe)|0,E=E+Math.imul(z,Ce)|0,g=g+Math.imul(z,Re)|0,g=g+Math.imul(Q,Ce)|0,_=_+Math.imul(Q,Re)|0,E=E+Math.imul(I,Ge)|0,g=g+Math.imul(I,je)|0,g=g+Math.imul(q,Ge)|0,_=_+Math.imul(q,je)|0,E=E+Math.imul(h,ze)|0,g=g+Math.imul(h,$e)|0,g=g+Math.imul(A,ze)|0,_=_+Math.imul(A,$e)|0;var X=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(X>>>26)|0,X&=67108863,E=Math.imul(C,Oe),g=Math.imul(C,De),g=g+Math.imul(M,Oe)|0,_=Math.imul(M,De),E=E+Math.imul(oe,Fe)|0,g=g+Math.imul(oe,qe)|0,g=g+Math.imul(ce,Fe)|0,_=_+Math.imul(ce,qe)|0,E=E+Math.imul(te,Ce)|0,g=g+Math.imul(te,Re)|0,g=g+Math.imul(re,Ce)|0,_=_+Math.imul(re,Re)|0,E=E+Math.imul(z,Ge)|0,g=g+Math.imul(z,je)|0,g=g+Math.imul(Q,Ge)|0,_=_+Math.imul(Q,je)|0,E=E+Math.imul(I,ze)|0,g=g+Math.imul(I,$e)|0,g=g+Math.imul(q,ze)|0,_=_+Math.imul(q,$e)|0,E=E+Math.imul(h,We)|0,g=g+Math.imul(h,Qe)|0,g=g+Math.imul(A,We)|0,_=_+Math.imul(A,Qe)|0;var se=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(se>>>26)|0,se&=67108863,E=Math.imul(W,Oe),g=Math.imul(W,De),g=g+Math.imul(ne,Oe)|0,_=Math.imul(ne,De),E=E+Math.imul(C,Fe)|0,g=g+Math.imul(C,qe)|0,g=g+Math.imul(M,Fe)|0,_=_+Math.imul(M,qe)|0,E=E+Math.imul(oe,Ce)|0,g=g+Math.imul(oe,Re)|0,g=g+Math.imul(ce,Ce)|0,_=_+Math.imul(ce,Re)|0,E=E+Math.imul(te,Ge)|0,g=g+Math.imul(te,je)|0,g=g+Math.imul(re,Ge)|0,_=_+Math.imul(re,je)|0,E=E+Math.imul(z,ze)|0,g=g+Math.imul(z,$e)|0,g=g+Math.imul(Q,ze)|0,_=_+Math.imul(Q,$e)|0,E=E+Math.imul(I,We)|0,g=g+Math.imul(I,Qe)|0,g=g+Math.imul(q,We)|0,_=_+Math.imul(q,Qe)|0,E=E+Math.imul(h,Ye)|0,g=g+Math.imul(h,Je)|0,g=g+Math.imul(A,Ye)|0,_=_+Math.imul(A,Je)|0;var pe=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(pe>>>26)|0,pe&=67108863,E=Math.imul(ve,Oe),g=Math.imul(ve,De),g=g+Math.imul(we,Oe)|0,_=Math.imul(we,De),E=E+Math.imul(W,Fe)|0,g=g+Math.imul(W,qe)|0,g=g+Math.imul(ne,Fe)|0,_=_+Math.imul(ne,qe)|0,E=E+Math.imul(C,Ce)|0,g=g+Math.imul(C,Re)|0,g=g+Math.imul(M,Ce)|0,_=_+Math.imul(M,Re)|0,E=E+Math.imul(oe,Ge)|0,g=g+Math.imul(oe,je)|0,g=g+Math.imul(ce,Ge)|0,_=_+Math.imul(ce,je)|0,E=E+Math.imul(te,ze)|0,g=g+Math.imul(te,$e)|0,g=g+Math.imul(re,ze)|0,_=_+Math.imul(re,$e)|0,E=E+Math.imul(z,We)|0,g=g+Math.imul(z,Qe)|0,g=g+Math.imul(Q,We)|0,_=_+Math.imul(Q,Qe)|0,E=E+Math.imul(I,Ye)|0,g=g+Math.imul(I,Je)|0,g=g+Math.imul(q,Ye)|0,_=_+Math.imul(q,Je)|0,E=E+Math.imul(h,Le)|0,g=g+Math.imul(h,Xe)|0,g=g+Math.imul(A,Le)|0,_=_+Math.imul(A,Xe)|0;var ye=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(ye>>>26)|0,ye&=67108863,E=Math.imul(be,Oe),g=Math.imul(be,De),g=g+Math.imul(xe,Oe)|0,_=Math.imul(xe,De),E=E+Math.imul(ve,Fe)|0,g=g+Math.imul(ve,qe)|0,g=g+Math.imul(we,Fe)|0,_=_+Math.imul(we,qe)|0,E=E+Math.imul(W,Ce)|0,g=g+Math.imul(W,Re)|0,g=g+Math.imul(ne,Ce)|0,_=_+Math.imul(ne,Re)|0,E=E+Math.imul(C,Ge)|0,g=g+Math.imul(C,je)|0,g=g+Math.imul(M,Ge)|0,_=_+Math.imul(M,je)|0,E=E+Math.imul(oe,ze)|0,g=g+Math.imul(oe,$e)|0,g=g+Math.imul(ce,ze)|0,_=_+Math.imul(ce,$e)|0,E=E+Math.imul(te,We)|0,g=g+Math.imul(te,Qe)|0,g=g+Math.imul(re,We)|0,_=_+Math.imul(re,Qe)|0,E=E+Math.imul(z,Ye)|0,g=g+Math.imul(z,Je)|0,g=g+Math.imul(Q,Ye)|0,_=_+Math.imul(Q,Je)|0,E=E+Math.imul(I,Le)|0,g=g+Math.imul(I,Xe)|0,g=g+Math.imul(q,Le)|0,_=_+Math.imul(q,Xe)|0,E=E+Math.imul(h,Ze)|0,g=g+Math.imul(h,et)|0,g=g+Math.imul(A,Ze)|0,_=_+Math.imul(A,et)|0;var Me=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(Me>>>26)|0,Me&=67108863,E=Math.imul(ke,Oe),g=Math.imul(ke,De),g=g+Math.imul(Pe,Oe)|0,_=Math.imul(Pe,De),E=E+Math.imul(be,Fe)|0,g=g+Math.imul(be,qe)|0,g=g+Math.imul(xe,Fe)|0,_=_+Math.imul(xe,qe)|0,E=E+Math.imul(ve,Ce)|0,g=g+Math.imul(ve,Re)|0,g=g+Math.imul(we,Ce)|0,_=_+Math.imul(we,Re)|0,E=E+Math.imul(W,Ge)|0,g=g+Math.imul(W,je)|0,g=g+Math.imul(ne,Ge)|0,_=_+Math.imul(ne,je)|0,E=E+Math.imul(C,ze)|0,g=g+Math.imul(C,$e)|0,g=g+Math.imul(M,ze)|0,_=_+Math.imul(M,$e)|0,E=E+Math.imul(oe,We)|0,g=g+Math.imul(oe,Qe)|0,g=g+Math.imul(ce,We)|0,_=_+Math.imul(ce,Qe)|0,E=E+Math.imul(te,Ye)|0,g=g+Math.imul(te,Je)|0,g=g+Math.imul(re,Ye)|0,_=_+Math.imul(re,Je)|0,E=E+Math.imul(z,Le)|0,g=g+Math.imul(z,Xe)|0,g=g+Math.imul(Q,Le)|0,_=_+Math.imul(Q,Xe)|0,E=E+Math.imul(I,Ze)|0,g=g+Math.imul(I,et)|0,g=g+Math.imul(q,Ze)|0,_=_+Math.imul(q,et)|0,E=E+Math.imul(h,tt)|0,g=g+Math.imul(h,Ve)|0,g=g+Math.imul(A,tt)|0,_=_+Math.imul(A,Ve)|0;var Ue=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,E=Math.imul(ke,Fe),g=Math.imul(ke,qe),g=g+Math.imul(Pe,Fe)|0,_=Math.imul(Pe,qe),E=E+Math.imul(be,Ce)|0,g=g+Math.imul(be,Re)|0,g=g+Math.imul(xe,Ce)|0,_=_+Math.imul(xe,Re)|0,E=E+Math.imul(ve,Ge)|0,g=g+Math.imul(ve,je)|0,g=g+Math.imul(we,Ge)|0,_=_+Math.imul(we,je)|0,E=E+Math.imul(W,ze)|0,g=g+Math.imul(W,$e)|0,g=g+Math.imul(ne,ze)|0,_=_+Math.imul(ne,$e)|0,E=E+Math.imul(C,We)|0,g=g+Math.imul(C,Qe)|0,g=g+Math.imul(M,We)|0,_=_+Math.imul(M,Qe)|0,E=E+Math.imul(oe,Ye)|0,g=g+Math.imul(oe,Je)|0,g=g+Math.imul(ce,Ye)|0,_=_+Math.imul(ce,Je)|0,E=E+Math.imul(te,Le)|0,g=g+Math.imul(te,Xe)|0,g=g+Math.imul(re,Le)|0,_=_+Math.imul(re,Xe)|0,E=E+Math.imul(z,Ze)|0,g=g+Math.imul(z,et)|0,g=g+Math.imul(Q,Ze)|0,_=_+Math.imul(Q,et)|0,E=E+Math.imul(I,tt)|0,g=g+Math.imul(I,Ve)|0,g=g+Math.imul(q,tt)|0,_=_+Math.imul(q,Ve)|0;var lt=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(lt>>>26)|0,lt&=67108863,E=Math.imul(ke,Ce),g=Math.imul(ke,Re),g=g+Math.imul(Pe,Ce)|0,_=Math.imul(Pe,Re),E=E+Math.imul(be,Ge)|0,g=g+Math.imul(be,je)|0,g=g+Math.imul(xe,Ge)|0,_=_+Math.imul(xe,je)|0,E=E+Math.imul(ve,ze)|0,g=g+Math.imul(ve,$e)|0,g=g+Math.imul(we,ze)|0,_=_+Math.imul(we,$e)|0,E=E+Math.imul(W,We)|0,g=g+Math.imul(W,Qe)|0,g=g+Math.imul(ne,We)|0,_=_+Math.imul(ne,Qe)|0,E=E+Math.imul(C,Ye)|0,g=g+Math.imul(C,Je)|0,g=g+Math.imul(M,Ye)|0,_=_+Math.imul(M,Je)|0,E=E+Math.imul(oe,Le)|0,g=g+Math.imul(oe,Xe)|0,g=g+Math.imul(ce,Le)|0,_=_+Math.imul(ce,Xe)|0,E=E+Math.imul(te,Ze)|0,g=g+Math.imul(te,et)|0,g=g+Math.imul(re,Ze)|0,_=_+Math.imul(re,et)|0,E=E+Math.imul(z,tt)|0,g=g+Math.imul(z,Ve)|0,g=g+Math.imul(Q,tt)|0,_=_+Math.imul(Q,Ve)|0;var ut=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(ut>>>26)|0,ut&=67108863,E=Math.imul(ke,Ge),g=Math.imul(ke,je),g=g+Math.imul(Pe,Ge)|0,_=Math.imul(Pe,je),E=E+Math.imul(be,ze)|0,g=g+Math.imul(be,$e)|0,g=g+Math.imul(xe,ze)|0,_=_+Math.imul(xe,$e)|0,E=E+Math.imul(ve,We)|0,g=g+Math.imul(ve,Qe)|0,g=g+Math.imul(we,We)|0,_=_+Math.imul(we,Qe)|0,E=E+Math.imul(W,Ye)|0,g=g+Math.imul(W,Je)|0,g=g+Math.imul(ne,Ye)|0,_=_+Math.imul(ne,Je)|0,E=E+Math.imul(C,Le)|0,g=g+Math.imul(C,Xe)|0,g=g+Math.imul(M,Le)|0,_=_+Math.imul(M,Xe)|0,E=E+Math.imul(oe,Ze)|0,g=g+Math.imul(oe,et)|0,g=g+Math.imul(ce,Ze)|0,_=_+Math.imul(ce,et)|0,E=E+Math.imul(te,tt)|0,g=g+Math.imul(te,Ve)|0,g=g+Math.imul(re,tt)|0,_=_+Math.imul(re,Ve)|0;var Qt=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,E=Math.imul(ke,ze),g=Math.imul(ke,$e),g=g+Math.imul(Pe,ze)|0,_=Math.imul(Pe,$e),E=E+Math.imul(be,We)|0,g=g+Math.imul(be,Qe)|0,g=g+Math.imul(xe,We)|0,_=_+Math.imul(xe,Qe)|0,E=E+Math.imul(ve,Ye)|0,g=g+Math.imul(ve,Je)|0,g=g+Math.imul(we,Ye)|0,_=_+Math.imul(we,Je)|0,E=E+Math.imul(W,Le)|0,g=g+Math.imul(W,Xe)|0,g=g+Math.imul(ne,Le)|0,_=_+Math.imul(ne,Xe)|0,E=E+Math.imul(C,Ze)|0,g=g+Math.imul(C,et)|0,g=g+Math.imul(M,Ze)|0,_=_+Math.imul(M,et)|0,E=E+Math.imul(oe,tt)|0,g=g+Math.imul(oe,Ve)|0,g=g+Math.imul(ce,tt)|0,_=_+Math.imul(ce,Ve)|0;var Yt=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,E=Math.imul(ke,We),g=Math.imul(ke,Qe),g=g+Math.imul(Pe,We)|0,_=Math.imul(Pe,Qe),E=E+Math.imul(be,Ye)|0,g=g+Math.imul(be,Je)|0,g=g+Math.imul(xe,Ye)|0,_=_+Math.imul(xe,Je)|0,E=E+Math.imul(ve,Le)|0,g=g+Math.imul(ve,Xe)|0,g=g+Math.imul(we,Le)|0,_=_+Math.imul(we,Xe)|0,E=E+Math.imul(W,Ze)|0,g=g+Math.imul(W,et)|0,g=g+Math.imul(ne,Ze)|0,_=_+Math.imul(ne,et)|0,E=E+Math.imul(C,tt)|0,g=g+Math.imul(C,Ve)|0,g=g+Math.imul(M,tt)|0,_=_+Math.imul(M,Ve)|0;var Ht=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,E=Math.imul(ke,Ye),g=Math.imul(ke,Je),g=g+Math.imul(Pe,Ye)|0,_=Math.imul(Pe,Je),E=E+Math.imul(be,Le)|0,g=g+Math.imul(be,Xe)|0,g=g+Math.imul(xe,Le)|0,_=_+Math.imul(xe,Xe)|0,E=E+Math.imul(ve,Ze)|0,g=g+Math.imul(ve,et)|0,g=g+Math.imul(we,Ze)|0,_=_+Math.imul(we,et)|0,E=E+Math.imul(W,tt)|0,g=g+Math.imul(W,Ve)|0,g=g+Math.imul(ne,tt)|0,_=_+Math.imul(ne,Ve)|0;var Ft=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,E=Math.imul(ke,Le),g=Math.imul(ke,Xe),g=g+Math.imul(Pe,Le)|0,_=Math.imul(Pe,Xe),E=E+Math.imul(be,Ze)|0,g=g+Math.imul(be,et)|0,g=g+Math.imul(xe,Ze)|0,_=_+Math.imul(xe,et)|0,E=E+Math.imul(ve,tt)|0,g=g+Math.imul(ve,Ve)|0,g=g+Math.imul(we,tt)|0,_=_+Math.imul(we,Ve)|0;var rr=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(rr>>>26)|0,rr&=67108863,E=Math.imul(ke,Ze),g=Math.imul(ke,et),g=g+Math.imul(Pe,Ze)|0,_=Math.imul(Pe,et),E=E+Math.imul(be,tt)|0,g=g+Math.imul(be,Ve)|0,g=g+Math.imul(xe,tt)|0,_=_+Math.imul(xe,Ve)|0;var sn=(y+E|0)+((g&8191)<<13)|0;y=(_+(g>>>13)|0)+(sn>>>26)|0,sn&=67108863,E=Math.imul(ke,tt),g=Math.imul(ke,Ve),g=g+Math.imul(Pe,tt)|0,_=Math.imul(Pe,Ve);var an=(y+E|0)+((g&8191)<<13)|0;return y=(_+(g>>>13)|0)+(an>>>26)|0,an&=67108863,v[0]=br,v[1]=it,v[2]=st,v[3]=V,v[4]=X,v[5]=se,v[6]=pe,v[7]=ye,v[8]=Me,v[9]=Ue,v[10]=lt,v[11]=ut,v[12]=Qt,v[13]=Yt,v[14]=Ht,v[15]=Ft,v[16]=rr,v[17]=sn,v[18]=an,y!==0&&(v[19]=y,m.length++),m},"comb10MulTo");Math.imul||(N=R);function O(P,b,S){S.negative=b.negative^P.negative,S.length=P.length+b.length;for(var m=0,u=0,c=0;c<S.length-1;c++){var v=u;u=0;for(var y=m&67108863,E=Math.min(c,b.length-1),g=Math.max(0,c-P.length+1);g<=E;g++){var _=c-g,w=P.words[_]|0,h=b.words[g]|0,A=w*h,$=A&67108863;v=v+(A/67108864|0)|0,$=$+y|0,y=$&67108863,v=v+($>>>26)|0,u+=v>>>26,v&=67108863}S.words[c]=y,m=v,v=u}return m!==0?S.words[c]=m:S.length--,S.strip()}a(O,"bigMulTo");function B(P,b,S){var m=new k;return m.mulp(P,b,S)}a(B,"jumboMulTo"),s.prototype.mulTo=a(function(b,S){var m,u=this.length+b.length;return this.length===10&&b.length===10?m=N(this,b,S):u<63?m=R(this,b,S):u<1024?m=O(this,b,S):m=B(this,b,S),m},"mulTo");function k(P,b){this.x=P,this.y=b}a(k,"FFTM"),k.prototype.makeRBT=a(function(b){for(var S=new Array(b),m=s.prototype._countBits(b)-1,u=0;u<b;u++)S[u]=this.revBin(u,m,b);return S},"makeRBT"),k.prototype.revBin=a(function(b,S,m){if(b===0||b===m-1)return b;for(var u=0,c=0;c<S;c++)u|=(b&1)<<S-c-1,b>>=1;return u},"revBin"),k.prototype.permute=a(function(b,S,m,u,c,v){for(var y=0;y<v;y++)u[y]=S[b[y]],c[y]=m[b[y]]},"permute"),k.prototype.transform=a(function(b,S,m,u,c,v){this.permute(v,b,S,m,u,c);for(var y=1;y<c;y<<=1)for(var E=y<<1,g=Math.cos(2*Math.PI/E),_=Math.sin(2*Math.PI/E),w=0;w<c;w+=E)for(var h=g,A=_,$=0;$<y;$++){var I=m[w+$],q=u[w+$],Z=m[w+$+y],z=u[w+$+y],Q=h*Z-A*z;z=h*z+A*Z,Z=Q,m[w+$]=I+Z,u[w+$]=q+z,m[w+$+y]=I-Z,u[w+$+y]=q-z,$!==E&&(Q=g*h-_*A,A=g*A+_*h,h=Q)}},"transform"),k.prototype.guessLen13b=a(function(b,S){var m=Math.max(S,b)|1,u=m&1,c=0;for(m=m/2|0;m;m=m>>>1)c++;return 1<<c+1+u},"guessLen13b"),k.prototype.conjugate=a(function(b,S,m){if(!(m<=1))for(var u=0;u<m/2;u++){var c=b[u];b[u]=b[m-u-1],b[m-u-1]=c,c=S[u],S[u]=-S[m-u-1],S[m-u-1]=-c}},"conjugate"),k.prototype.normalize13b=a(function(b,S){for(var m=0,u=0;u<S/2;u++){var c=Math.round(b[2*u+1]/S)*8192+Math.round(b[2*u]/S)+m;b[u]=c&67108863,c<67108864?m=0:m=c/67108864|0}return b},"normalize13b"),k.prototype.convert13b=a(function(b,S,m,u){for(var c=0,v=0;v<S;v++)c=c+(b[v]|0),m[2*v]=c&8191,c=c>>>13,m[2*v+1]=c&8191,c=c>>>13;for(v=2*S;v<u;++v)m[v]=0;n(c===0),n((c&-8192)===0)},"convert13b"),k.prototype.stub=a(function(b){for(var S=new Array(b),m=0;m<b;m++)S[m]=0;return S},"stub"),k.prototype.mulp=a(function(b,S,m){var u=2*this.guessLen13b(b.length,S.length),c=this.makeRBT(u),v=this.stub(u),y=new Array(u),E=new Array(u),g=new Array(u),_=new Array(u),w=new Array(u),h=new Array(u),A=m.words;A.length=u,this.convert13b(b.words,b.length,y,u),this.convert13b(S.words,S.length,_,u),this.transform(y,v,E,g,u,c),this.transform(_,v,w,h,u,c);for(var $=0;$<u;$++){var I=E[$]*w[$]-g[$]*h[$];g[$]=E[$]*h[$]+g[$]*w[$],E[$]=I}return this.conjugate(E,g,u),this.transform(E,g,A,v,u,c),this.conjugate(A,v,u),this.normalize13b(A,u),m.negative=b.negative^S.negative,m.length=b.length+S.length,m.strip()},"mulp"),s.prototype.mul=a(function(b){var S=new s(null);return S.words=new Array(this.length+b.length),this.mulTo(b,S)},"mul"),s.prototype.mulf=a(function(b){var S=new s(null);return S.words=new Array(this.length+b.length),B(this,b,S)},"mulf"),s.prototype.imul=a(function(b){return this.clone().mulTo(b,this)},"imul"),s.prototype.imuln=a(function(b){n(typeof b=="number"),n(b<67108864);for(var S=0,m=0;m<this.length;m++){var u=(this.words[m]|0)*b,c=(u&67108863)+(S&67108863);S>>=26,S+=u/67108864|0,S+=c>>>26,this.words[m]=c&67108863}return S!==0&&(this.words[m]=S,this.length++),this},"imuln"),s.prototype.muln=a(function(b){return this.clone().imuln(b)},"muln"),s.prototype.sqr=a(function(){return this.mul(this)},"sqr"),s.prototype.isqr=a(function(){return this.imul(this.clone())},"isqr"),s.prototype.pow=a(function(b){var S=T(b);if(S.length===0)return new s(1);for(var m=this,u=0;u<S.length&&S[u]===0;u++,m=m.sqr());if(++u<S.length)for(var c=m.sqr();u<S.length;u++,c=c.sqr())S[u]!==0&&(m=m.mul(c));return m},"pow"),s.prototype.iushln=a(function(b){n(typeof b=="number"&&b>=0);var S=b%26,m=(b-S)/26,u=67108863>>>26-S<<26-S,c;if(S!==0){var v=0;for(c=0;c<this.length;c++){var y=this.words[c]&u,E=(this.words[c]|0)-y<<S;this.words[c]=E|v,v=y>>>26-S}v&&(this.words[c]=v,this.length++)}if(m!==0){for(c=this.length-1;c>=0;c--)this.words[c+m]=this.words[c];for(c=0;c<m;c++)this.words[c]=0;this.length+=m}return this.strip()},"iushln"),s.prototype.ishln=a(function(b){return n(this.negative===0),this.iushln(b)},"ishln"),s.prototype.iushrn=a(function(b,S,m){n(typeof b=="number"&&b>=0);var u;S?u=(S-S%26)/26:u=0;var c=b%26,v=Math.min((b-c)/26,this.length),y=67108863^67108863>>>c<<c,E=m;if(u-=v,u=Math.max(0,u),E){for(var g=0;g<v;g++)E.words[g]=this.words[g];E.length=v}if(v!==0)if(this.length>v)for(this.length-=v,g=0;g<this.length;g++)this.words[g]=this.words[g+v];else this.words[0]=0,this.length=1;var _=0;for(g=this.length-1;g>=0&&(_!==0||g>=u);g--){var w=this.words[g]|0;this.words[g]=_<<26-c|w>>>c,_=w&y}return E&&_!==0&&(E.words[E.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),s.prototype.ishrn=a(function(b,S,m){return n(this.negative===0),this.iushrn(b,S,m)},"ishrn"),s.prototype.shln=a(function(b){return this.clone().ishln(b)},"shln"),s.prototype.ushln=a(function(b){return this.clone().iushln(b)},"ushln"),s.prototype.shrn=a(function(b){return this.clone().ishrn(b)},"shrn"),s.prototype.ushrn=a(function(b){return this.clone().iushrn(b)},"ushrn"),s.prototype.testn=a(function(b){n(typeof b=="number"&&b>=0);var S=b%26,m=(b-S)/26,u=1<<S;if(this.length<=m)return!1;var c=this.words[m];return!!(c&u)},"testn"),s.prototype.imaskn=a(function(b){n(typeof b=="number"&&b>=0);var S=b%26,m=(b-S)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(S!==0&&m++,this.length=Math.min(m,this.length),S!==0){var u=67108863^67108863>>>S<<S;this.words[this.length-1]&=u}return this.strip()},"imaskn"),s.prototype.maskn=a(function(b){return this.clone().imaskn(b)},"maskn"),s.prototype.iaddn=a(function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},"iaddn"),s.prototype._iaddn=a(function(b){this.words[0]+=b;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},"_iaddn"),s.prototype.isubn=a(function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this.strip()},"isubn"),s.prototype.addn=a(function(b){return this.clone().iaddn(b)},"addn"),s.prototype.subn=a(function(b){return this.clone().isubn(b)},"subn"),s.prototype.iabs=a(function(){return this.negative=0,this},"iabs"),s.prototype.abs=a(function(){return this.clone().iabs()},"abs"),s.prototype._ishlnsubmul=a(function(b,S,m){var u=b.length+m,c;this._expand(u);var v,y=0;for(c=0;c<b.length;c++){v=(this.words[c+m]|0)+y;var E=(b.words[c]|0)*S;v-=E&67108863,y=(v>>26)-(E/67108864|0),this.words[c+m]=v&67108863}for(;c<this.length-m;c++)v=(this.words[c+m]|0)+y,y=v>>26,this.words[c+m]=v&67108863;if(y===0)return this.strip();for(n(y===-1),y=0,c=0;c<this.length;c++)v=-(this.words[c]|0)+y,y=v>>26,this.words[c]=v&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),s.prototype._wordDiv=a(function(b,S){var m=this.length-b.length,u=this.clone(),c=b,v=c.words[c.length-1]|0,y=this._countBits(v);m=26-y,m!==0&&(c=c.ushln(m),u.iushln(m),v=c.words[c.length-1]|0);var E=u.length-c.length,g;if(S!=="mod"){g=new s(null),g.length=E+1,g.words=new Array(g.length);for(var _=0;_<g.length;_++)g.words[_]=0}var w=u.clone()._ishlnsubmul(c,1,E);w.negative===0&&(u=w,g&&(g.words[E]=1));for(var h=E-1;h>=0;h--){var A=(u.words[c.length+h]|0)*67108864+(u.words[c.length+h-1]|0);for(A=Math.min(A/v|0,67108863),u._ishlnsubmul(c,A,h);u.negative!==0;)A--,u.negative=0,u._ishlnsubmul(c,1,h),u.isZero()||(u.negative^=1);g&&(g.words[h]=A)}return g&&g.strip(),u.strip(),S!=="div"&&m!==0&&u.iushrn(m),{div:g||null,mod:u}},"_wordDiv"),s.prototype.divmod=a(function(b,S,m){if(n(!b.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var u,c,v;return this.negative!==0&&b.negative===0?(v=this.neg().divmod(b,S),S!=="mod"&&(u=v.div.neg()),S!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.iadd(b)),{div:u,mod:c}):this.negative===0&&b.negative!==0?(v=this.divmod(b.neg(),S),S!=="mod"&&(u=v.div.neg()),{div:u,mod:v.mod}):(this.negative&b.negative)!==0?(v=this.neg().divmod(b.neg(),S),S!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.isub(b)),{div:v.div,mod:c}):b.length>this.length||this.cmp(b)<0?{div:new s(0),mod:this}:b.length===1?S==="div"?{div:this.divn(b.words[0]),mod:null}:S==="mod"?{div:null,mod:new s(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new s(this.modn(b.words[0]))}:this._wordDiv(b,S)},"divmod"),s.prototype.div=a(function(b){return this.divmod(b,"div",!1).div},"div"),s.prototype.mod=a(function(b){return this.divmod(b,"mod",!1).mod},"mod"),s.prototype.umod=a(function(b){return this.divmod(b,"mod",!0).mod},"umod"),s.prototype.divRound=a(function(b){var S=this.divmod(b);if(S.mod.isZero())return S.div;var m=S.div.negative!==0?S.mod.isub(b):S.mod,u=b.ushrn(1),c=b.andln(1),v=m.cmp(u);return v<0||c===1&&v===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},"divRound"),s.prototype.modn=a(function(b){n(b<=67108863);for(var S=(1<<26)%b,m=0,u=this.length-1;u>=0;u--)m=(S*m+(this.words[u]|0))%b;return m},"modn"),s.prototype.idivn=a(function(b){n(b<=67108863);for(var S=0,m=this.length-1;m>=0;m--){var u=(this.words[m]|0)+S*67108864;this.words[m]=u/b|0,S=u%b}return this.strip()},"idivn"),s.prototype.divn=a(function(b){return this.clone().idivn(b)},"divn"),s.prototype.egcd=a(function(b){n(b.negative===0),n(!b.isZero());var S=this,m=b.clone();S.negative!==0?S=S.umod(b):S=S.clone();for(var u=new s(1),c=new s(0),v=new s(0),y=new s(1),E=0;S.isEven()&&m.isEven();)S.iushrn(1),m.iushrn(1),++E;for(var g=m.clone(),_=S.clone();!S.isZero();){for(var w=0,h=1;(S.words[0]&h)===0&&w<26;++w,h<<=1);if(w>0)for(S.iushrn(w);w-- >0;)(u.isOdd()||c.isOdd())&&(u.iadd(g),c.isub(_)),u.iushrn(1),c.iushrn(1);for(var A=0,$=1;(m.words[0]&$)===0&&A<26;++A,$<<=1);if(A>0)for(m.iushrn(A);A-- >0;)(v.isOdd()||y.isOdd())&&(v.iadd(g),y.isub(_)),v.iushrn(1),y.iushrn(1);S.cmp(m)>=0?(S.isub(m),u.isub(v),c.isub(y)):(m.isub(S),v.isub(u),y.isub(c))}return{a:v,b:y,gcd:m.iushln(E)}},"egcd"),s.prototype._invmp=a(function(b){n(b.negative===0),n(!b.isZero());var S=this,m=b.clone();S.negative!==0?S=S.umod(b):S=S.clone();for(var u=new s(1),c=new s(0),v=m.clone();S.cmpn(1)>0&&m.cmpn(1)>0;){for(var y=0,E=1;(S.words[0]&E)===0&&y<26;++y,E<<=1);if(y>0)for(S.iushrn(y);y-- >0;)u.isOdd()&&u.iadd(v),u.iushrn(1);for(var g=0,_=1;(m.words[0]&_)===0&&g<26;++g,_<<=1);if(g>0)for(m.iushrn(g);g-- >0;)c.isOdd()&&c.iadd(v),c.iushrn(1);S.cmp(m)>=0?(S.isub(m),u.isub(c)):(m.isub(S),c.isub(u))}var w;return S.cmpn(1)===0?w=u:w=c,w.cmpn(0)<0&&w.iadd(b),w},"_invmp"),s.prototype.gcd=a(function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var S=this.clone(),m=b.clone();S.negative=0,m.negative=0;for(var u=0;S.isEven()&&m.isEven();u++)S.iushrn(1),m.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;m.isEven();)m.iushrn(1);var c=S.cmp(m);if(c<0){var v=S;S=m,m=v}else if(c===0||m.cmpn(1)===0)break;S.isub(m)}while(!0);return m.iushln(u)},"gcd"),s.prototype.invm=a(function(b){return this.egcd(b).a.umod(b)},"invm"),s.prototype.isEven=a(function(){return(this.words[0]&1)===0},"isEven"),s.prototype.isOdd=a(function(){return(this.words[0]&1)===1},"isOdd"),s.prototype.andln=a(function(b){return this.words[0]&b},"andln"),s.prototype.bincn=a(function(b){n(typeof b=="number");var S=b%26,m=(b-S)/26,u=1<<S;if(this.length<=m)return this._expand(m+1),this.words[m]|=u,this;for(var c=u,v=m;c!==0&&v<this.length;v++){var y=this.words[v]|0;y+=c,c=y>>>26,y&=67108863,this.words[v]=y}return c!==0&&(this.words[v]=c,this.length++),this},"bincn"),s.prototype.isZero=a(function(){return this.length===1&&this.words[0]===0},"isZero"),s.prototype.cmpn=a(function(b){var S=b<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this.strip();var m;if(this.length>1)m=1;else{S&&(b=-b),n(b<=67108863,"Number is too big");var u=this.words[0]|0;m=u===b?0:u<b?-1:1}return this.negative!==0?-m|0:m},"cmpn"),s.prototype.cmp=a(function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var S=this.ucmp(b);return this.negative!==0?-S|0:S},"cmp"),s.prototype.ucmp=a(function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var S=0,m=this.length-1;m>=0;m--){var u=this.words[m]|0,c=b.words[m]|0;if(u!==c){u<c?S=-1:u>c&&(S=1);break}}return S},"ucmp"),s.prototype.gtn=a(function(b){return this.cmpn(b)===1},"gtn"),s.prototype.gt=a(function(b){return this.cmp(b)===1},"gt"),s.prototype.gten=a(function(b){return this.cmpn(b)>=0},"gten"),s.prototype.gte=a(function(b){return this.cmp(b)>=0},"gte"),s.prototype.ltn=a(function(b){return this.cmpn(b)===-1},"ltn"),s.prototype.lt=a(function(b){return this.cmp(b)===-1},"lt"),s.prototype.lten=a(function(b){return this.cmpn(b)<=0},"lten"),s.prototype.lte=a(function(b){return this.cmp(b)<=0},"lte"),s.prototype.eqn=a(function(b){return this.cmpn(b)===0},"eqn"),s.prototype.eq=a(function(b){return this.cmp(b)===0},"eq"),s.red=a(function(b){return new J(b)},"red"),s.prototype.toRed=a(function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},"toRed"),s.prototype.fromRed=a(function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),s.prototype._forceRed=a(function(b){return this.red=b,this},"_forceRed"),s.prototype.forceRed=a(function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},"forceRed"),s.prototype.redAdd=a(function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},"redAdd"),s.prototype.redIAdd=a(function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},"redIAdd"),s.prototype.redSub=a(function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},"redSub"),s.prototype.redISub=a(function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},"redISub"),s.prototype.redShl=a(function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},"redShl"),s.prototype.redMul=a(function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},"redMul"),s.prototype.redIMul=a(function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},"redIMul"),s.prototype.redSqr=a(function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),s.prototype.redISqr=a(function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),s.prototype.redSqrt=a(function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),s.prototype.redInvm=a(function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),s.prototype.redNeg=a(function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),s.prototype.redPow=a(function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)},"redPow");var L={k256:null,p224:null,p192:null,p25519:null};function D(P,b){this.name=P,this.p=new s(b,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(D,"MPrime"),D.prototype._tmp=a(function(){var b=new s(null);return b.words=new Array(Math.ceil(this.n/13)),b},"_tmp"),D.prototype.ireduce=a(function(b){var S=b,m;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),m=S.bitLength();while(m>this.n);var u=m<this.n?-1:S.ucmp(this.p);return u===0?(S.words[0]=0,S.length=1):u>0?S.isub(this.p):S.strip(),S},"ireduce"),D.prototype.split=a(function(b,S){b.iushrn(this.n,0,S)},"split"),D.prototype.imulK=a(function(b){return b.imul(this.k)},"imulK");function H(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(H,"K256"),i(H,D),H.prototype.split=a(function(b,S){for(var m=4194303,u=Math.min(b.length,9),c=0;c<u;c++)S.words[c]=b.words[c];if(S.length=u,b.length<=9){b.words[0]=0,b.length=1;return}var v=b.words[9];for(S.words[S.length++]=v&m,c=10;c<b.length;c++){var y=b.words[c]|0;b.words[c-10]=(y&m)<<4|v>>>22,v=y}v>>>=22,b.words[c-10]=v,v===0&&b.length>10?b.length-=10:b.length-=9},"split"),H.prototype.imulK=a(function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var S=0,m=0;m<b.length;m++){var u=b.words[m]|0;S+=u*977,b.words[m]=S&67108863,S=u*64+(S/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b},"imulK");function K(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(K,"P224"),i(K,D);function j(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(j,"P192"),i(j,D);function ie(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ie,"P25519"),i(ie,D),ie.prototype.imulK=a(function(b){for(var S=0,m=0;m<b.length;m++){var u=(b.words[m]|0)*19+S,c=u&67108863;u>>>=26,b.words[m]=c,S=u}return S!==0&&(b.words[b.length++]=S),b},"imulK"),s._prime=a(function(b){if(L[b])return L[b];var S;if(b==="k256")S=new H;else if(b==="p224")S=new K;else if(b==="p192")S=new j;else if(b==="p25519")S=new ie;else throw new Error("Unknown prime "+b);return L[b]=S,S},"prime");function J(P){if(typeof P=="string"){var b=s._prime(P);this.m=b.p,this.prime=b}else n(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}a(J,"Red"),J.prototype._verify1=a(function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},"_verify1"),J.prototype._verify2=a(function(b,S){n((b.negative|S.negative)===0,"red works only with positives"),n(b.red&&b.red===S.red,"red works only with red numbers")},"_verify2"),J.prototype.imod=a(function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},"imod"),J.prototype.neg=a(function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},"neg"),J.prototype.add=a(function(b,S){this._verify2(b,S);var m=b.add(S);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},"add"),J.prototype.iadd=a(function(b,S){this._verify2(b,S);var m=b.iadd(S);return m.cmp(this.m)>=0&&m.isub(this.m),m},"iadd"),J.prototype.sub=a(function(b,S){this._verify2(b,S);var m=b.sub(S);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},"sub"),J.prototype.isub=a(function(b,S){this._verify2(b,S);var m=b.isub(S);return m.cmpn(0)<0&&m.iadd(this.m),m},"isub"),J.prototype.shl=a(function(b,S){return this._verify1(b),this.imod(b.ushln(S))},"shl"),J.prototype.imul=a(function(b,S){return this._verify2(b,S),this.imod(b.imul(S))},"imul"),J.prototype.mul=a(function(b,S){return this._verify2(b,S),this.imod(b.mul(S))},"mul"),J.prototype.isqr=a(function(b){return this.imul(b,b.clone())},"isqr"),J.prototype.sqr=a(function(b){return this.mul(b,b)},"sqr"),J.prototype.sqrt=a(function(b){if(b.isZero())return b.clone();var S=this.m.andln(3);if(n(S%2===1),S===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(b,m)}for(var u=this.m.subn(1),c=0;!u.isZero()&&u.andln(1)===0;)c++,u.iushrn(1);n(!u.isZero());var v=new s(1).toRed(this),y=v.redNeg(),E=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new s(2*g*g).toRed(this);this.pow(g,E).cmp(y)!==0;)g.redIAdd(y);for(var _=this.pow(g,u),w=this.pow(b,u.addn(1).iushrn(1)),h=this.pow(b,u),A=c;h.cmp(v)!==0;){for(var $=h,I=0;$.cmp(v)!==0;I++)$=$.redSqr();n(I<A);var q=this.pow(_,new s(1).iushln(A-I-1));w=w.redMul(q),_=q.redSqr(),h=h.redMul(_),A=I}return w},"sqrt"),J.prototype.invm=a(function(b){var S=b._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},"invm"),J.prototype.pow=a(function(b,S){if(S.isZero())return new s(1).toRed(this);if(S.cmpn(1)===0)return b.clone();var m=4,u=new Array(1<<m);u[0]=new s(1).toRed(this),u[1]=b;for(var c=2;c<u.length;c++)u[c]=this.mul(u[c-1],b);var v=u[0],y=0,E=0,g=S.bitLength()%26;for(g===0&&(g=26),c=S.length-1;c>=0;c--){for(var _=S.words[c],w=g-1;w>=0;w--){var h=_>>w&1;if(v!==u[0]&&(v=this.sqr(v)),h===0&&y===0){E=0;continue}y<<=1,y|=h,E++,!(E!==m&&(c!==0||w!==0))&&(v=this.mul(v,u[y]),E=0,y=0)}g=26}return v},"pow"),J.prototype.convertTo=a(function(b){var S=b.umod(this.m);return S===b?S.clone():S},"convertTo"),J.prototype.convertFrom=a(function(b){var S=b.clone();return S.red=null,S},"convertFrom"),s.mont=a(function(b){return new ue(b)},"mont");function ue(P){J.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(ue,"Mont"),i(ue,J),ue.prototype.convertTo=a(function(b){return this.imod(b.ushln(this.shift))},"convertTo"),ue.prototype.convertFrom=a(function(b){var S=this.imod(b.mul(this.rinv));return S.red=null,S},"convertFrom"),ue.prototype.imul=a(function(b,S){if(b.isZero()||S.isZero())return b.words[0]=0,b.length=1,b;var m=b.imul(S),u=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(u).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},"imul"),ue.prototype.mul=a(function(b,S){if(b.isZero()||S.isZero())return new s(0)._forceRed(this);var m=b.mul(S),u=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(u).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},"mul"),ue.prototype.invm=a(function(b){var S=this.imod(b._invmp(this.m).mul(this.r2));return S._forceRed(this)},"invm")})(t,Vt)})(fm);const gI=fm.exports;var vI=p0;p0.strict=um;p0.loose=lm;var mI=Object.prototype.toString,yI={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function p0(t){return um(t)||lm(t)}a(p0,"isTypedArray$1");function um(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}a(um,"isStrictTypedArray");function lm(t){return yI[mI.call(t)]}a(lm,"isLooseTypedArray");var wI=vI.strict,bI=a(function(e){if(wI(e)){var r=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r}else return Buffer.from(e)},"typedarrayToBuffer");const hm="hex",cm="utf8",Of="0";function Cs(t){return new Uint8Array(t)}a(Cs,"bufferToArray");function dm(t,e=!1){const r=t.toString(hm);return e?Ys(r):r}a(dm,"bufferToHex");function xI(t){return t.toString(cm)}a(xI,"bufferToUtf8");function Lf(t){return bI(t)}a(Lf,"arrayToBuffer");function ls(t,e=!1){return dm(Lf(t),e)}a(ls,"arrayToHex");function EI(t){return xI(Lf(t))}a(EI,"arrayToUtf8");function _I(t){return Buffer.from(xi(t),hm)}a(_I,"hexToBuffer");function hs(t){return Cs(_I(t))}a(hs,"hexToArray");function g0(t){return Buffer.from(t,cm)}a(g0,"utf8ToBuffer");function AI(t){return Cs(g0(t))}a(AI,"utf8ToArray");function SI(t,e=!1){return dm(g0(t),e)}a(SI,"utf8ToHex");function CI(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}a(CI,"isHexString$1");function pm(...t){let e=[];return t.forEach(r=>e=e.concat(Array.from(r))),new Uint8Array([...e])}a(pm,"concatArrays");function TI(t,e=8){const r=t%e;return r?(t-r)/e*e+e:t}a(TI,"calcByteLength");function II(t,e=8,r=Of){return MI(t,TI(t.length,e),r)}a(II,"sanitizeBytes");function MI(t,e,r=Of){return RI(t,e,!0,r)}a(MI,"padLeft");function xi(t){return t.replace(/^0x/,"")}a(xi,"removeHexPrefix");function Ys(t){return t.startsWith("0x")?t:`0x${t}`}a(Ys,"addHexPrefix");function gm(t){return t=xi(t),t=II(t,2),t&&(t=Ys(t)),t}a(gm,"sanitizeHex$1");function NI(t){const e=t.startsWith("0x");return t=xi(t),t=t.startsWith(Of)?t.substring(1):t,e?Ys(t):t}a(NI,"removeHexLeadingZeros$1");function RI(t,e,r,n=Of){const i=e-t.length;let s=t;if(i>0){const o=n.repeat(i);s=r?o+t:t+o}return s}a(RI,"padString");function sl(t){return Lf(new Uint8Array(t))}a(sl,"convertArrayBufferToBuffer");function BI(t,e){return ls(new Uint8Array(t),!e)}a(BI,"convertArrayBufferToHex");function kI(t){return Cs(t).buffer}a(kI,"convertBufferToArrayBuffer");function PI(t){return g0(t)}a(PI,"convertUtf8ToBuffer");function OI(t,e){return SI(t,!e)}a(OI,"convertUtf8ToHex");function LI(t){return hs(t).buffer}a(LI,"convertHexToArrayBuffer");function vm(t,e){const r=xi(gm(new gI(t).toString(16)));return e?r:Ys(r)}a(vm,"convertNumberToHex");var Js={},mm={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var e,r,n,i,s,o,f,l,d,p,x,T,R,N,O,B,k,L,D,H,K,j,ie;(function(J){var ue=typeof Vt=="object"?Vt:typeof self=="object"?self:typeof this=="object"?this:{};J(P(ue,P(t.exports)));function P(b,S){return b!==ue&&(typeof Object.create=="function"?Object.defineProperty(b,"__esModule",{value:!0}):b.__esModule=!0),function(m,u){return b[m]=S?S(m,u):u}}a(P,"createExporter")})(function(J){var ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,b){P.__proto__=b}||function(P,b){for(var S in b)b.hasOwnProperty(S)&&(P[S]=b[S])};e=a(function(P,b){ue(P,b);function S(){this.constructor=P}a(S,"__"),P.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)},"__extends"),r=Object.assign||function(P){for(var b,S=1,m=arguments.length;S<m;S++){b=arguments[S];for(var u in b)Object.prototype.hasOwnProperty.call(b,u)&&(P[u]=b[u])}return P},n=a(function(P,b){var S={};for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&b.indexOf(m)<0&&(S[m]=P[m]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,m=Object.getOwnPropertySymbols(P);u<m.length;u++)b.indexOf(m[u])<0&&Object.prototype.propertyIsEnumerable.call(P,m[u])&&(S[m[u]]=P[m[u]]);return S},"__rest"),i=a(function(P,b,S,m){var u=arguments.length,c=u<3?b:m===null?m=Object.getOwnPropertyDescriptor(b,S):m,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(P,b,S,m);else for(var y=P.length-1;y>=0;y--)(v=P[y])&&(c=(u<3?v(c):u>3?v(b,S,c):v(b,S))||c);return u>3&&c&&Object.defineProperty(b,S,c),c},"__decorate"),s=a(function(P,b){return function(S,m){b(S,m,P)}},"__param"),o=a(function(P,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(P,b)},"__metadata"),f=a(function(P,b,S,m){function u(c){return c instanceof S?c:new S(function(v){v(c)})}return a(u,"adopt"),new(S||(S=Promise))(function(c,v){function y(_){try{g(m.next(_))}catch(w){v(w)}}a(y,"fulfilled");function E(_){try{g(m.throw(_))}catch(w){v(w)}}a(E,"rejected");function g(_){_.done?c(_.value):u(_.value).then(y,E)}a(g,"step"),g((m=m.apply(P,b||[])).next())})},"__awaiter"),l=a(function(P,b){var S={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},m,u,c,v;return v={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function y(g){return function(_){return E([g,_])}}function E(g){if(m)throw new TypeError("Generator is already executing.");for(;S;)try{if(m=1,u&&(c=g[0]&2?u.return:g[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,g[1])).done)return c;switch(u=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return S.label++,{value:g[1],done:!1};case 5:S.label++,u=g[1],g=[0];continue;case 7:g=S.ops.pop(),S.trys.pop();continue;default:if(c=S.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){S=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){S.label=g[1];break}if(g[0]===6&&S.label<c[1]){S.label=c[1],c=g;break}if(c&&S.label<c[2]){S.label=c[2],S.ops.push(g);break}c[2]&&S.ops.pop(),S.trys.pop();continue}g=b.call(P,S)}catch(_){g=[6,_],u=0}finally{m=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},"__generator"),ie=a(function(P,b,S,m){m===void 0&&(m=S),P[m]=b[S]},"__createBinding"),d=a(function(P,b){for(var S in P)S!=="default"&&!b.hasOwnProperty(S)&&(b[S]=P[S])},"__exportStar"),p=a(function(P){var b=typeof Symbol=="function"&&Symbol.iterator,S=b&&P[b],m=0;if(S)return S.call(P);if(P&&typeof P.length=="number")return{next:function(){return P&&m>=P.length&&(P=void 0),{value:P&&P[m++],done:!P}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),x=a(function(P,b){var S=typeof Symbol=="function"&&P[Symbol.iterator];if(!S)return P;var m=S.call(P),u,c=[],v;try{for(;(b===void 0||b-- >0)&&!(u=m.next()).done;)c.push(u.value)}catch(y){v={error:y}}finally{try{u&&!u.done&&(S=m.return)&&S.call(m)}finally{if(v)throw v.error}}return c},"__read"),T=a(function(){for(var P=[],b=0;b<arguments.length;b++)P=P.concat(x(arguments[b]));return P},"__spread"),R=a(function(){for(var P=0,b=0,S=arguments.length;b<S;b++)P+=arguments[b].length;for(var m=Array(P),u=0,b=0;b<S;b++)for(var c=arguments[b],v=0,y=c.length;v<y;v++,u++)m[u]=c[v];return m},"__spreadArrays"),N=a(function(P){return this instanceof N?(this.v=P,this):new N(P)},"__await"),O=a(function(P,b,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=S.apply(P,b||[]),u,c=[];return u={},v("next"),v("throw"),v("return"),u[Symbol.asyncIterator]=function(){return this},u;function v(h){m[h]&&(u[h]=function(A){return new Promise(function($,I){c.push([h,A,$,I])>1||y(h,A)})})}function y(h,A){try{E(m[h](A))}catch($){w(c[0][3],$)}}function E(h){h.value instanceof N?Promise.resolve(h.value.v).then(g,_):w(c[0][2],h)}function g(h){y("next",h)}function _(h){y("throw",h)}function w(h,A){h(A),c.shift(),c.length&&y(c[0][0],c[0][1])}},"__asyncGenerator"),B=a(function(P){var b,S;return b={},m("next"),m("throw",function(u){throw u}),m("return"),b[Symbol.iterator]=function(){return this},b;function m(u,c){b[u]=P[u]?function(v){return(S=!S)?{value:N(P[u](v)),done:u==="return"}:c?c(v):v}:c}},"__asyncDelegator"),k=a(function(P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b=P[Symbol.asyncIterator],S;return b?b.call(P):(P=typeof p=="function"?p(P):P[Symbol.iterator](),S={},m("next"),m("throw"),m("return"),S[Symbol.asyncIterator]=function(){return this},S);function m(c){S[c]=P[c]&&function(v){return new Promise(function(y,E){v=P[c](v),u(y,E,v.done,v.value)})}}function u(c,v,y,E){Promise.resolve(E).then(function(g){c({value:g,done:y})},v)}},"__asyncValues"),L=a(function(P,b){return Object.defineProperty?Object.defineProperty(P,"raw",{value:b}):P.raw=b,P},"__makeTemplateObject"),D=a(function(P){if(P&&P.__esModule)return P;var b={};if(P!=null)for(var S in P)Object.hasOwnProperty.call(P,S)&&(b[S]=P[S]);return b.default=P,b},"__importStar"),H=a(function(P){return P&&P.__esModule?P:{default:P}},"__importDefault"),K=a(function(P,b){if(!b.has(P))throw new TypeError("attempted to get private field on non-instance");return b.get(P)},"__classPrivateFieldGet"),j=a(function(P,b,S){if(!b.has(P))throw new TypeError("attempted to set private field on non-instance");return b.set(P,S),S},"__classPrivateFieldSet"),J("__extends",e),J("__assign",r),J("__rest",n),J("__decorate",i),J("__param",s),J("__metadata",o),J("__awaiter",f),J("__generator",l),J("__exportStar",d),J("__createBinding",ie),J("__values",p),J("__read",x),J("__spread",T),J("__spreadArrays",R),J("__await",N),J("__asyncGenerator",O),J("__asyncDelegator",B),J("__asyncValues",k),J("__makeTemplateObject",L),J("__importStar",D),J("__importDefault",H),J("__classPrivateFieldGet",K),J("__classPrivateFieldSet",j)})})(mm);var zn={},Dc;function UI(){if(Dc)return zn;Dc=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.isBrowserCryptoAvailable=zn.getSubtleCrypto=zn.getBrowerCrypto=void 0;function t(){return(Vt===null||Vt===void 0?void 0:Vt.crypto)||(Vt===null||Vt===void 0?void 0:Vt.msCrypto)||{}}a(t,"getBrowerCrypto"),zn.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}a(e,"getSubtleCrypto"),zn.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return a(r,"isBrowserCryptoAvailable"),zn.isBrowserCryptoAvailable=r,zn}a(UI,"requireCrypto");var $n={},Fc;function DI(){if(Fc)return $n;Fc=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.isBrowser=$n.isNode=$n.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}a(t,"isReactNative"),$n.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}a(e,"isNode"),$n.isNode=e;function r(){return!t()&&!e()}return a(r,"isBrowser"),$n.isBrowser=r,$n}a(DI,"requireEnv");(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=mm.exports;e.__exportStar(UI(),t),e.__exportStar(DI(),t)})(Js);function FI(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}a(FI,"payloadId$1");function so(t){return gm(t)}a(so,"sanitizeHex");function qI(t){return NI(Ys(t))}a(qI,"removeHexLeadingZeros");const al=FI;function vu(){return((e,r)=>{for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r})()}a(vu,"uuid");function VI(t,e){let r;const n=pI[t];return n&&(r=`https://${n}.infura.io/v3/${e}`),r}a(VI,"getInfuraRpcUrl");function KI(t,e){let r;const n=VI(t,e.infuraId);return e.custom&&e.custom[t]?r=e.custom[t]:n&&(r=n),r}a(KI,"getRpcUrl");function HI(t){return t===""||typeof t=="string"&&t.trim()===""}a(HI,"isEmptyString");function GI(t){return!(t&&t.length)}a(GI,"isEmptyArray");function ym(t,e){return CI(t,e)}a(ym,"isHexString");function jI(t){return typeof t.method<"u"}a(jI,"isJsonRpcRequest");function ca(t){return typeof t.result<"u"}a(ca,"isJsonRpcResponseSuccess");function Zo(t){return typeof t.error<"u"}a(Zo,"isJsonRpcResponseError");function qc(t){return typeof t.event<"u"}a(qc,"isInternalEvent");function zI(t){return dI.includes(t)||t.startsWith("wc_")}a(zI,"isReservedEvent");function $I(t){return t.method.startsWith("wc_")?!0:!d0.includes(t.method)}a($I,"isSilentPayload");function WI(t){t=xi(t.toLowerCase());const e=xi(Jl.exports.keccak_256(PI(t)));let r="";for(let n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return Ys(r)}a(WI,"toChecksumAddress");const QI=a(t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===WI(t):!1:!1,"isValidAddress");function ef(t){return!GI(t)&&!ym(t[0])&&(t[0]=OI(t[0])),t}a(ef,"parsePersonalSign");function mu(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!QI(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(i){let s=i;return(typeof i=="number"||typeof i=="string"&&!HI(i))&&(ym(i)?typeof i=="string"&&(s=so(i)):s=vm(i)),typeof s=="string"&&(s=qI(s)),s}a(e,"parseHexValues");const r={from:so(t.from),to:typeof t.to>"u"?void 0:so(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":so(t.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(i=>{(typeof r[i]>"u"||typeof r[i]=="string"&&!r[i].trim().length)&&n.includes(i)&&delete r[i]}),r}a(mu,"parseTransactionData");function YI(t){const e=t.message||"Failed or Rejected Request";let r=-32e3;if(t&&!t.code)switch(e){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3;break}const n={code:r,message:e};return t.data&&(n.data=t.data),n}a(YI,"formatRpcError");var v0={},JI=a(t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),"strictUriEncode"),wm="%[a-f0-9]{2}",Vc=new RegExp(wm,"gi"),Kc=new RegExp("("+wm+")+","gi");function ol(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],ol(r),ol(n))}a(ol,"decodeComponents");function XI(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(Vc),r=1;r<e.length;r++)t=ol(e,r).join(""),e=t.match(Vc);return t}}a(XI,"decode$1");function ZI(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Kc.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=XI(r[0]);n!==r[0]&&(e[r[0]]=n)}r=Kc.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}a(ZI,"customDecodeURIComponent");var e6=a(function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return ZI(t)}},"decodeUriComponent"),t6=a((t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},"splitOnFirst");(function(t){const e=JI,r=e6,n=t6,i=a(B=>B==null,"isNullOrUndefined");function s(B){switch(B.arrayFormat){case"index":return k=>(L,D)=>{const H=L.length;return D===void 0||B.skipNull&&D===null||B.skipEmptyString&&D===""?L:D===null?[...L,[l(k,B),"[",H,"]"].join("")]:[...L,[l(k,B),"[",l(H,B),"]=",l(D,B)].join("")]};case"bracket":return k=>(L,D)=>D===void 0||B.skipNull&&D===null||B.skipEmptyString&&D===""?L:D===null?[...L,[l(k,B),"[]"].join("")]:[...L,[l(k,B),"[]=",l(D,B)].join("")];case"comma":case"separator":return k=>(L,D)=>D==null||D.length===0?L:L.length===0?[[l(k,B),"=",l(D,B)].join("")]:[[L,l(D,B)].join(B.arrayFormatSeparator)];default:return k=>(L,D)=>D===void 0||B.skipNull&&D===null||B.skipEmptyString&&D===""?L:D===null?[...L,l(k,B)]:[...L,[l(k,B),"=",l(D,B)].join("")]}}a(s,"encoderForArrayFormat");function o(B){let k;switch(B.arrayFormat){case"index":return(L,D,H)=>{if(k=/\[(\d*)\]$/.exec(L),L=L.replace(/\[\d*\]$/,""),!k){H[L]=D;return}H[L]===void 0&&(H[L]={}),H[L][k[1]]=D};case"bracket":return(L,D,H)=>{if(k=/(\[\])$/.exec(L),L=L.replace(/\[\]$/,""),!k){H[L]=D;return}if(H[L]===void 0){H[L]=[D];return}H[L]=[].concat(H[L],D)};case"comma":case"separator":return(L,D,H)=>{const j=typeof D=="string"&&D.split("").indexOf(B.arrayFormatSeparator)>-1?D.split(B.arrayFormatSeparator).map(ie=>d(ie,B)):D===null?D:d(D,B);H[L]=j};default:return(L,D,H)=>{if(H[L]===void 0){H[L]=D;return}H[L]=[].concat(H[L],D)}}}a(o,"parserForArrayFormat");function f(B){if(typeof B!="string"||B.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}a(f,"validateArrayFormatSeparator");function l(B,k){return k.encode?k.strict?e(B):encodeURIComponent(B):B}a(l,"encode");function d(B,k){return k.decode?r(B):B}a(d,"decode");function p(B){return Array.isArray(B)?B.sort():typeof B=="object"?p(Object.keys(B)).sort((k,L)=>Number(k)-Number(L)).map(k=>B[k]):B}a(p,"keysSorter");function x(B){const k=B.indexOf("#");return k!==-1&&(B=B.slice(0,k)),B}a(x,"removeHash");function T(B){let k="";const L=B.indexOf("#");return L!==-1&&(k=B.slice(L)),k}a(T,"getHash");function R(B){B=x(B);const k=B.indexOf("?");return k===-1?"":B.slice(k+1)}a(R,"extract");function N(B,k){return k.parseNumbers&&!Number.isNaN(Number(B))&&typeof B=="string"&&B.trim()!==""?B=Number(B):k.parseBooleans&&B!==null&&(B.toLowerCase()==="true"||B.toLowerCase()==="false")&&(B=B.toLowerCase()==="true"),B}a(N,"parseValue");function O(B,k){k=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},k),f(k.arrayFormatSeparator);const L=o(k),D=Object.create(null);if(typeof B!="string"||(B=B.trim().replace(/^[?#&]/,""),!B))return D;for(const H of B.split("&")){let[K,j]=n(k.decode?H.replace(/\+/g," "):H,"=");j=j===void 0?null:["comma","separator"].includes(k.arrayFormat)?j:d(j,k),L(d(K,k),j,D)}for(const H of Object.keys(D)){const K=D[H];if(typeof K=="object"&&K!==null)for(const j of Object.keys(K))K[j]=N(K[j],k);else D[H]=N(K,k)}return k.sort===!1?D:(k.sort===!0?Object.keys(D).sort():Object.keys(D).sort(k.sort)).reduce((H,K)=>{const j=D[K];return Boolean(j)&&typeof j=="object"&&!Array.isArray(j)?H[K]=p(j):H[K]=j,H},Object.create(null))}a(O,"parse"),t.extract=R,t.parse=O,t.stringify=(B,k)=>{if(!B)return"";k=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},k),f(k.arrayFormatSeparator);const L=a(j=>k.skipNull&&i(B[j])||k.skipEmptyString&&B[j]==="","shouldFilter"),D=s(k),H={};for(const j of Object.keys(B))L(j)||(H[j]=B[j]);const K=Object.keys(H);return k.sort!==!1&&K.sort(k.sort),K.map(j=>{const ie=B[j];return ie===void 0?"":ie===null?l(j,k):Array.isArray(ie)?ie.reduce(D(j),[]).join("&"):l(j,k)+"="+l(ie,k)}).filter(j=>j.length>0).join("&")},t.parseUrl=(B,k)=>{k=Object.assign({decode:!0},k);const[L,D]=n(B,"#");return Object.assign({url:L.split("?")[0]||"",query:O(R(B),k)},k&&k.parseFragmentIdentifier&&D?{fragmentIdentifier:d(D,k)}:{})},t.stringifyUrl=(B,k)=>{k=Object.assign({encode:!0,strict:!0},k);const L=x(B.url).split("?")[0]||"",D=t.extract(B.url),H=t.parse(D,{sort:!1}),K=Object.assign(H,B.query);let j=t.stringify(K,k);j&&(j=`?${j}`);let ie=T(B.url);return B.fragmentIdentifier&&(ie=`#${l(B.fragmentIdentifier,k)}`),`${L}${j}${ie}`}})(v0);function r6(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}a(r6,"getQueryString");function n6(t,e){let r=bm(t);return r=Object.assign(Object.assign({},r),e),t=i6(r),t}a(n6,"appendToQueryString");function bm(t){return v0.parse(t)}a(bm,"parseQueryString");function i6(t){return v0.stringify(t)}a(i6,"formatQueryString");function s6(t){return typeof t.bridge<"u"}a(s6,"isWalletConnectSession");function a6(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r);function s(x){const T="@",R=x.split(T);return{handshakeTopic:R[0],version:parseInt(R[1],10)}}a(s,"parseRequiredParams");const o=s(i),f=typeof r<"u"?t.substr(r):"";function l(x){const T=bm(x);return{key:T.key||"",bridge:T.bridge||""}}a(l,"parseQueryParams");const d=l(f);return Object.assign(Object.assign({protocol:n},o),d)}a(a6,"parseWalletConnectUri");class xm{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,r){this._eventEmitters.push({event:e,callback:r})}trigger(e){let r=[];e&&(r=this._eventEmitters.filter(n=>n.event===e)),r.forEach(n=>{n.callback()})}}a(xm,"NetworkMonitor");const o6=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class Em{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new xm,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,r,n){if(!r||typeof r!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:r,type:"pub",payload:e,silent:!!n})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,r){this._events.push({event:e,callback:r})}_socketCreate(){if(this._nextSocket)return;const e=f6(this._url,this._protocol,this._version);if(this._nextSocket=new o6(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=r=>this._socketReceive(r),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=r=>this._socketError(r),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const r=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(r):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let r;try{r=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:r.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const n=this._events.filter(i=>i.event==="message");n&&n.length&&n.forEach(i=>i.callback(r))}}_socketError(e){const r=this._events.filter(n=>n.event==="error");r&&r.length&&r.forEach(n=>n.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(r=>this._queue.push({topic:r,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(r=>this._socketSend(r)),this._queue=[]}}a(Em,"SocketTransport");function f6(t,e,r){var n,i;const o=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),f=Zv()?{protocol:e,version:r,env:"browser",host:((n=rm())===null||n===void 0?void 0:n.host)||""}:{protocol:e,version:r,env:((i=Bf())===null||i===void 0?void 0:i.name)||""},l=n6(r6(o[1]||""),f);return o[0]+"?"+l}a(f6,"getWebSocketUrl");const yu="Session currently connected",Ri="Session currently disconnected",u6="Session Rejected",l6="Missing JSON RPC response",h6='JSON-RPC success response must include "result" field',c6='JSON-RPC error response must include "error" field',d6='JSON RPC request must have valid "method" value',p6='JSON RPC request must have valid "id" value',g6="Missing one of the required parameters: bridge / uri / session",Hc="JSON RPC response format is invalid",v6="URI format is invalid",m6="QRCode Modal not provided",Gc="User close QRCode Modal";class _m{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(r=>r.event!==e)}trigger(e){let r=[],n;jI(e)?n=e.method:ca(e)||Zo(e)?n=`response:${e.id}`:qc(e)?n=e.event:n="",n&&(r=this._eventEmitters.filter(i=>i.event===n)),(!r||!r.length)&&!zI(n)&&!qc(n)&&(r=this._eventEmitters.filter(i=>i.event==="call_request")),r.forEach(i=>{if(Zo(e)){const s=new Error(e.error.message);i.callback(s,null)}else i.callback(null,e)})}}a(_m,"EventManager");class Am{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const r=h0(this.storageId);return r&&s6(r)&&(e=r),e}setSession(e){return l0(this.storageId,e),e}removeSession(){c0(this.storageId)}}a(Am,"SessionStorage");const y6="walletconnect.org",w6="abcdefghijklmnopqrstuvwxyz0123456789",Sm=w6.split("").map(t=>`https://${t}.bridge.walletconnect.org`);function b6(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}a(b6,"extractHostname");function x6(t){return b6(t).split(".").slice(-2).join(".")}a(x6,"extractRootDomain");function E6(){return Math.floor(Math.random()*Sm.length)}a(E6,"randomBridgeIndex");function _6(){return Sm[E6()]}a(_6,"selectRandomBridgeUrl");function A6(t){return x6(t)===y6}a(A6,"shouldSelectRandomly");function S6(t){return A6(t)?_6():t}a(S6,"getBridgeUrl");class Cm{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new _m,this._clientMeta=il()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new Am(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...d0,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(g6);e.connectorOpts.bridge&&(this.bridge=S6(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const r=e.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new Em({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){!e||(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const r=LI(e);this._key=r}get key(){return this._key?BI(this._key,!0):""}set clientId(e){!e||(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=vu()),this._clientId}set peerId(e){!e||(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=il()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){!e||(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){!e||(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:r,bridge:n,key:i}=this._parseUri(e);this.handshakeTopic=r,this.bridge=n,this.key=i}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){!e||(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,r){const n={event:e,callback:r};this._eventManager.subscribe(n)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const r=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=r.id,this.handshakeTopic=vu(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Gc)});const n=a(()=>{this.killSession()},"endInstantRequest");try{const i=await this._sendCallRequest(r);return i&&n(),i}catch(i){throw n(),i}}async connect(e){if(!this._qrcodeModal)throw new Error(m6);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(r,n)=>{this.on("modal_closed",()=>n(new Error(Gc))),this.on("connect",(i,s)=>{if(i)return n(i);r(s.params[0])})}))}async createSession(e){if(this._connected)throw new Error(yu);if(this.pending)return;this._key=await this._generateKey();const r=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=r.id,this.handshakeTopic=vu(),this._sendSessionRequest(r,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(yu);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:r};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(yu);const r=e&&e.message?e.message:u6,n=this._formatResponse({id:this.handshakeId,error:{message:r}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(Ri);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[r]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const r=e?e.message:"Session Disconnected",n={approved:!1,chainId:null,networkId:null,accounts:null},i=this._formatRequest({method:"wc_sessionUpdate",params:[n]});await this._sendRequest(i),this._handleSessionDisconnect(r)}async sendTransaction(e){if(!this._connected)throw new Error(Ri);const r=mu(e),n=this._formatRequest({method:"eth_sendTransaction",params:[r]});return await this._sendCallRequest(n)}async signTransaction(e){if(!this._connected)throw new Error(Ri);const r=mu(e),n=this._formatRequest({method:"eth_signTransaction",params:[r]});return await this._sendCallRequest(n)}async signMessage(e){if(!this._connected)throw new Error(Ri);const r=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(r)}async signPersonalMessage(e){if(!this._connected)throw new Error(Ri);e=ef(e);const r=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(r)}async signTypedData(e){if(!this._connected)throw new Error(Ri);const r=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(r)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const r=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(r)}unsafeSend(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),new Promise((n,i)=>{this._subscribeToResponse(e.id,(s,o)=>{if(s){i(s);return}if(!o)throw new Error(l6);n(o)})})}async sendCustomRequest(e,r){if(!this._connected)throw new Error(Ri);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return vm(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=mu(e.params[0]));break;case"personal_sign":e.params&&(e.params=ef(e.params));break}const n=this._formatRequest(e);return await this._sendCallRequest(n,r)}approveRequest(e){if(ca(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(h6)}rejectRequest(e){if(Zo(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(c6)}transportClose(){this._transport.close()}async _sendRequest(e,r){const n=this._formatRequest(e),i=await this._encrypt(n),s=typeof(r==null?void 0:r.topic)<"u"?r.topic:this.peerId,o=JSON.stringify(i),f=typeof(r==null?void 0:r.forcePushNotification)<"u"?!r.forcePushNotification:$I(n);this._transport.send(o,s,f)}async _sendResponse(e){const r=await this._encrypt(e),n=this.peerId,i=JSON.stringify(r),s=!0;this._transport.send(i,n,s)}async _sendSessionRequest(e,r,n){this._sendRequest(e,n),this._subscribeToSessionResponse(e.id,r)}_sendCallRequest(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(d6);return{id:typeof e.id>"u"?al():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(p6);const r={id:e.id,jsonrpc:"2.0"};if(Zo(e)){const n=YI(e.error);return Object.assign(Object.assign(Object.assign({},r),e),{error:n})}else if(ca(e))return Object.assign(Object.assign({},r),e);throw new Error(Hc)}_handleSessionDisconnect(e){const r=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),c0(Xo)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,r){r?r.approved?(this._connected?(r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),r.peerId&&!this.peerId&&(this.peerId=r.peerId),r.peerMeta&&!this.peerMeta&&(this.peerMeta=r.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let n;try{n=JSON.parse(e.payload)}catch{return}const i=await this._decrypt(n);i&&this._eventManager.trigger(i)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,r){this.on(`response:${e}`,r)}_subscribeToSessionResponse(e,r){this._subscribeToResponse(e,(n,i)=>{if(n){this._handleSessionResponse(n.message);return}ca(i)?this._handleSessionResponse(r,i.result):i.error&&i.error.message?this._handleSessionResponse(i.error.message):this._handleSessionResponse(r)})}_subscribeToCallResponse(e){return new Promise((r,n)=>{this._subscribeToResponse(e,(i,s)=>{if(i){n(i);return}ca(s)?r(s.result):s.error&&s.error.message?n(s.error):n(new Error(Hc))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,r)=>{const{request:n}=r.params[0];if(Jv()&&this._signingMethods.includes(n.method)){const i=h0(Xo);i&&(window.location.href=i.href)}}),this.on("wc_sessionRequest",(e,r)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=r.id,this.peerId=r.params[0].peerId,this.peerMeta=r.params[0].peerMeta;const n=Object.assign(Object.assign({},r),{method:"session_request"});this._eventManager.trigger(n)}),this.on("wc_sessionUpdate",(e,r)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",r.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,r=this.handshakeTopic,n=this.version,i=encodeURIComponent(this.bridge),s=this.key;return`${e}:${r}@${n}?bridge=${i}&key=${s}`}_parseUri(e){const r=a6(e);if(r.protocol===this.protocol){if(!r.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const n=r.handshakeTopic;if(!r.bridge)throw Error("Invalid or missing bridge url parameter value");const i=decodeURIComponent(r.bridge);if(!r.key)throw Error("Invalid or missing key parameter value");const s=r.key;return{handshakeTopic:n,bridge:i,key:s}}else throw new Error(v6)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.encrypt(e,r):null}async _decrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.decrypt(e,r):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const r={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(n,i)=>{if(n)throw n;if(e.peerMeta){const s=i.params[0].peerMeta.name;r.peerName=s}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}a(Cm,"Connector");function C6(t){return Js.getBrowerCrypto().getRandomValues(new Uint8Array(t))}a(C6,"randomBytes");const Tm=256,Im=Tm,T6=Tm,Ei="AES-CBC",I6=`SHA-${Im}`,fl="HMAC",M6="encrypt",N6="decrypt",R6="sign",B6="verify";function k6(t){return t===Ei?{length:Im,name:Ei}:{hash:{name:I6},name:fl}}a(k6,"getAlgo");function P6(t){return t===Ei?[M6,N6]:[R6,B6]}a(P6,"getOps");async function m0(t,e=Ei){return Js.getSubtleCrypto().importKey("raw",t,k6(e),!0,P6(e))}a(m0,"browserImportKey");async function O6(t,e,r){const n=Js.getSubtleCrypto(),i=await m0(e,Ei),s=await n.encrypt({iv:t,name:Ei},i,r);return new Uint8Array(s)}a(O6,"browserAesEncrypt");async function L6(t,e,r){const n=Js.getSubtleCrypto(),i=await m0(e,Ei),s=await n.decrypt({iv:t,name:Ei},i,r);return new Uint8Array(s)}a(L6,"browserAesDecrypt");async function U6(t,e){const r=Js.getSubtleCrypto(),n=await m0(t,fl),i=await r.sign({length:T6,name:fl},n,e);return new Uint8Array(i)}a(U6,"browserHmacSha256Sign");function D6(t,e,r){return O6(t,e,r)}a(D6,"aesCbcEncrypt");function F6(t,e,r){return L6(t,e,r)}a(F6,"aesCbcDecrypt");async function Mm(t,e){return await U6(t,e)}a(Mm,"hmacSha256Sign");async function Nm(t){const e=(t||256)/8,r=C6(e);return kI(Lf(r))}a(Nm,"generateKey");async function Rm(t,e){const r=hs(t.data),n=hs(t.iv),i=hs(t.hmac),s=ls(i,!1),o=pm(r,n),f=await Mm(e,o),l=ls(f,!1);return xi(s)===xi(l)}a(Rm,"verifyHmac");async function q6(t,e,r){const n=Cs(sl(e)),i=r||await Nm(128),s=Cs(sl(i)),o=ls(s,!1),f=JSON.stringify(t),l=AI(f),d=await D6(s,n,l),p=ls(d,!1),x=pm(d,s),T=await Mm(n,x),R=ls(T,!1);return{data:p,hmac:R,iv:o}}a(q6,"encrypt");async function V6(t,e){const r=Cs(sl(e));if(!r)throw new Error("Missing key: required for decryption");if(!await Rm(t,r))return null;const i=hs(t.data),s=hs(t.iv),o=await F6(s,r,i),f=EI(o);let l;try{l=JSON.parse(f)}catch{return null}return l}a(V6,"decrypt");const K6=Object.freeze(Object.defineProperty({__proto__:null,generateKey:Nm,verifyHmac:Rm,encrypt:q6,decrypt:V6},Symbol.toStringTag,{value:"Module"}));class Bm extends Cm{constructor(e,r){super({cryptoLib:K6,connectorOpts:e,pushServerOpts:r})}}a(Bm,"WalletConnect");const H6=Td(cI);var ja={},G6=a(function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},"canPromise$1"),km={},Ai={},j6={}.toString,y0=Array.isArray||function(t){return j6.call(t)=="[object Array]"},z6=y0;function $6(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}a($6,"typedArraySupport");At.TYPED_ARRAY_SUPPORT=$6();var jc=At.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function At(t,e,r){return!At.TYPED_ARRAY_SUPPORT&&!(this instanceof At)?new At(t,e,r):typeof t=="number"?Pm(this,t):e4(this,t,e,r)}a(At,"Buffer$2");At.TYPED_ARRAY_SUPPORT&&(At.prototype.__proto__=Uint8Array.prototype,At.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&At[Symbol.species]===At&&Object.defineProperty(At,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function w0(t){if(t>=jc)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+jc.toString(16)+" bytes");return t|0}a(w0,"checked");function W6(t){return t!==t}a(W6,"isnan");function Ts(t,e){var r;return At.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=At.prototype):(r=t,r===null&&(r=new At(e)),r.length=e),r}a(Ts,"createBuffer");function Pm(t,e){var r=Ts(t,e<0?0:w0(e)|0);if(!At.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}a(Pm,"allocUnsafe");function Q6(t,e){var r=Lm(e)|0,n=Ts(t,r),i=n.write(e);return i!==r&&(n=n.slice(0,i)),n}a(Q6,"fromString");function ul(t,e){for(var r=e.length<0?0:w0(e.length)|0,n=Ts(t,r),i=0;i<r;i+=1)n[i]=e[i]&255;return n}a(ul,"fromArrayLike");function Y6(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var i;return r===void 0&&n===void 0?i=new Uint8Array(e):n===void 0?i=new Uint8Array(e,r):i=new Uint8Array(e,r,n),At.TYPED_ARRAY_SUPPORT?i.__proto__=At.prototype:i=ul(t,i),i}a(Y6,"fromArrayBuffer");function J6(t,e){if(At.isBuffer(e)){var r=w0(e.length)|0,n=Ts(t,r);return n.length===0||e.copy(n,0,0,r),n}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||W6(e.length)?Ts(t,0):ul(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return ul(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}a(J6,"fromObject");function Om(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}a(Om,"utf8ToBytes");function Lm(t){if(At.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:Om(t).length}a(Lm,"byteLength");function X6(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}a(X6,"blitBuffer");function Z6(t,e,r,n){return X6(Om(e,t.length-r),t,r,n)}a(Z6,"utf8Write");function e4(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Y6(t,e,r,n):typeof e=="string"?Q6(t,e):J6(t,e)}a(e4,"from");At.prototype.write=a(function(e,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var i=this.length-r;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return Z6(this,e,r,n)},"write");At.prototype.slice=a(function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(At.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=At.prototype;else{var s=r-e;i=new At(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+e]}return i},"slice");At.prototype.copy=a(function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n,o;if(this===e&&n<r&&r<i)for(o=s-1;o>=0;--o)e[o+r]=this[o+n];else if(s<1e3||!At.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),r);return s},"copy");At.prototype.fill=a(function(e,r,n){if(typeof e=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),e.length===1){var i=e.charCodeAt(0);i<256&&(e=i)}}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{var o=At.isBuffer(e)?e:new At(e),f=o.length;for(s=0;s<n-r;++s)this[s+r]=o[s%f]}return this},"fill");At.concat=a(function(e,r){if(!z6(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ts(null,0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=Pm(null,r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!At.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i},"concat");At.byteLength=Lm;At.prototype._isBuffer=!0;At.isBuffer=a(function(e){return!!(e!=null&&e._isBuffer)},"isBuffer");Ai.alloc=function(t){var e=new At(t);return e.fill(0),e};Ai.from=function(t){return new At(t)};var zr={},b0,t4=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];zr.getSymbolSize=a(function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},"getSymbolSize");zr.getSymbolTotalCodewords=a(function(e){return t4[e]},"getSymbolTotalCodewords");zr.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};zr.setToSJISFunction=a(function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');b0=e},"setToSJISFunction");zr.isKanjiModeEnabled=function(){return typeof b0<"u"};zr.toSJIS=a(function(e){return b0(e)},"toSJIS");var Uf={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}a(e,"fromString"),t.isValid=a(function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},"isValid"),t.from=a(function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}},"from")})(Uf);function Um(){this.buffer=[],this.length=0}a(Um,"BitBuffer$1");Um.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var r4=Um,zc=Ai;function za(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=zc.alloc(t*t),this.reservedBit=zc.alloc(t*t)}a(za,"BitMatrix$1");za.prototype.set=function(t,e,r,n){var i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};za.prototype.get=function(t,e){return this.data[t*this.size+e]};za.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};za.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var n4=za,Dm={};(function(t){var e=zr.getSymbolSize;t.getRowColCoords=a(function(n){if(n===1)return[];for(var i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,f=[s-7],l=1;l<i-1;l++)f[l]=f[l-1]-o;return f.push(6),f.reverse()},"getRowColCoords"),t.getPositions=a(function(n){for(var i=[],s=t.getRowColCoords(n),o=s.length,f=0;f<o;f++)for(var l=0;l<o;l++)f===0&&l===0||f===0&&l===o-1||f===o-1&&l===0||i.push([s[f],s[l]]);return i},"getPositions")})(Dm);var Fm={},i4=zr.getSymbolSize,$c=7;Fm.getPositions=a(function(e){var r=i4(e);return[[0,0],[r-$c,0],[0,r-$c]]},"getPositions");var qm={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=a(function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},"isValid"),t.from=a(function(i){return t.isValid(i)?parseInt(i,10):void 0},"from"),t.getPenaltyN1=a(function(i){for(var s=i.size,o=0,f=0,l=0,d=null,p=null,x=0;x<s;x++){f=l=0,d=p=null;for(var T=0;T<s;T++){var R=i.get(x,T);R===d?f++:(f>=5&&(o+=e.N1+(f-5)),d=R,f=1),R=i.get(T,x),R===p?l++:(l>=5&&(o+=e.N1+(l-5)),p=R,l=1)}f>=5&&(o+=e.N1+(f-5)),l>=5&&(o+=e.N1+(l-5))}return o},"getPenaltyN1"),t.getPenaltyN2=a(function(i){for(var s=i.size,o=0,f=0;f<s-1;f++)for(var l=0;l<s-1;l++){var d=i.get(f,l)+i.get(f,l+1)+i.get(f+1,l)+i.get(f+1,l+1);(d===4||d===0)&&o++}return o*e.N2},"getPenaltyN2"),t.getPenaltyN3=a(function(i){for(var s=i.size,o=0,f=0,l=0,d=0;d<s;d++){f=l=0;for(var p=0;p<s;p++)f=f<<1&2047|i.get(d,p),p>=10&&(f===1488||f===93)&&o++,l=l<<1&2047|i.get(p,d),p>=10&&(l===1488||l===93)&&o++}return o*e.N3},"getPenaltyN3"),t.getPenaltyN4=a(function(i){for(var s=0,o=i.data.length,f=0;f<o;f++)s+=i.data[f];var l=Math.abs(Math.ceil(s*100/o/5)-10);return l*e.N4},"getPenaltyN4");function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}a(r,"getMaskAt"),t.applyMask=a(function(i,s){for(var o=s.size,f=0;f<o;f++)for(var l=0;l<o;l++)s.isReserved(l,f)||s.xor(l,f,r(i,l,f))},"applyMask"),t.getBestMask=a(function(i,s){for(var o=Object.keys(t.Patterns).length,f=0,l=1/0,d=0;d<o;d++){s(d),t.applyMask(d,i);var p=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),p<l&&(l=p,f=d)}return f},"getBestMask")})(qm);var Df={},vi=Uf,ao=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],oo=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Df.getBlocksCount=a(function(e,r){switch(r){case vi.L:return ao[(e-1)*4+0];case vi.M:return ao[(e-1)*4+1];case vi.Q:return ao[(e-1)*4+2];case vi.H:return ao[(e-1)*4+3];default:return}},"getBlocksCount");Df.getTotalCodewordsCount=a(function(e,r){switch(r){case vi.L:return oo[(e-1)*4+0];case vi.M:return oo[(e-1)*4+1];case vi.Q:return oo[(e-1)*4+2];case vi.H:return oo[(e-1)*4+3];default:return}},"getTotalCodewordsCount");var Vm={},Ff={},Km=Ai,ya=Km.alloc(512),tf=Km.alloc(256);a(function(){for(var e=1,r=0;r<255;r++)ya[r]=e,tf[e]=r,e<<=1,e&256&&(e^=285);for(r=255;r<512;r++)ya[r]=ya[r-255]},"initTables")();Ff.log=a(function(e){if(e<1)throw new Error("log("+e+")");return tf[e]},"log");Ff.exp=a(function(e){return ya[e]},"exp");Ff.mul=a(function(e,r){return e===0||r===0?0:ya[tf[e]+tf[r]]},"mul");(function(t){var e=Ai,r=Ff;t.mul=a(function(i,s){for(var o=e.alloc(i.length+s.length-1),f=0;f<i.length;f++)for(var l=0;l<s.length;l++)o[f+l]^=r.mul(i[f],s[l]);return o},"mul"),t.mod=a(function(i,s){for(var o=e.from(i);o.length-s.length>=0;){for(var f=o[0],l=0;l<s.length;l++)o[l]^=r.mul(s[l],f);for(var d=0;d<o.length&&o[d]===0;)d++;o=o.slice(d)}return o},"mod"),t.generateECPolynomial=a(function(i){for(var s=e.from([1]),o=0;o<i;o++)s=t.mul(s,[1,r.exp(o)]);return s},"generateECPolynomial")})(Vm);var Wc=Ai,Hm=Vm,s4=Ds.Buffer;function x0(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}a(x0,"ReedSolomonEncoder$1");x0.prototype.initialize=a(function(e){this.degree=e,this.genPoly=Hm.generateECPolynomial(this.degree)},"initialize");x0.prototype.encode=a(function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var r=Wc.alloc(this.degree),n=s4.concat([e,r],e.length+this.degree),i=Hm.mod(n,this.genPoly),s=this.degree-i.length;if(s>0){var o=Wc.alloc(this.degree);return i.copy(o,s),o}return i},"encode");var a4=x0,Gm={},Si={},E0={};E0.isValid=a(function(e){return!isNaN(e)&&e>=1&&e<=40},"isValid");var jn={},jm="[0-9]+",o4="[A-Z $%*+\\-./:]+",Ra="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ra=Ra.replace(/u/g,"\\u");var f4="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ra+`)(?:.|[\r
]))+`;jn.KANJI=new RegExp(Ra,"g");jn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");jn.BYTE=new RegExp(f4,"g");jn.NUMERIC=new RegExp(jm,"g");jn.ALPHANUMERIC=new RegExp(o4,"g");var u4=new RegExp("^"+Ra+"$"),l4=new RegExp("^"+jm+"$"),h4=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");jn.testKanji=a(function(e){return u4.test(e)},"testKanji");jn.testNumeric=a(function(e){return l4.test(e)},"testNumeric");jn.testAlphanumeric=a(function(e){return h4.test(e)},"testAlphanumeric");(function(t){var e=E0,r=jn;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=a(function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},"getCharCountIndicator"),t.getBestModeForData=a(function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},"getBestModeForData"),t.toString=a(function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},"toString"),t.isValid=a(function(s){return s&&s.bit&&s.ccBits},"isValid");function n(i){if(typeof i!="string")throw new Error("Param is not a string");var s=i.toLowerCase();switch(s){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}a(n,"fromString"),t.from=a(function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}},"from")})(Si);(function(t){var e=zr,r=Df,n=Uf,i=Si,s=E0,o=y0,f=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,l=e.getBCHDigit(f);function d(R,N,O){for(var B=1;B<=40;B++)if(N<=t.getCapacity(B,O,R))return B}a(d,"getBestVersionForDataLength");function p(R,N){return i.getCharCountIndicator(R,N)+4}a(p,"getReservedBitsCount");function x(R,N){var O=0;return R.forEach(function(B){var k=p(B.mode,N);O+=k+B.getBitsLength()}),O}a(x,"getTotalBitsFromDataArray");function T(R,N){for(var O=1;O<=40;O++){var B=x(R,O);if(B<=t.getCapacity(O,N,i.MIXED))return O}}a(T,"getBestVersionForMixedData"),t.from=a(function(N,O){return s.isValid(N)?parseInt(N,10):O},"from"),t.getCapacity=a(function(N,O,B){if(!s.isValid(N))throw new Error("Invalid QR Code version");typeof B>"u"&&(B=i.BYTE);var k=e.getSymbolTotalCodewords(N),L=r.getTotalCodewordsCount(N,O),D=(k-L)*8;if(B===i.MIXED)return D;var H=D-p(B,N);switch(B){case i.NUMERIC:return Math.floor(H/10*3);case i.ALPHANUMERIC:return Math.floor(H/11*2);case i.KANJI:return Math.floor(H/13);case i.BYTE:default:return Math.floor(H/8)}},"getCapacity"),t.getBestVersionForData=a(function(N,O){var B,k=n.from(O,n.M);if(o(N)){if(N.length>1)return T(N,k);if(N.length===0)return 1;B=N[0]}else B=N;return d(B.mode,B.getLength(),k)},"getBestVersionForData"),t.getEncodedBits=a(function(N){if(!s.isValid(N)||N<7)throw new Error("Invalid QR Code version");for(var O=N<<12;e.getBCHDigit(O)-l>=0;)O^=f<<e.getBCHDigit(O)-l;return N<<12|O},"getEncodedBits")})(Gm);var zm={},ll=zr,$m=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,c4=1<<14|1<<12|1<<10|1<<4|1<<1,Qc=ll.getBCHDigit($m);zm.getEncodedBits=a(function(e,r){for(var n=e.bit<<3|r,i=n<<10;ll.getBCHDigit(i)-Qc>=0;)i^=$m<<ll.getBCHDigit(i)-Qc;return(n<<10|i)^c4},"getEncodedBits");var Wm={},d4=Si;function Is(t){this.mode=d4.NUMERIC,this.data=t.toString()}a(Is,"NumericData");Is.getBitsLength=a(function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},"getBitsLength");Is.prototype.getLength=a(function(){return this.data.length},"getLength");Is.prototype.getBitsLength=a(function(){return Is.getBitsLength(this.data.length)},"getBitsLength");Is.prototype.write=a(function(e){var r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);var s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))},"write");var p4=Is,g4=Si,wu=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ms(t){this.mode=g4.ALPHANUMERIC,this.data=t}a(Ms,"AlphanumericData");Ms.getBitsLength=a(function(e){return 11*Math.floor(e/2)+6*(e%2)},"getBitsLength");Ms.prototype.getLength=a(function(){return this.data.length},"getLength");Ms.prototype.getBitsLength=a(function(){return Ms.getBitsLength(this.data.length)},"getBitsLength");Ms.prototype.write=a(function(e){var r;for(r=0;r+2<=this.data.length;r+=2){var n=wu.indexOf(this.data[r])*45;n+=wu.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(wu.indexOf(this.data[r]),6)},"write");var v4=Ms,m4=Ai,y4=Si;function Ns(t){this.mode=y4.BYTE,this.data=m4.from(t)}a(Ns,"ByteData");Ns.getBitsLength=a(function(e){return e*8},"getBitsLength");Ns.prototype.getLength=a(function(){return this.data.length},"getLength");Ns.prototype.getBitsLength=a(function(){return Ns.getBitsLength(this.data.length)},"getBitsLength");Ns.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var w4=Ns,b4=Si,x4=zr;function Rs(t){this.mode=b4.KANJI,this.data=t}a(Rs,"KanjiData");Rs.getBitsLength=a(function(e){return e*13},"getBitsLength");Rs.prototype.getLength=a(function(){return this.data.length},"getLength");Rs.prototype.getBitsLength=a(function(){return Rs.getBitsLength(this.data.length)},"getBitsLength");Rs.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=x4.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var E4=Rs;(function(t){var e=Si,r=p4,n=v4,i=w4,s=E4,o=jn,f=zr,l=r1.exports;function d(k){return unescape(encodeURIComponent(k)).length}a(d,"getStringByteLength");function p(k,L,D){for(var H=[],K;(K=k.exec(D))!==null;)H.push({data:K[0],index:K.index,mode:L,length:K[0].length});return H}a(p,"getSegments");function x(k){var L=p(o.NUMERIC,e.NUMERIC,k),D=p(o.ALPHANUMERIC,e.ALPHANUMERIC,k),H,K;f.isKanjiModeEnabled()?(H=p(o.BYTE,e.BYTE,k),K=p(o.KANJI,e.KANJI,k)):(H=p(o.BYTE_KANJI,e.BYTE,k),K=[]);var j=L.concat(D,H,K);return j.sort(function(ie,J){return ie.index-J.index}).map(function(ie){return{data:ie.data,mode:ie.mode,length:ie.length}})}a(x,"getSegmentsFromString");function T(k,L){switch(L){case e.NUMERIC:return r.getBitsLength(k);case e.ALPHANUMERIC:return n.getBitsLength(k);case e.KANJI:return s.getBitsLength(k);case e.BYTE:return i.getBitsLength(k)}}a(T,"getSegmentBitsLength");function R(k){return k.reduce(function(L,D){var H=L.length-1>=0?L[L.length-1]:null;return H&&H.mode===D.mode?(L[L.length-1].data+=D.data,L):(L.push(D),L)},[])}a(R,"mergeSegments");function N(k){for(var L=[],D=0;D<k.length;D++){var H=k[D];switch(H.mode){case e.NUMERIC:L.push([H,{data:H.data,mode:e.ALPHANUMERIC,length:H.length},{data:H.data,mode:e.BYTE,length:H.length}]);break;case e.ALPHANUMERIC:L.push([H,{data:H.data,mode:e.BYTE,length:H.length}]);break;case e.KANJI:L.push([H,{data:H.data,mode:e.BYTE,length:d(H.data)}]);break;case e.BYTE:L.push([{data:H.data,mode:e.BYTE,length:d(H.data)}])}}return L}a(N,"buildNodes");function O(k,L){for(var D={},H={start:{}},K=["start"],j=0;j<k.length;j++){for(var ie=k[j],J=[],ue=0;ue<ie.length;ue++){var P=ie[ue],b=""+j+ue;J.push(b),D[b]={node:P,lastCount:0},H[b]={};for(var S=0;S<K.length;S++){var m=K[S];D[m]&&D[m].node.mode===P.mode?(H[m][b]=T(D[m].lastCount+P.length,P.mode)-T(D[m].lastCount,P.mode),D[m].lastCount+=P.length):(D[m]&&(D[m].lastCount=P.length),H[m][b]=T(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,L))}}K=J}for(S=0;S<K.length;S++)H[K[S]].end=0;return{map:H,table:D}}a(O,"buildGraph");function B(k,L){var D,H=e.getBestModeForData(k);if(D=e.from(L,H),D!==e.BYTE&&D.bit<H.bit)throw new Error('"'+k+'" cannot be encoded with mode '+e.toString(D)+`.
 Suggested mode is: `+e.toString(H));switch(D===e.KANJI&&!f.isKanjiModeEnabled()&&(D=e.BYTE),D){case e.NUMERIC:return new r(k);case e.ALPHANUMERIC:return new n(k);case e.KANJI:return new s(k);case e.BYTE:return new i(k)}}a(B,"buildSingleSegment"),t.fromArray=a(function(L){return L.reduce(function(D,H){return typeof H=="string"?D.push(B(H,null)):H.data&&D.push(B(H.data,H.mode)),D},[])},"fromArray"),t.fromString=a(function(L,D){for(var H=x(L,f.isKanjiModeEnabled()),K=N(H),j=O(K,D),ie=l.find_path(j.map,"start","end"),J=[],ue=1;ue<ie.length-1;ue++)J.push(j.table[ie[ue]].node);return t.fromArray(R(J))},"fromString"),t.rawSplit=a(function(L){return t.fromArray(x(L,f.isKanjiModeEnabled()))},"rawSplit")})(Wm);var Yc=Ai,qf=zr,bu=Uf,_4=r4,A4=n4,S4=Dm,C4=Fm,hl=qm,cl=Df,T4=a4,rf=Gm,I4=zm,M4=Si,xu=Wm,N4=y0;function R4(t,e){for(var r=t.size,n=C4.getPositions(e),i=0;i<n.length;i++)for(var s=n[i][0],o=n[i][1],f=-1;f<=7;f++)if(!(s+f<=-1||r<=s+f))for(var l=-1;l<=7;l++)o+l<=-1||r<=o+l||(f>=0&&f<=6&&(l===0||l===6)||l>=0&&l<=6&&(f===0||f===6)||f>=2&&f<=4&&l>=2&&l<=4?t.set(s+f,o+l,!0,!0):t.set(s+f,o+l,!1,!0))}a(R4,"setupFinderPattern");function B4(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}a(B4,"setupTimingPattern");function k4(t,e){for(var r=S4.getPositions(e),n=0;n<r.length;n++)for(var i=r[n][0],s=r[n][1],o=-2;o<=2;o++)for(var f=-2;f<=2;f++)o===-2||o===2||f===-2||f===2||o===0&&f===0?t.set(i+o,s+f,!0,!0):t.set(i+o,s+f,!1,!0)}a(k4,"setupAlignmentPattern");function P4(t,e){for(var r=t.size,n=rf.getEncodedBits(e),i,s,o,f=0;f<18;f++)i=Math.floor(f/3),s=f%3+r-8-3,o=(n>>f&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}a(P4,"setupVersionInfo");function Eu(t,e,r){var n=t.size,i=I4.getEncodedBits(e,r),s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}a(Eu,"setupFormatInfo");function O4(t,e){for(var r=t.size,n=-1,i=r-1,s=7,o=0,f=r-1;f>0;f-=2)for(f===6&&f--;;){for(var l=0;l<2;l++)if(!t.isReserved(i,f-l)){var d=!1;o<e.length&&(d=(e[o]>>>s&1)===1),t.set(i,f-l,d),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}a(O4,"setupData");function L4(t,e,r){var n=new _4;r.forEach(function(d){n.put(d.mode.bit,4),n.put(d.getLength(),M4.getCharCountIndicator(d.mode,t)),d.write(n)});var i=qf.getSymbolTotalCodewords(t),s=cl.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var f=(o-n.getLengthInBits())/8,l=0;l<f;l++)n.put(l%2?17:236,8);return U4(n,t,e)}a(L4,"createData");function U4(t,e,r){for(var n=qf.getSymbolTotalCodewords(e),i=cl.getTotalCodewordsCount(e,r),s=n-i,o=cl.getBlocksCount(e,r),f=n%o,l=o-f,d=Math.floor(n/o),p=Math.floor(s/o),x=p+1,T=d-p,R=new T4(T),N=0,O=new Array(o),B=new Array(o),k=0,L=Yc.from(t.buffer),D=0;D<o;D++){var H=D<l?p:x;O[D]=L.slice(N,N+H),B[D]=R.encode(O[D]),N+=H,k=Math.max(k,H)}var K=Yc.alloc(n),j=0,ie,J;for(ie=0;ie<k;ie++)for(J=0;J<o;J++)ie<O[J].length&&(K[j++]=O[J][ie]);for(ie=0;ie<T;ie++)for(J=0;J<o;J++)K[j++]=B[J][ie];return K}a(U4,"createCodewords");function D4(t,e,r,n){var i;if(N4(t))i=xu.fromArray(t);else if(typeof t=="string"){var s=e;if(!s){var o=xu.rawSplit(t);s=rf.getBestVersionForData(o,r)}i=xu.fromString(t,s||40)}else throw new Error("Invalid data");var f=rf.getBestVersionForData(i,r);if(!f)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=f;else if(e<f)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+f+`.
`);var l=L4(e,r,i),d=qf.getSymbolSize(e),p=new A4(d);return R4(p,e),B4(p),k4(p,e),Eu(p,r,0),e>=7&&P4(p,e),O4(p,l),isNaN(n)&&(n=hl.getBestMask(p,Eu.bind(null,p,r))),hl.applyMask(n,p),Eu(p,r,n),{modules:p,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}a(D4,"createSymbol");km.create=a(function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");var n=bu.M,i,s;return typeof r<"u"&&(n=bu.from(r.errorCorrectionLevel,bu.M),i=rf.from(r.version),s=hl.from(r.maskPattern),r.toSJISFunc&&qf.setToSJISFunction(r.toSJISFunc)),D4(e,i,n,s)},"create");var Qm={},_0={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");var i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}a(e,"hex2rgba"),t.getOptions=a(function(n){n||(n={}),n.color||(n.color={});var i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},"getOptions"),t.getScale=a(function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},"getScale"),t.getImageWidth=a(function(n,i){var s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},"getImageWidth"),t.qrToImageData=a(function(n,i,s){for(var o=i.modules.size,f=i.modules.data,l=t.getScale(o,s),d=Math.floor((o+s.margin*2)*l),p=s.margin*l,x=[s.color.light,s.color.dark],T=0;T<d;T++)for(var R=0;R<d;R++){var N=(T*d+R)*4,O=s.color.light;if(T>=p&&R>=p&&T<d-p&&R<d-p){var B=Math.floor((T-p)/l),k=Math.floor((R-p)/l);O=x[f[B*o+k]?1:0]}n[N++]=O.r,n[N++]=O.g,n[N++]=O.b,n[N]=O.a}},"qrToImageData")})(_0);(function(t){var e=_0;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}a(r,"clearCanvas");function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}a(n,"getCanvasElement"),t.render=a(function(s,o,f){var l=f,d=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(d=n()),l=e.getOptions(l);var p=e.getImageWidth(s.modules.size,l),x=d.getContext("2d"),T=x.createImageData(p,p);return e.qrToImageData(T.data,s,l),r(x,d,p),x.putImageData(T,0,0),d},"render"),t.renderToDataURL=a(function(s,o,f){var l=f;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});var d=t.render(s,o,l),p=l.type||"image/png",x=l.rendererOpts||{};return d.toDataURL(p,x.quality)},"renderToDataURL")})(Qm);var Ym={},F4=_0;function Jc(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}a(Jc,"getColorAttrib");function _u(t,e,r){var n=t+e;return typeof r<"u"&&(n+=" "+r),n}a(_u,"svgCmd");function q4(t,e,r){for(var n="",i=0,s=!1,o=0,f=0;f<t.length;f++){var l=Math.floor(f%e),d=Math.floor(f/e);!l&&!s&&(s=!0),t[f]?(o++,f>0&&l>0&&t[f-1]||(n+=s?_u("M",l+r,.5+d+r):_u("m",i,0),i=0,s=!1),l+1<e&&t[f+1]||(n+=_u("h",o),o=0)):i++}return n}a(q4,"qrToPath");Ym.render=a(function(e,r,n){var i=F4.getOptions(r),s=e.modules.size,o=e.modules.data,f=s+i.margin*2,l=i.color.light.a?"<path "+Jc(i.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",d="<path "+Jc(i.color.dark,"stroke")+' d="'+q4(o,s,i.margin)+'"/>',p='viewBox="0 0 '+f+" "+f+'"',x=i.width?'width="'+i.width+'" height="'+i.width+'" ':"",T='<svg xmlns="http://www.w3.org/2000/svg" '+x+p+' shape-rendering="crispEdges">'+l+d+`</svg>
`;return typeof n=="function"&&n(null,T),T},"render");var V4=G6,dl=km,Jm=Qm,K4=Ym;function A0(t,e,r,n,i){var s=[].slice.call(arguments,1),o=s.length,f=typeof s[o-1]=="function";if(!f&&!V4())throw new Error("Callback required as last argument");if(f){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(d,p){try{var x=dl.create(r,n);d(t(x,e,n))}catch(T){p(T)}})}try{var l=dl.create(r,n);i(null,t(l,e,n))}catch(d){i(d)}}a(A0,"renderCanvas");ja.create=dl.create;ja.toCanvas=A0.bind(null,Jm.render);ja.toDataURL=A0.bind(null,Jm.renderToDataURL);ja.toString=A0.bind(null,function(t,e,r){return K4.render(t,r)});var H4=a(function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(i){t.addRange(i)}),e&&e.focus()}},"toggleSelection"),G4=H4,Xc={"text/plain":"Text","text/html":"Url",default:"Text"},j4="Copy to clipboard: #{key}, Enter";function z4(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}a(z4,"format");function $4(t,e){var r,n,i,s,o,f,l=!1;e||(e={}),r=e.debug||!1;try{i=G4(),s=document.createRange(),o=document.getSelection(),f=document.createElement("span"),f.textContent=t,f.ariaHidden="true",f.style.all="unset",f.style.position="fixed",f.style.top=0,f.style.clip="rect(0, 0, 0, 0)",f.style.whiteSpace="pre",f.style.webkitUserSelect="text",f.style.MozUserSelect="text",f.style.msUserSelect="text",f.style.userSelect="text",f.addEventListener("copy",function(p){if(p.stopPropagation(),e.format)if(p.preventDefault(),typeof p.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var x=Xc[e.format]||Xc.default;window.clipboardData.setData(x,t)}else p.clipboardData.clearData(),p.clipboardData.setData(e.format,t);e.onCopy&&(p.preventDefault(),e.onCopy(p.clipboardData))}),document.body.appendChild(f),s.selectNodeContents(f),o.addRange(s);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");l=!0}catch(p){r&&console.error("unable to copy using execCommand: ",p),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(x){r&&console.error("unable to copy using clipboardData: ",x),r&&console.error("falling back to prompt"),n=z4("message"in e?e.message:j4),window.prompt(n,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),f&&document.body.removeChild(f),i()}return l}a($4,"copy$1");var W4=$4,ft,wa,S0,Xm,Zc,C0,Zm,ni={},Vf=[],Q4=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function ti(t,e){for(var r in e)t[r]=e[r];return t}a(ti,"a$1");function ey(t){var e=t.parentNode;e&&e.removeChild(t)}a(ey,"v$1");function fi(t,e,r){var n,i=arguments,s={};for(n in e)n!=="key"&&n!=="ref"&&(s[n]=e[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(i[n]);if(r!=null&&(s.children=r),typeof t=="function"&&t.defaultProps!=null)for(n in t.defaultProps)s[n]===void 0&&(s[n]=t.defaultProps[n]);return nf(t,s,e&&e.key,e&&e.ref,null)}a(fi,"h$1");function nf(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return i==null&&(s.__v=s),ft.vnode&&ft.vnode(s),s}a(nf,"p$1");function ty(){return{}}a(ty,"y$1");function $a(t){return t.children}a($a,"d$1");function mn(t,e){this.props=t,this.context=e}a(mn,"m$1");function Ba(t,e){if(e==null)return t.__?Ba(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Ba(t):null}a(Ba,"w$2");function ry(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return ry(t)}}a(ry,"k$1");function _o(t){(!t.__d&&(t.__d=!0)&&wa.push(t)&&!S0++||Zc!==ft.debounceRendering)&&((Zc=ft.debounceRendering)||Xm)(Y4)}a(_o,"g$1");function Y4(){for(var t;S0=wa.length;)t=wa.sort(function(e,r){return e.__v.__b-r.__v.__b}),wa=[],t.some(function(e){var r,n,i,s,o,f,l;e.__d&&(f=(o=(r=e).__v).__e,(l=r.__P)&&(n=[],(i=ti({},o)).__v=i,s=T0(l,o,i,r.__n,l.ownerSVGElement!==void 0,null,n,f==null?Ba(o):f),iy(n,o),s!=f&&ry(o)))})}a(Y4,"_$2");function ny(t,e,r,n,i,s,o,f,l){var d,p,x,T,R,N,O,B=r&&r.__k||Vf,k=B.length;if(f==ni&&(f=s!=null?s[0]:k?Ba(r,0):null),d=0,e.__k=mi(e.__k,function(L){if(L!=null){if(L.__=e,L.__b=e.__b+1,(x=B[d])===null||x&&L.key==x.key&&L.type===x.type)B[d]=void 0;else for(p=0;p<k;p++){if((x=B[p])&&L.key==x.key&&L.type===x.type){B[p]=void 0;break}x=null}if(T=T0(t,L,x=x||ni,n,i,s,o,f,l),(p=L.ref)&&x.ref!=p&&(O||(O=[]),x.ref&&O.push(x.ref,null,L),O.push(p,L.__c||T,L)),T!=null){var D;if(N==null&&(N=T),L.__d!==void 0)D=L.__d,L.__d=void 0;else if(s==x||T!=f||T.parentNode==null){e:if(f==null||f.parentNode!==t)t.appendChild(T),D=null;else{for(R=f,p=0;(R=R.nextSibling)&&p<k;p+=2)if(R==T)break e;t.insertBefore(T,f),D=f}e.type=="option"&&(t.value="")}f=D!==void 0?D:T.nextSibling,typeof e.type=="function"&&(e.__d=f)}else f&&x.__e==f&&f.parentNode!=t&&(f=Ba(x))}return d++,L}),e.__e=N,s!=null&&typeof e.type!="function")for(d=s.length;d--;)s[d]!=null&&ey(s[d]);for(d=k;d--;)B[d]!=null&&ba(B[d],B[d]);if(O)for(d=0;d<O.length;d++)sy(O[d],O[++d],O[++d])}a(ny,"b");function mi(t,e,r){if(r==null&&(r=[]),t==null||typeof t=="boolean")e&&r.push(e(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)mi(t[n],e,r);else r.push(e?e(typeof t=="string"||typeof t=="number"?nf(null,t,null,null,t):t.__e!=null||t.__c!=null?nf(t.type,t.props,t.key,null,t.__v):t):t);return r}a(mi,"x$1");function J4(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||sf(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||sf(t,s,e[s],r[s],n)}a(J4,"P$1");function ed(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=typeof r=="number"&&Q4.test(e)===!1?r+"px":r==null?"":r}a(ed,"C$1");function sf(t,e,r,n,i){var s,o,f,l,d;if(i?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(s=t.style,typeof r=="string")s.cssText=r;else{if(typeof n=="string"&&(s.cssText="",n=null),n)for(l in n)r&&l in r||ed(s,l,"");if(r)for(d in r)n&&r[d]===n[d]||ed(s,d,r[d])}else e[0]==="o"&&e[1]==="n"?(o=e!==(e=e.replace(/Capture$/,"")),f=e.toLowerCase(),e=(f in t?f:e).slice(2),r?(n||t.addEventListener(e,td,o),(t.l||(t.l={}))[e]=r):t.removeEventListener(e,td,o)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!i&&e in t?t[e]=r==null?"":r:typeof r!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?r==null||r===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,r))}a(sf,"N$1");function td(t){this.l[t.type](ft.event?ft.event(t):t)}a(td,"z$1");function T0(t,e,r,n,i,s,o,f,l){var d,p,x,T,R,N,O,B,k,L,D=e.type;if(e.constructor!==void 0)return null;(d=ft.__b)&&d(e);try{e:if(typeof D=="function"){if(B=e.props,k=(d=D.contextType)&&n[d.__c],L=d?k?k.props.value:d.__:n,r.__c?O=(p=e.__c=r.__c).__=p.__E:("prototype"in D&&D.prototype.render?e.__c=p=new D(B,L):(e.__c=p=new mn(B,L),p.constructor=D,p.render=Z4),k&&k.sub(p),p.props=B,p.state||(p.state={}),p.context=L,p.__n=n,x=p.__d=!0,p.__h=[]),p.__s==null&&(p.__s=p.state),D.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=ti({},p.__s)),ti(p.__s,D.getDerivedStateFromProps(B,p.__s))),T=p.props,R=p.state,x)D.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(D.getDerivedStateFromProps==null&&B!==T&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(B,L),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(B,p.__s,L)===!1||e.__v===r.__v&&!p.__){for(p.props=B,p.state=p.__s,e.__v!==r.__v&&(p.__d=!1),p.__v=e,e.__e=r.__e,e.__k=r.__k,p.__h.length&&o.push(p),d=0;d<e.__k.length;d++)e.__k[d]&&(e.__k[d].__=e);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(B,p.__s,L),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(T,R,N)})}p.context=L,p.props=B,p.state=p.__s,(d=ft.__r)&&d(e),p.__d=!1,p.__v=e,p.__P=t,d=p.render(p.props,p.state,p.context),e.__k=d!=null&&d.type==$a&&d.key==null?d.props.children:Array.isArray(d)?d:[d],p.getChildContext!=null&&(n=ti(ti({},n),p.getChildContext())),x||p.getSnapshotBeforeUpdate==null||(N=p.getSnapshotBeforeUpdate(T,R)),ny(t,e,r,n,i,s,o,f,l),p.base=e.__e,p.__h.length&&o.push(p),O&&(p.__E=p.__=null),p.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=X4(r.__e,e,r,n,i,s,o,l);(d=ft.diffed)&&d(e)}catch(H){e.__v=null,ft.__e(H,e,r)}return e.__e}a(T0,"A$2");function iy(t,e){ft.__c&&ft.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){ft.__e(n,r.__v)}})}a(iy,"T$2");function X4(t,e,r,n,i,s,o,f){var l,d,p,x,T,R=r.props,N=e.props;if(i=e.type==="svg"||i,s!=null){for(l=0;l<s.length;l++)if((d=s[l])!=null&&((e.type===null?d.nodeType===3:d.localName===e.type)||t==d)){t=d,s[l]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(N);t=i?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,N.is&&{is:N.is}),s=null,f=!1}if(e.type===null)R!==N&&t.data!=N&&(t.data=N);else{if(s!=null&&(s=Vf.slice.call(t.childNodes)),p=(R=r.props||ni).dangerouslySetInnerHTML,x=N.dangerouslySetInnerHTML,!f){if(R===ni)for(R={},T=0;T<t.attributes.length;T++)R[t.attributes[T].name]=t.attributes[T].value;(x||p)&&(x&&p&&x.__html==p.__html||(t.innerHTML=x&&x.__html||""))}J4(t,N,R,i,f),x?e.__k=[]:(e.__k=e.props.children,ny(t,e,r,n,e.type!=="foreignObject"&&i,s,o,ni,f)),f||("value"in N&&(l=N.value)!==void 0&&l!==t.value&&sf(t,"value",l,R.value,!1),"checked"in N&&(l=N.checked)!==void 0&&l!==t.checked&&sf(t,"checked",l,R.checked,!1))}return t}a(X4,"$$1");function sy(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ft.__e(n,r)}}a(sy,"j$1");function ba(t,e,r){var n,i,s;if(ft.unmount&&ft.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||sy(n,null,e)),r||typeof t.type=="function"||(r=(i=t.__e)!=null),t.__e=t.__d=void 0,(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){ft.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(s=0;s<n.length;s++)n[s]&&ba(n[s],e,r);i!=null&&ey(i)}a(ba,"D$1");function Z4(t,e,r){return this.constructor(t,r)}a(Z4,"E$2");function ka(t,e,r){var n,i,s;ft.__&&ft.__(t,e),i=(n=r===C0)?null:r&&r.__k||e.__k,t=fi($a,null,[t]),s=[],T0(e,(n?e:r||e).__k=t,i||ni,ni,e.ownerSVGElement!==void 0,r&&!n?[r]:i?null:Vf.slice.call(e.childNodes),s,r||ni,n),iy(s,t)}a(ka,"H$1");function ay(t,e){ka(t,e,C0)}a(ay,"I$1");function eM(t,e){var r,n;for(n in e=ti(ti({},t.props),e),arguments.length>2&&(e.children=Vf.slice.call(arguments,2)),r={},e)n!=="key"&&n!=="ref"&&(r[n]=e[n]);return nf(t.type,r,e.key||t.key,e.ref||t.ref,null)}a(eM,"L$1");function oy(t){var e={},r={__c:"__cC"+Zm++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s=this;return this.getChildContext||(i=[],this.getChildContext=function(){return e[r.__c]=s,e},this.shouldComponentUpdate=function(o){s.props.value!==o.value&&i.some(function(f){f.context=o.value,_o(f)})},this.sub=function(o){i.push(o);var f=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),f&&f.call(o)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}a(oy,"M$1");ft={__e:function(t,e){for(var r,n;e=e.__;)if((r=e.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(t))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(t)),n)return _o(r.__E=r)}catch(i){t=i}throw t}},mn.prototype.setState=function(t,e){var r;r=this.__s!==this.state?this.__s:this.__s=ti({},this.state),typeof t=="function"&&(t=t(r,this.props)),t&&ti(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),_o(this))},mn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_o(this))},mn.prototype.render=$a,wa=[],S0=0,Xm=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,C0=ni,Zm=0;var Yi,Dr,rd,Bs=0,pl=[],nd=ft.__r,id=ft.diffed,sd=ft.__c,ad=ft.unmount;function Xs(t,e){ft.__h&&ft.__h(Dr,t,Bs||e),Bs=0;var r=Dr.__H||(Dr.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}a(Xs,"v");function I0(t){return Bs=1,M0(py,t)}a(I0,"m");function M0(t,e,r){var n=Xs(Yi++,2);return n.__c||(n.__c=Dr,n.__=[r?r(e):py(void 0,e),function(i){var s=t(n.__[0],i);n.__[0]!==s&&(n.__[0]=s,n.__c.setState({}))}]),n.__}a(M0,"p");function fy(t,e){var r=Xs(Yi++,3);!ft.__s&&R0(r.__H,e)&&(r.__=t,r.__H=e,Dr.__H.__h.push(r))}a(fy,"l");function N0(t,e){var r=Xs(Yi++,4);!ft.__s&&R0(r.__H,e)&&(r.__=t,r.__H=e,Dr.__h.push(r))}a(N0,"y");function uy(t){return Bs=5,Kf(function(){return{current:t}},[])}a(uy,"d");function ly(t,e,r){Bs=6,N0(function(){typeof t=="function"?t(e()):t&&(t.current=e())},r==null?r:r.concat(t))}a(ly,"s");function Kf(t,e){var r=Xs(Yi++,7);return R0(r.__H,e)?(r.__H=e,r.__h=t,r.__=t()):r.__}a(Kf,"h");function hy(t,e){return Bs=8,Kf(function(){return t},e)}a(hy,"T$1");function cy(t){var e=Dr.context[t.__c],r=Xs(Yi++,9);return r.__c=t,e?(r.__==null&&(r.__=!0,e.sub(Dr)),e.props.value):t.__}a(cy,"w$1");function dy(t,e){ft.useDebugValue&&ft.useDebugValue(e?e(t):t)}a(dy,"A$1");function tM(t){var e=Xs(Yi++,10),r=I0();return e.__=t,Dr.componentDidCatch||(Dr.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}a(tM,"F$1");function rM(){pl.some(function(t){if(t.__P)try{t.__H.__h.forEach(gl),t.__H.__h.forEach(vl),t.__H.__h=[]}catch(e){return t.__H.__h=[],ft.__e(e,t.__v),!0}}),pl=[]}a(rM,"_$1");function gl(t){t.t&&t.t()}a(gl,"g");function vl(t){var e=t.__();typeof e=="function"&&(t.t=e)}a(vl,"q$1");function R0(t,e){return!t||e.some(function(r,n){return r!==t[n]})}a(R0,"x");function py(t,e){return typeof e=="function"?e(t):e}a(py,"E$1");ft.__r=function(t){nd&&nd(t),Yi=0,(Dr=t.__c).__H&&(Dr.__H.__h.forEach(gl),Dr.__H.__h.forEach(vl),Dr.__H.__h=[])},ft.diffed=function(t){id&&id(t);var e=t.__c;if(e){var r=e.__H;r&&r.__h.length&&(pl.push(e)!==1&&rd===ft.requestAnimationFrame||((rd=ft.requestAnimationFrame)||function(n){var i,s=a(function(){clearTimeout(o),cancelAnimationFrame(i),setTimeout(n)},"u"),o=setTimeout(s,100);typeof window<"u"&&(i=requestAnimationFrame(s))})(rM))}},ft.__c=function(t,e){e.some(function(r){try{r.__h.forEach(gl),r.__h=r.__h.filter(function(n){return!n.__||vl(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ft.__e(n,r.__v)}}),sd&&sd(t,e)},ft.unmount=function(t){ad&&ad(t);var e=t.__c;if(e){var r=e.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){ft.__e(n,e.__v)}}};function B0(t,e){for(var r in e)t[r]=e[r];return t}a(B0,"E");function ml(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}a(ml,"w");var gy=function(t){var e,r;function n(i){var s;return(s=t.call(this,i)||this).isPureReactComponent=!0,s}return a(n,"r"),r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.shouldComponentUpdate=function(i,s){return ml(this.props,i)||ml(this.state,s)},n}(mn);function vy(t,e){function r(i){var s=this.props.ref,o=s==i.ref;return!o&&s&&(s.call?s(null):s.current=null),e?!e(this.props,i)||!o:ml(this.props,i)}a(r,"e");function n(i){return this.shouldComponentUpdate=r,fi(t,B0({},i))}return a(n,"r"),n.prototype.isReactComponent=!0,n.displayName="Memo("+(t.displayName||t.name)+")",n.t=!0,n}a(vy,"_");var od=ft.__b;function my(t){function e(r){var n=B0({},r);return delete n.ref,t(n,r.ref)}return a(e,"t"),e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}a(my,"S");ft.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),od&&od(t)};var fd=a(function(t,e){return t?mi(t).reduce(function(r,n,i){return r.concat(e(n,i))},[]):null},"k"),yy={map:fd,forEach:fd,count:function(t){return t?mi(t).length:0},only:function(t){if((t=mi(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:mi},nM=ft.__e;function wy(t){return t&&((t=B0({},t)).__c=null,t.__k=t.__k&&t.__k.map(wy)),t}a(wy,"N");function af(){this.__u=0,this.o=null,this.__b=null}a(af,"U");function by(t){var e=t.__.__c;return e&&e.u&&e.u(t)}a(by,"M");function xy(t){var e,r,n;function i(s){if(e||(e=t()).then(function(o){r=o.default||o},function(o){n=o}),n)throw n;if(!r)throw e;return fi(r,s)}return a(i,"o"),i.displayName="Lazy",i.t=!0,i}a(xy,"L");function os(){this.i=null,this.l=null}a(os,"O");ft.__e=function(t,e,r){if(t.then){for(var n,i=e;i=i.__;)if((n=i.__c)&&n.__c)return n.__c(t,e.__c)}nM(t,e,r)},(af.prototype=new mn).__c=function(t,e){var r=this;r.o==null&&(r.o=[]),r.o.push(e);var n=by(r.__v),i=!1,s=a(function(){i||(i=!0,n?n(o):o())},"u");e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){s(),e.__c&&e.__c()};var o=a(function(){var f;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});f=r.o.pop();)f.forceUpdate()},"i");r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),t.then(s,s)},af.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=wy(this.__b),this.__b=null),[fi(mn,null,e.u?null:t.children),e.u&&t.fallback]};var ud=a(function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}},"P");(os.prototype=new mn).u=function(t){var e=this,r=by(e.__v),n=e.l.get(t);return n[0]++,function(i){var s=a(function(){e.props.revealOrder?(n.push(i),ud(e,t,n)):i()},"u");r?r(s):s()}},os.prototype.render=function(t){this.i=null,this.l=new Map;var e=mi(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},os.prototype.componentDidUpdate=os.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,r){ud(t,r,e)})};var iM=function(){function t(){}a(t,"n");var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(r){return r.children},t}();function sM(t){var e=this,r=t.container,n=fi(iM,{context:e.context},t.vnode);return e.s&&e.s!==r&&(e.v.parentNode&&e.s.removeChild(e.v),ba(e.h),e.p=!1),t.vnode?e.p?(r.__k=e.__k,ka(n,r),e.__k=r.__k):(e.v=document.createTextNode(""),ay("",r),r.appendChild(e.v),e.p=!0,e.s=r,ka(n,r,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),ba(e.h)),e.h=n,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),ba(e.h)},null}a(sM,"j");function Ey(t,e){return fi(sM,{vnode:t,container:e})}a(Ey,"z");var ld=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;mn.prototype.isReactComponent={};var _y=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function yl(t,e,r){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return ka(t,e),typeof r=="function"&&r(),t?t.__c:null}a(yl,"T");function aM(t,e,r){return ay(t,e),typeof r=="function"&&r(),t?t.__c:null}a(aM,"V");var hd=ft.event;function Au(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(r){this["UNSAFE_"+e]=r}})}a(Au,"I");ft.event=function(t){hd&&(t=hd(t)),t.persist=function(){};var e=!1,r=!1,n=t.stopPropagation;t.stopPropagation=function(){n.call(t),e=!0};var i=t.preventDefault;return t.preventDefault=function(){i.call(t),r=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return r},t.nativeEvent=t};var cd={configurable:!0,get:function(){return this.class}},dd=ft.vnode;ft.vnode=function(t){t.$$typeof=_y;var e=t.type,r=t.props;if(e){if(r.class!=r.className&&(cd.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",cd)),typeof e!="function"){var n,i,s;for(s in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&e==="select"&&(mi(r.children).forEach(function(o){r.value.indexOf(o.props.value)!=-1&&(o.props.selected=!0)}),delete r.value),r)if(n=ld.test(s))break;if(n)for(s in i=t.props={},r)i[ld.test(s)?s.replace(/[A-Z0-9]/,"-$&").toLowerCase():s]=r[s]}(function(o){var f=t.type,l=t.props;if(l&&typeof f=="string"){var d={};for(var p in l)/^on(Ani|Tra|Tou)/.test(p)&&(l[p.toLowerCase()]=l[p],delete l[p]),d[p.toLowerCase()]=p;if(d.ondoubleclick&&(l.ondblclick=l[d.ondoubleclick],delete l[d.ondoubleclick]),d.onbeforeinput&&(l.onbeforeinput=l[d.onbeforeinput],delete l[d.onbeforeinput]),d.onchange&&(f==="textarea"||f.toLowerCase()==="input"&&!/^fil|che|ra/i.test(l.type))){var x=d.oninput||"oninput";l[x]||(l[x]=l[d.onchange],delete l[d.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(Au(e.prototype,"componentWillMount"),Au(e.prototype,"componentWillReceiveProps"),Au(e.prototype,"componentWillUpdate"),e.m=!0)}dd&&dd(t)};var oM="16.8.0";function Ay(t){return fi.bind(null,t)}a(Ay,"G");function k0(t){return!!t&&t.$$typeof===_y}a(k0,"J");function Sy(t){return k0(t)?eM.apply(null,arguments):t}a(Sy,"K");function Cy(t){return!!t.__k&&(ka(null,t),!0)}a(Cy,"Q");function Ty(t){return t&&(t.base||t.nodeType===1&&t)||null}a(Ty,"X");var Iy=a(function(t,e){return t(e)},"Y");const fM={useState:I0,useReducer:M0,useEffect:fy,useLayoutEffect:N0,useRef:uy,useImperativeHandle:ly,useMemo:Kf,useCallback:hy,useContext:cy,useDebugValue:dy,version:"16.8.0",Children:yy,render:yl,hydrate:yl,unmountComponentAtNode:Cy,createPortal:Ey,createElement:fi,createContext:oy,createFactory:Ay,cloneElement:Sy,createRef:ty,Fragment:$a,isValidElement:k0,findDOMNode:Ty,Component:mn,PureComponent:gy,memo:vy,forwardRef:my,unstable_batchedUpdates:Iy,Suspense:af,SuspenseList:os,lazy:xy},uM=Object.freeze(Object.defineProperty({__proto__:null,default:fM,version:oM,Children:yy,render:yl,hydrate:aM,unmountComponentAtNode:Cy,createPortal:Ey,createFactory:Ay,cloneElement:Sy,isValidElement:k0,findDOMNode:Ty,PureComponent:gy,memo:vy,forwardRef:my,unstable_batchedUpdates:Iy,Suspense:af,SuspenseList:os,lazy:xy,createElement:fi,createContext:oy,createRef:ty,Fragment:$a,Component:mn,useState:I0,useReducer:M0,useEffect:fy,useLayoutEffect:N0,useRef:uy,useImperativeHandle:ly,useMemo:Kf,useCallback:hy,useContext:cy,useDebugValue:dy,useErrorBoundary:tM},Symbol.toStringTag,{value:"Module"})),lM=Td(uM);function My(t){return t&&typeof t=="object"&&"default"in t?t.default:t}a(My,"_interopDefault");var Br=H6,Ny=My(ja),hM=My(W4),Ke=lM;function cM(t){Ny.toString(t,{type:"terminal"}).then(console.log)}a(cM,"open");var dM=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function pM(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}a(pM,"_catch");var gM="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",vM="WalletConnect",mM=300,yM="rgb(64, 153, 255)",Ry="walletconnect-wrapper",pd="walletconnect-style-sheet",By="walletconnect-qrcode-modal",wM="walletconnect-qrcode-close",ky="walletconnect-qrcode-text",bM="walletconnect-connect-button";function xM(t){return Ke.createElement("div",{className:"walletconnect-modal__header"},Ke.createElement("img",{src:gM,className:"walletconnect-modal__headerLogo"}),Ke.createElement("p",null,vM),Ke.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},Ke.createElement("div",{id:wM,className:"walletconnect-modal__close__icon"},Ke.createElement("div",{className:"walletconnect-modal__close__line1"}),Ke.createElement("div",{className:"walletconnect-modal__close__line2"}))))}a(xM,"Header");function EM(t){return Ke.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:bM+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}a(EM,"ConnectButton");var _M="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function AM(t){var e=t.color,r=t.href,n=t.name,i=t.logo,s=t.onClick;return Ke.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:s,rel:"noopener noreferrer",target:"_blank"},Ke.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),Ke.createElement("div",{className:"walletconnect-modal__base__row__right"},Ke.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+i+"') "+e,backgroundSize:"100%"}}),Ke.createElement("img",{src:_M,className:"walletconnect-modal__base__row__right__caret"})))}a(AM,"WalletButton");function SM(t){var e=t.color,r=t.href,n=t.name,i=t.logo,s=t.onClick,o=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return Ke.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:s,rel:"noopener noreferrer",target:"_blank"},Ke.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+i+"') "+e,backgroundSize:"100%"}}),Ke.createElement("div",{style:{fontSize:o},className:"walletconnect-connect__button__text"},n))}a(SM,"WalletIcon");var CM=5,Su=12;function TM(t){var e=Br.isAndroid(),r=Ke.useState(""),n=r[0],i=r[1],s=Ke.useState(""),o=s[0],f=s[1],l=Ke.useState(1),d=l[0],p=l[1],x=o?t.links.filter(function(H){return H.name.toLowerCase().includes(o.toLowerCase())}):t.links,T=t.errorMessage,R=o||x.length>CM,N=Math.ceil(x.length/Su),O=[(d-1)*Su+1,d*Su],B=x.length?x.filter(function(H,K){return K+1>=O[0]&&K+1<=O[1]}):[],k=!e&&N>1,L=void 0;function D(H){i(H.target.value),clearTimeout(L),H.target.value?L=setTimeout(function(){f(H.target.value),p(1)},1e3):(i(""),f(""),p(1))}return a(D,"handleInput"),Ke.createElement("div",null,Ke.createElement("p",{id:ky,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&Ke.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:D}),Ke.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":R&&x.length?"__wrap":"")},e?Ke.createElement(EM,{name:t.text.connect,color:yM,href:t.uri,onClick:Ke.useCallback(function(){Br.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):B.length?B.map(function(H){var K=H.color,j=H.name,ie=H.shortName,J=H.logo,ue=Br.formatIOSMobile(t.uri,H),P=Ke.useCallback(function(){Br.saveMobileLinkInfo({name:j,href:ue})},[B]);return R?Ke.createElement(SM,{color:K,href:ue,name:ie||j,logo:J,onClick:P}):Ke.createElement(AM,{color:K,href:ue,name:j,logo:J,onClick:P})}):Ke.createElement(Ke.Fragment,null,Ke.createElement("p",null,T.length?t.errorMessage:!!t.links.length&&!x.length?t.text.no_wallets_found:t.text.loading))),k&&Ke.createElement("div",{className:"walletconnect-modal__footer"},Array(N).fill(0).map(function(H,K){var j=K+1,ie=d===j;return Ke.createElement("a",{style:{margin:"auto 10px",fontWeight:ie?"bold":"normal"},onClick:function(){return p(j)}},j)})))}a(TM,"LinkDisplay");function IM(t){var e=!!t.message.trim();return Ke.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}a(IM,"Notification");var MM=a(function(t){try{var e="";return Promise.resolve(Ny.toString(t,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(e=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(r){return Promise.reject(r)}},"formatQRCodeImage");function NM(t){var e=Ke.useState(""),r=e[0],n=e[1],i=Ke.useState(""),s=i[0],o=i[1];Ke.useEffect(function(){try{return Promise.resolve(MM(t.uri)).then(function(l){o(l)})}catch(l){Promise.reject(l)}},[]);var f=a(function(){var l=hM(t.uri);l?(n(t.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))},"copyToClipboard");return Ke.createElement("div",null,Ke.createElement("p",{id:ky,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),Ke.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),Ke.createElement("div",{className:"walletconnect-modal__footer"},Ke.createElement("a",{onClick:f},t.text.copy_to_clipboard)),Ke.createElement(IM,{message:r}))}a(NM,"QRCodeDisplay");function RM(t){var e=Br.isAndroid(),r=Br.isMobile(),n=r?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,i=Ke.useState(!1),s=i[0],o=i[1],f=Ke.useState(!1),l=f[0],d=f[1],p=Ke.useState(!r),x=p[0],T=p[1],R={mobile:r,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},N=Ke.useState(""),O=N[0],B=N[1],k=Ke.useState(!1),L=k[0],D=k[1],H=Ke.useState([]),K=H[0],j=H[1],ie=Ke.useState(""),J=ie[0],ue=ie[1],P=a(function(){l||s||n&&!n.length||K.length>0||Ke.useEffect(function(){var S=a(function(){try{if(e)return Promise.resolve();o(!0);var m=pM(function(){var u=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:Br.getWalletRegistryUrl();return Promise.resolve(fetch(u)).then(function(c){return Promise.resolve(c.json()).then(function(v){var y=v.listings,E=r?"mobile":"desktop",g=Br.getMobileLinkRegistry(Br.formatMobileRegistry(y,E),n);o(!1),d(!0),ue(g.length?"":t.text.no_supported_wallets),j(g);var _=g.length===1;_&&(B(Br.formatIOSMobile(t.uri,g[0])),T(!0)),D(_)})})},function(u){o(!1),d(!0),ue(t.text.something_went_wrong),console.error(u)});return Promise.resolve(m&&m.then?m.then(function(){}):void 0)}catch(u){return Promise.reject(u)}},"initLinks");S()})},"getLinksIfNeeded");P();var b=r?x:!x;return Ke.createElement("div",{id:By,className:"walletconnect-qrcode__base animated fadeIn"},Ke.createElement("div",{className:"walletconnect-modal__base"},Ke.createElement(xM,{onClose:t.onClose}),L&&x?Ke.createElement("div",{className:"walletconnect-modal__single_wallet"},Ke.createElement("a",{onClick:function(){return Br.saveMobileLinkInfo({name:K[0].name,href:O})},href:O,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(L?K[0].name:"")+" \u203A")):e||s||!s&&K.length?Ke.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(b?" right__selected":"")},Ke.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?Ke.createElement(Ke.Fragment,null,Ke.createElement("a",{onClick:function(){return T(!1),P()}},t.text.mobile),Ke.createElement("a",{onClick:function(){return T(!0)}},t.text.qrcode)):Ke.createElement(Ke.Fragment,null,Ke.createElement("a",{onClick:function(){return T(!0)}},t.text.qrcode),Ke.createElement("a",{onClick:function(){return T(!1),P()}},t.text.desktop))):null,Ke.createElement("div",null,x||!e&&!s&&!K.length?Ke.createElement(NM,Object.assign({},R)):Ke.createElement(TM,Object.assign({},R,{links:K,errorMessage:J})))))}a(RM,"Modal");var BM={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},kM={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},PM={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},OM={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},LM={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},UM={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},DM={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},FM={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},gd={de:BM,en:kM,es:PM,fr:OM,ko:LM,pt:UM,zh:DM,fa:FM};function qM(){var t=Br.getDocumentOrThrow(),e=t.getElementById(pd);e&&t.head.removeChild(e);var r=t.createElement("style");r.setAttribute("id",pd),r.innerText=dM,t.head.appendChild(r)}a(qM,"injectStyleSheet");function VM(){var t=Br.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",Ry),t.body.appendChild(e),e}a(VM,"renderWrapper");function Py(){var t=Br.getDocumentOrThrow(),e=t.getElementById(By);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=t.getElementById(Ry);r&&t.body.removeChild(r)},mM))}a(Py,"triggerCloseAnimation");function KM(t){return function(){Py(),t&&t()}}a(KM,"getWrappedCallback");function HM(){var t=Br.getNavigatorOrThrow().language.split("-")[0]||"en";return gd[t]||gd.en}a(HM,"getText");function GM(t,e,r){qM();var n=VM();Ke.render(Ke.createElement(RM,{text:HM(),uri:t,onClose:KM(e),qrcodeModalOptions:r}),n)}a(GM,"open$1");function jM(){Py()}a(jM,"close$1");var Oy=a(function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"},"isNode");function zM(t,e,r){console.log(t),Oy()?cM(t):GM(t,e,r)}a(zM,"open$2");function $M(){Oy()||jM()}a($M,"close$2");var WM={open:zM,close:$M},QM=WM,Ly={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}a(n,"Events"),Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,d,p){this.fn=l,this.context=d,this.once=p||!1}a(i,"EE");function s(l,d,p,x,T){if(typeof p!="function")throw new TypeError("The listener must be a function");var R=new i(p,x||l,T),N=r?r+d:d;return l._events[N]?l._events[N].fn?l._events[N]=[l._events[N],R]:l._events[N].push(R):(l._events[N]=R,l._eventsCount++),l}a(s,"addListener");function o(l,d){--l._eventsCount===0?l._events=new n:delete l._events[d]}a(o,"clearEvent");function f(){this._events=new n,this._eventsCount=0}a(f,"EventEmitter"),f.prototype.eventNames=a(function(){var d=[],p,x;if(this._eventsCount===0)return d;for(x in p=this._events)e.call(p,x)&&d.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},"eventNames"),f.prototype.listeners=a(function(d){var p=r?r+d:d,x=this._events[p];if(!x)return[];if(x.fn)return[x.fn];for(var T=0,R=x.length,N=new Array(R);T<R;T++)N[T]=x[T].fn;return N},"listeners"),f.prototype.listenerCount=a(function(d){var p=r?r+d:d,x=this._events[p];return x?x.fn?1:x.length:0},"listenerCount"),f.prototype.emit=a(function(d,p,x,T,R,N){var O=r?r+d:d;if(!this._events[O])return!1;var B=this._events[O],k=arguments.length,L,D;if(B.fn){switch(B.once&&this.removeListener(d,B.fn,void 0,!0),k){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,p),!0;case 3:return B.fn.call(B.context,p,x),!0;case 4:return B.fn.call(B.context,p,x,T),!0;case 5:return B.fn.call(B.context,p,x,T,R),!0;case 6:return B.fn.call(B.context,p,x,T,R,N),!0}for(D=1,L=new Array(k-1);D<k;D++)L[D-1]=arguments[D];B.fn.apply(B.context,L)}else{var H=B.length,K;for(D=0;D<H;D++)switch(B[D].once&&this.removeListener(d,B[D].fn,void 0,!0),k){case 1:B[D].fn.call(B[D].context);break;case 2:B[D].fn.call(B[D].context,p);break;case 3:B[D].fn.call(B[D].context,p,x);break;case 4:B[D].fn.call(B[D].context,p,x,T);break;default:if(!L)for(K=1,L=new Array(k-1);K<k;K++)L[K-1]=arguments[K];B[D].fn.apply(B[D].context,L)}}return!0},"emit"),f.prototype.on=a(function(d,p,x){return s(this,d,p,x,!1)},"on"),f.prototype.once=a(function(d,p,x){return s(this,d,p,x,!0)},"once"),f.prototype.removeListener=a(function(d,p,x,T){var R=r?r+d:d;if(!this._events[R])return this;if(!p)return o(this,R),this;var N=this._events[R];if(N.fn)N.fn===p&&(!T||N.once)&&(!x||N.context===x)&&o(this,R);else{for(var O=0,B=[],k=N.length;O<k;O++)(N[O].fn!==p||T&&!N[O].once||x&&N[O].context!==x)&&B.push(N[O]);B.length?this._events[R]=B.length===1?B[0]:B:o(this,R)}return this},"removeListener"),f.prototype.removeAllListeners=a(function(d){var p;return d?(p=r?r+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},"removeAllListeners"),f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,t.exports=f})(Ly);const YM=Ly.exports;var Uy={},P0={},Zs={},wl={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Vt=="object"&&Vt;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,f=2147483647,l=36,d=1,p=26,x=38,T=700,R=72,N=128,O="-",B=/^xn--/,k=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},H=l-d,K=Math.floor,j=String.fromCharCode,ie;function J(_){throw RangeError(D[_])}a(J,"error");function ue(_,w){for(var h=_.length,A=[];h--;)A[h]=w(_[h]);return A}a(ue,"map");function P(_,w){var h=_.split("@"),A="";h.length>1&&(A=h[0]+"@",_=h[1]),_=_.replace(L,".");var $=_.split("."),I=ue($,w).join(".");return A+I}a(P,"mapDomain");function b(_){for(var w=[],h=0,A=_.length,$,I;h<A;)$=_.charCodeAt(h++),$>=55296&&$<=56319&&h<A?(I=_.charCodeAt(h++),(I&64512)==56320?w.push((($&1023)<<10)+(I&1023)+65536):(w.push($),h--)):w.push($);return w}a(b,"ucs2decode");function S(_){return ue(_,function(w){var h="";return w>65535&&(w-=65536,h+=j(w>>>10&1023|55296),w=56320|w&1023),h+=j(w),h}).join("")}a(S,"ucs2encode");function m(_){return _-48<10?_-22:_-65<26?_-65:_-97<26?_-97:l}a(m,"basicToDigit");function u(_,w){return _+22+75*(_<26)-((w!=0)<<5)}a(u,"digitToBasic");function c(_,w,h){var A=0;for(_=h?K(_/T):_>>1,_+=K(_/w);_>H*p>>1;A+=l)_=K(_/H);return K(A+(H+1)*_/(_+x))}a(c,"adapt");function v(_){var w=[],h=_.length,A,$=0,I=N,q=R,Z,z,Q,le,te,re,me,oe,ce;for(Z=_.lastIndexOf(O),Z<0&&(Z=0),z=0;z<Z;++z)_.charCodeAt(z)>=128&&J("not-basic"),w.push(_.charCodeAt(z));for(Q=Z>0?Z+1:0;Q<h;){for(le=$,te=1,re=l;Q>=h&&J("invalid-input"),me=m(_.charCodeAt(Q++)),(me>=l||me>K((f-$)/te))&&J("overflow"),$+=me*te,oe=re<=q?d:re>=q+p?p:re-q,!(me<oe);re+=l)ce=l-oe,te>K(f/ce)&&J("overflow"),te*=ce;A=w.length+1,q=c($-le,A,le==0),K($/A)>f-I&&J("overflow"),I+=K($/A),$%=A,w.splice($++,0,I)}return S(w)}a(v,"decode");function y(_){var w,h,A,$,I,q,Z,z,Q,le,te,re=[],me,oe,ce,F;for(_=b(_),me=_.length,w=N,h=0,I=R,q=0;q<me;++q)te=_[q],te<128&&re.push(j(te));for(A=$=re.length,$&&re.push(O);A<me;){for(Z=f,q=0;q<me;++q)te=_[q],te>=w&&te<Z&&(Z=te);for(oe=A+1,Z-w>K((f-h)/oe)&&J("overflow"),h+=(Z-w)*oe,w=Z,q=0;q<me;++q)if(te=_[q],te<w&&++h>f&&J("overflow"),te==w){for(z=h,Q=l;le=Q<=I?d:Q>=I+p?p:Q-I,!(z<le);Q+=l)F=z-le,ce=l-le,re.push(j(u(le+F%ce,0))),z=K(F/ce);re.push(j(u(z,0))),I=c(h,oe,A==$),h=0,++A}++h,++w}return re.join("")}a(y,"encode");function E(_){return P(_,function(w){return B.test(w)?v(w.slice(4).toLowerCase()):w})}a(E,"toUnicode");function g(_){return P(_,function(w){return k.test(w)?"xn--"+y(w):w})}if(a(g,"toASCII"),o={version:"1.3.2",ucs2:{decode:b,encode:S},decode:v,encode:y,toASCII:g,toUnicode:E},n&&i)if(t.exports==n)i.exports=o;else for(ie in o)o.hasOwnProperty(ie)&&(n[ie]=o[ie]);else r.punycode=o})(Vt)})(wl,wl.exports);var JM={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Pa={};function XM(t,e){return Object.prototype.hasOwnProperty.call(t,e)}a(XM,"hasOwnProperty");var ZM=a(function(t,e,r,n){e=e||"&",r=r||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var f=t.length;o>0&&f>o&&(f=o);for(var l=0;l<f;++l){var d=t[l].replace(s,"%20"),p=d.indexOf(r),x,T,R,N;p>=0?(x=d.substr(0,p),T=d.substr(p+1)):(x=d,T=""),R=decodeURIComponent(x),N=decodeURIComponent(T),XM(i,R)?Array.isArray(i[R])?i[R].push(N):i[R]=[i[R],N]:i[R]=N}return i},"decode"),oa=a(function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},"stringifyPrimitive"),e5=a(function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(oa(i))+r;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(oa(o))}).join(e):s+encodeURIComponent(oa(t[i]))}).join(e):n?encodeURIComponent(oa(n))+r+encodeURIComponent(oa(t)):""},"encode");Pa.decode=Pa.parse=ZM;Pa.encode=Pa.stringify=e5;var t5=wl.exports,Sn=JM;Zs.parse=Wa;Zs.resolve=h5;Zs.resolveObject=c5;Zs.format=l5;Zs.Url=en;function en(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}a(en,"Url");var r5=/^([a-z0-9.+-]+:)/i,n5=/:[0-9]*$/,i5=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s5=["<",">",'"',"`"," ","\r",`
`,"	"],a5=["{","}","|","\\","^","`"].concat(s5),bl=["'"].concat(a5),vd=["%","/","?",";","#"].concat(bl),md=["/","?","#"],o5=255,yd=/^[+a-z0-9A-Z_-]{0,63}$/,f5=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,u5={javascript:!0,"javascript:":!0},xl={javascript:!0,"javascript:":!0},cs={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},El=Pa;function Wa(t,e,r){if(t&&Sn.isObject(t)&&t instanceof en)return t;var n=new en;return n.parse(t,e,r),n}a(Wa,"urlParse");en.prototype.parse=function(t,e,r){if(!Sn.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var f=t;if(f=f.trim(),!r&&t.split("#").length===1){var l=i5.exec(f);if(l)return this.path=f,this.href=f,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=El.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=r5.exec(f);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,f=f.substr(d.length)}if(r||d||f.match(/^\/\/[^@\/]+@[^@\/]+/)){var x=f.substr(0,2)==="//";x&&!(d&&xl[d])&&(f=f.substr(2),this.slashes=!0)}if(!xl[d]&&(x||d&&!cs[d])){for(var T=-1,R=0;R<md.length;R++){var N=f.indexOf(md[R]);N!==-1&&(T===-1||N<T)&&(T=N)}var O,B;T===-1?B=f.lastIndexOf("@"):B=f.lastIndexOf("@",T),B!==-1&&(O=f.slice(0,B),f=f.slice(B+1),this.auth=decodeURIComponent(O)),T=-1;for(var R=0;R<vd.length;R++){var N=f.indexOf(vd[R]);N!==-1&&(T===-1||N<T)&&(T=N)}T===-1&&(T=f.length),this.host=f.slice(0,T),f=f.slice(T),this.parseHost(),this.hostname=this.hostname||"";var k=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!k)for(var L=this.hostname.split(/\./),R=0,D=L.length;R<D;R++){var H=L[R];if(!!H&&!H.match(yd)){for(var K="",j=0,ie=H.length;j<ie;j++)H.charCodeAt(j)>127?K+="x":K+=H[j];if(!K.match(yd)){var J=L.slice(0,R),ue=L.slice(R+1),P=H.match(f5);P&&(J.push(P[1]),ue.unshift(P[2])),ue.length&&(f="/"+ue.join(".")+f),this.hostname=J.join(".");break}}}this.hostname.length>o5?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=t5.toASCII(this.hostname));var b=this.port?":"+this.port:"",S=this.hostname||"";this.host=S+b,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),f[0]!=="/"&&(f="/"+f))}if(!u5[p])for(var R=0,D=bl.length;R<D;R++){var m=bl[R];if(f.indexOf(m)!==-1){var u=encodeURIComponent(m);u===m&&(u=escape(m)),f=f.split(m).join(u)}}var c=f.indexOf("#");c!==-1&&(this.hash=f.substr(c),f=f.slice(0,c));var v=f.indexOf("?");if(v!==-1?(this.search=f.substr(v),this.query=f.substr(v+1),e&&(this.query=El.parse(this.query)),f=f.slice(0,v)):e&&(this.search="",this.query={}),f&&(this.pathname=f),cs[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var b=this.pathname||"",y=this.search||"";this.path=b+y}return this.href=this.format(),this};function l5(t){return Sn.isString(t)&&(t=Wa(t)),t instanceof en?t.format():en.prototype.format.call(t)}a(l5,"urlFormat");en.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Sn.isObject(this.query)&&Object.keys(this.query).length&&(s=El.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||cs[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(f){return encodeURIComponent(f)}),o=o.replace("#","%23"),e+i+r+o+n};function h5(t,e){return Wa(t,!1,!0).resolve(e)}a(h5,"urlResolve");en.prototype.resolve=function(t){return this.resolveObject(Wa(t,!1,!0)).format()};function c5(t,e){return t?Wa(t,!1,!0).resolveObject(e):e}a(c5,"urlResolveObject");en.prototype.resolveObject=function(t){if(Sn.isString(t)){var e=new en;e.parse(t,!1,!0),t=e}for(var r=new en,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),f=0;f<o.length;f++){var l=o[f];l!=="protocol"&&(r[l]=t[l])}return cs[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!cs[t.protocol]){for(var d=Object.keys(t),p=0;p<d.length;p++){var x=d[p];r[x]=t[x]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!xl[t.protocol]){for(var D=(t.pathname||"").split("/");D.length&&!(t.host=D.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),D[0]!==""&&D.unshift(""),D.length<2&&D.unshift(""),r.pathname=D.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var T=r.pathname||"",R=r.search||"";r.path=T+R}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var N=r.pathname&&r.pathname.charAt(0)==="/",O=t.host||t.pathname&&t.pathname.charAt(0)==="/",B=O||N||r.host&&t.pathname,k=B,L=r.pathname&&r.pathname.split("/")||[],D=t.pathname&&t.pathname.split("/")||[],H=r.protocol&&!cs[r.protocol];if(H&&(r.hostname="",r.port=null,r.host&&(L[0]===""?L[0]=r.host:L.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(D[0]===""?D[0]=t.host:D.unshift(t.host)),t.host=null),B=B&&(D[0]===""||L[0]==="")),O)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,L=D;else if(D.length)L||(L=[]),L.pop(),L=L.concat(D),r.search=t.search,r.query=t.query;else if(!Sn.isNullOrUndefined(t.search)){if(H){r.hostname=r.host=L.shift();var K=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;K&&(r.auth=K.shift(),r.host=r.hostname=K.shift())}return r.search=t.search,r.query=t.query,(!Sn.isNull(r.pathname)||!Sn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!L.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var j=L.slice(-1)[0],ie=(r.host||t.host||L.length>1)&&(j==="."||j==="..")||j==="",J=0,ue=L.length;ue>=0;ue--)j=L[ue],j==="."?L.splice(ue,1):j===".."?(L.splice(ue,1),J++):J&&(L.splice(ue,1),J--);if(!B&&!k)for(;J--;J)L.unshift("..");B&&L[0]!==""&&(!L[0]||L[0].charAt(0)!=="/")&&L.unshift(""),ie&&L.join("/").substr(-1)!=="/"&&L.push("");var P=L[0]===""||L[0]&&L[0].charAt(0)==="/";if(H){r.hostname=r.host=P?"":L.length?L.shift():"";var K=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;K&&(r.auth=K.shift(),r.host=r.hostname=K.shift())}return B=B||r.host&&L.length,B&&!P&&L.unshift(""),L.length?r.pathname=L.join("/"):(r.pathname=null,r.path=null),(!Sn.isNull(r.pathname)||!Sn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};en.prototype.parseHost=function(){var t=this.host,e=n5.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var O0={};Object.defineProperty(O0,"__esModule",{value:!0});var d5=function(){function t(e){this.type=e,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0}return a(t,"ProgressEvent"),t}();O0.ProgressEvent=d5;var ea={},Hf=Vt&&Vt.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};return function(e,r){t(e,r);function n(){this.constructor=e}a(n,"__"),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ea,"__esModule",{value:!0});var p5=function(t){Hf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return a(e,"SecurityError"),e}(Error);ea.SecurityError=p5;var g5=function(t){Hf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return a(e,"InvalidStateError"),e}(Error);ea.InvalidStateError=g5;var v5=function(t){Hf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return a(e,"NetworkError"),e}(Error);ea.NetworkError=v5;var m5=function(t){Hf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return a(e,"SyntaxError"),e}(Error);ea.SyntaxError=m5;var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});var y5=function(){function t(){this.listeners={}}return a(t,"XMLHttpRequestEventTarget"),t.prototype.addEventListener=function(e,r){e=e.toLowerCase(),this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(r.handleEvent||r)},t.prototype.removeEventListener=function(e,r){if(e=e.toLowerCase(),!!this.listeners[e]){var n=this.listeners[e].indexOf(r.handleEvent||r);n<0||this.listeners[e].splice(n,1)}},t.prototype.dispatchEvent=function(e){var r=e.type.toLowerCase();if(e.target=this,this.listeners[r])for(var n=0,i=this.listeners[r];n<i.length;n++){var s=i[n];s.call(this,e)}var o=this["on"+r];return o&&o.call(this,e),!0},t}();Qa.XMLHttpRequestEventTarget=y5;var L0={},w5=Vt&&Vt.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};return function(e,r){t(e,r);function n(){this.constructor=e}a(n,"__"),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(L0,"__esModule",{value:!0});var b5=Qa,x5=function(t){w5(e,t);function e(){var r=t.call(this)||this;return r._contentType=null,r._body=null,r._reset(),r}return a(e,"XMLHttpRequestUpload"),e.prototype._reset=function(){this._contentType=null,this._body=null},e.prototype._setData=function(r){if(r!=null)if(typeof r=="string")r.length!==0&&(this._contentType="text/plain;charset=UTF-8"),this._body=new Buffer(r,"utf-8");else if(Buffer.isBuffer(r))this._body=r;else if(r instanceof ArrayBuffer){for(var n=new Buffer(r.byteLength),i=new Uint8Array(r),s=0;s<r.byteLength;s++)n[s]=i[s];this._body=n}else if(r.buffer&&r.buffer instanceof ArrayBuffer){for(var n=new Buffer(r.byteLength),o=r.byteOffset,i=new Uint8Array(r.buffer),s=0;s<r.byteLength;s++)n[s]=i[s+o];this._body=n}else throw new Error("Unsupported send() data "+r)},e.prototype._finalizeHeaders=function(r,n){this._contentType&&!n["content-type"]&&(r["Content-Type"]=this._contentType),this._body&&(r["Content-Length"]=this._body.length.toString())},e.prototype._startUpload=function(r){this._body&&r.write(this._body),r.end()},e}(b5.XMLHttpRequestEventTarget);L0.XMLHttpRequestUpload=x5;var Ao={};(function(){function t(i,s,o,f){return this instanceof t?(this.domain=i||void 0,this.path=s||"/",this.secure=!!o,this.script=!!f,this):new t(i,s,o,f)}a(t,"CookieAccessInfo"),t.All=Object.freeze(Object.create(null)),Ao.CookieAccessInfo=t;function e(i,s,o){return i instanceof e?i:this instanceof e?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(o||"/"),this.explicit_path=!1,this.domain=s||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,i&&this.parse(i,s,o),this):new e(i,s,o)}a(e,"Cookie"),Ao.Cookie=e,e.prototype.toString=a(function(){var s=[this.name+"="+this.value];return this.expiration_date!==1/0&&s.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&s.push("domain="+this.domain),this.path&&s.push("path="+this.path),this.secure&&s.push("secure"),this.noscript&&s.push("httponly"),s.join("; ")},"toString"),e.prototype.toValueString=a(function(){return this.name+"="+this.value},"toValueString");var r=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;e.prototype.parse=a(function(s,o,f){if(this instanceof e){var l=s.split(";").filter(function(R){return!!R}),d,p=l[0].match(/([^=]+)=([\s\S]*)/);if(!p){console.warn("Invalid cookie header encountered. Header: '"+s+"'");return}var x=p[1],T=p[2];if(typeof x!="string"||x.length===0||typeof T!="string"){console.warn("Unable to extract values from cookie header. Cookie: '"+s+"'");return}for(this.name=x,this.value=T,d=1;d<l.length;d+=1)switch(p=l[d].match(/([^=]+)(?:=([\s\S]*))?/),x=p[1].trim().toLowerCase(),T=p[2],x){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=T?Number(Date.parse(T)):1/0;break;case"path":this.path=T?T.trim():"",this.explicit_path=!0;break;case"domain":this.domain=T?T.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0;break}return this.explicit_path||(this.path=f||"/"),this.explicit_domain||(this.domain=o),this}return new e().parse(s,o,f)},"parse"),e.prototype.matches=a(function(s){return s===t.All?!0:!(this.noscript&&s.script||this.secure&&!s.secure||!this.collidesWith(s))},"matches"),e.prototype.collidesWith=a(function(s){if(this.path&&!s.path||this.domain&&!s.domain||this.path&&s.path.indexOf(this.path)!==0||this.explicit_path&&s.path.indexOf(this.path)!==0)return!1;var o=s.domain&&s.domain.replace(/^[\.]/,""),f=this.domain&&this.domain.replace(/^[\.]/,"");if(f===o)return!0;if(f){if(!this.explicit_domain)return!1;var l=o.indexOf(f);return!(l===-1||l!==o.length-f.length)}return!0},"collidesWith");function n(){var i,s,o;return this instanceof n?(i=Object.create(null),this.setCookie=a(function(l,d,p){var x,T;if(l=new e(l,d,p),x=l.expiration_date<=Date.now(),i[l.name]!==void 0){for(s=i[l.name],T=0;T<s.length;T+=1)if(o=s[T],o.collidesWith(l))return x?(s.splice(T,1),s.length===0&&delete i[l.name],!1):(s[T]=l,l);return x?!1:(s.push(l),l)}return x?!1:(i[l.name]=[l],i[l.name])},"setCookie"),this.getCookie=a(function(l,d){var p,x;if(s=i[l],!!s)for(x=0;x<s.length;x+=1){if(p=s[x],p.expiration_date<=Date.now()){s.length===0&&delete i[p.name];continue}if(p.matches(d))return p}},"getCookie"),this.getCookies=a(function(l){var d=[],p,x;for(p in i)x=this.getCookie(p,l),x&&d.push(x);return d.toString=a(function(){return d.join(":")},"toString"),d.toValueString=a(function(){return d.map(function(R){return R.toValueString()}).join("; ")},"toValueString"),d},"getCookies"),this):new n}a(n,"CookieJar"),Ao.CookieJar=n,n.prototype.setCookies=a(function(s,o,f){s=Array.isArray(s)?s:s.split(r);var l=[],d,p;for(s=s.map(function(x){return new e(x,o,f)}),d=0;d<s.length;d+=1)p=s[d],this.setCookie(p,o,f)&&l.push(p);return l},"setCookies")})();var E5=Vt&&Vt.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};return function(e,r){t(e,r);function n(){this.constructor=e}a(n,"__"),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_5=Vt&&Vt.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(P0,"__esModule",{value:!0});var _l=Gr,Dy=Gr,wd=Gr,Cu=Zs,bd=O0,fo=ea,A5=Qa,xd=L0,Ed=Ao,Gf=function(t){E5(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this;return n.UNSENT=e.UNSENT,n.OPENED=e.OPENED,n.HEADERS_RECEIVED=e.HEADERS_RECEIVED,n.LOADING=e.LOADING,n.DONE=e.DONE,n.onreadystatechange=null,n.readyState=e.UNSENT,n.response=null,n.responseText="",n.responseType="",n.status=0,n.statusText="",n.timeout=0,n.upload=new xd.XMLHttpRequestUpload,n.responseUrl="",n.withCredentials=!1,n._method=null,n._url=null,n._sync=!1,n._headers={},n._loweredHeaders={},n._mimeOverride=null,n._request=null,n._response=null,n._responseParts=null,n._responseHeaders=null,n._aborting=null,n._error=null,n._loadedBytes=0,n._totalBytes=0,n._lengthComputable=!1,n._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},n._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},n._privateHeaders={"set-cookie":!0,"set-cookie2":!0},n._userAgent="Mozilla/5.0 ("+wd.type()+" "+wd.arch()+") node.js/"+process.versions.node+" v8/"+process.versions.v8,n._anonymous=r.anon||!1,n}return a(e,"XMLHttpRequest"),e.prototype.open=function(r,n,i,s,o){if(i===void 0&&(i=!0),r=r.toUpperCase(),this._restrictedMethods[r])throw new e.SecurityError("HTTP method "+r+" is not allowed in XHR");var f=this._parseUrl(n,s,o);this.readyState===e.HEADERS_RECEIVED||(this.readyState,e.LOADING),this._method=r,this._url=f,this._sync=!i,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(e.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},e.prototype.setRequestHeader=function(r,n){if(this.readyState!==e.OPENED)throw new e.InvalidStateError("XHR readyState must be OPENED");var i=r.toLowerCase();if(this._restrictedHeaders[i]||/^sec-/.test(i)||/^proxy-/.test(i)){console.warn('Refused to set unsafe header "'+r+'"');return}n=n.toString(),this._loweredHeaders[i]!=null?(r=this._loweredHeaders[i],this._headers[r]=this._headers[r]+", "+n):(this._loweredHeaders[i]=r,this._headers[r]=n)},e.prototype.send=function(r){if(this.readyState!==e.OPENED)throw new e.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new e.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(r);case"http:":case"https:":return this._sendHttp(r);default:throw new e.NetworkError("Unsupported protocol "+this._url.protocol)}},e.prototype.abort=function(){this._request!=null&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},e.prototype.getResponseHeader=function(r){if(this._responseHeaders==null||r==null)return null;var n=r.toLowerCase();return this._responseHeaders.hasOwnProperty(n)?this._responseHeaders[r.toLowerCase()]:null},e.prototype.getAllResponseHeaders=function(){var r=this;return this._responseHeaders==null?"":Object.keys(this._responseHeaders).map(function(n){return n+": "+r._responseHeaders[n]}).join(`\r
`)},e.prototype.overrideMimeType=function(r){if(this.readyState===e.LOADING||this.readyState===e.DONE)throw new e.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=r.toLowerCase()},e.prototype.nodejsSet=function(r){if(this.nodejsHttpAgent=r.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=r.httpsAgent||this.nodejsHttpsAgent,r.hasOwnProperty("baseUrl")){if(r.baseUrl!=null){var n=Cu.parse(r.baseUrl,!1,!0);if(!n.protocol)throw new e.SyntaxError("baseUrl must be an absolute URL")}this.nodejsBaseUrl=r.baseUrl}},e.nodejsSet=function(r){e.prototype.nodejsSet(r)},e.prototype._setReadyState=function(r){this.readyState=r,this.dispatchEvent(new bd.ProgressEvent("readystatechange"))},e.prototype._sendFile=function(r){throw new Error("Protocol file: not implemented")},e.prototype._sendHttp=function(r){if(this._sync)throw new Error("Synchronous XHR processing not implemented");r&&(this._method==="GET"||this._method==="HEAD")?(console.warn("Discarding entity body for "+this._method+" requests"),r=null):r=r||"",this.upload._setData(r),this._finalizeHeaders(),this._sendHxxpRequest()},e.prototype._sendHxxpRequest=function(){var r=this;if(this.withCredentials){var n=e.cookieJar.getCookies(Ed.CookieAccessInfo(this._url.hostname,this._url.pathname,this._url.protocol==="https:")).toValueString();this._headers.cookie=this._headers.cookie2=n}var i=this._url.protocol==="http:"?[_l,this.nodejsHttpAgent]:[Dy,this.nodejsHttpsAgent],s=i[0],o=i[1],f=s.request.bind(s),l=f({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:o});this._request=l,this.timeout&&l.setTimeout(this.timeout,function(){return r._onHttpTimeout(l)}),l.on("response",function(d){return r._onHttpResponse(l,d)}),l.on("error",function(d){return r._onHttpRequestError(l,d)}),this.upload._startUpload(l),this._request===l&&this._dispatchProgress("loadstart")},e.prototype._finalizeHeaders=function(){this._headers=_5({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},e.prototype._onHttpResponse=function(r,n){var i=this;if(this._request===r){if(this.withCredentials&&(n.headers["set-cookie"]||n.headers["set-cookie2"])&&e.cookieJar.setCookies(n.headers["set-cookie"]||n.headers["set-cookie2"]),[301,302,303,307,308].indexOf(n.statusCode)>=0){this._url=this._parseUrl(n.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),this._headers["Content-Type"]!=null&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),this._sendHxxpRequest();return}this._response=n,this._response.on("data",function(o){return i._onHttpResponseData(n,o)}),this._response.on("end",function(){return i._onHttpResponseEnd(n)}),this._response.on("close",function(){return i._onHttpResponseClose(n)}),this.responseUrl=this._url.href.split("#")[0],this.status=n.statusCode,this.statusText=_l.STATUS_CODES[this.status],this._parseResponseHeaders(n);var s=this._responseHeaders["content-length"]||"";this._totalBytes=+s,this._lengthComputable=!!s,this._setReadyState(e.HEADERS_RECEIVED)}},e.prototype._onHttpResponseData=function(r,n){this._response===r&&(this._responseParts.push(new Buffer(n)),this._loadedBytes+=n.length,this.readyState!==e.LOADING&&this._setReadyState(e.LOADING),this._dispatchProgress("progress"))},e.prototype._onHttpResponseEnd=function(r){this._response===r&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(e.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},e.prototype._onHttpResponseClose=function(r){if(this._response===r){var n=this._request;this._setError(),n.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},e.prototype._onHttpTimeout=function(r){this._request===r&&(this._setError(),r.abort(),this._setReadyState(e.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},e.prototype._onHttpRequestError=function(r,n){this._request===r&&(this._setError(),r.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},e.prototype._dispatchProgress=function(r){var n=new e.ProgressEvent(r);n.lengthComputable=this._lengthComputable,n.loaded=this._loadedBytes,n.total=this._totalBytes,this.dispatchEvent(n)},e.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},e.prototype._parseUrl=function(r,n,i){var s=this.nodejsBaseUrl==null?r:Cu.resolve(this.nodejsBaseUrl,r),o=Cu.parse(s,!1,!0);o.hash=null;var f=(o.auth||"").split(":"),l=f[0],d=f[1];return(l||d||n||i)&&(o.auth=(n||l||"")+":"+(i||d||"")),o},e.prototype._parseResponseHeaders=function(r){this._responseHeaders={};for(var n in r.headers){var i=n.toLowerCase();this._privateHeaders[i]||(this._responseHeaders[i]=r.headers[n])}this._mimeOverride!=null&&(this._responseHeaders["content-type"]=this._mimeOverride)},e.prototype._parseResponse=function(){var r=Buffer.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(r.toString("utf-8"))}catch{this.response=null}return;case"buffer":this.responseText=null,this.response=r;return;case"arraybuffer":this.responseText=null;for(var n=new ArrayBuffer(r.length),i=new Uint8Array(n),s=0;s<r.length;s++)i[s]=r[s];this.response=n;return;case"text":default:try{this.responseText=r.toString(this._parseResponseEncoding())}catch{this.responseText=r.toString("binary")}this.response=this.responseText}},e.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},e.ProgressEvent=bd.ProgressEvent,e.InvalidStateError=fo.InvalidStateError,e.NetworkError=fo.NetworkError,e.SecurityError=fo.SecurityError,e.SyntaxError=fo.SyntaxError,e.XMLHttpRequestUpload=xd.XMLHttpRequestUpload,e.UNSENT=0,e.OPENED=1,e.HEADERS_RECEIVED=2,e.LOADING=3,e.DONE=4,e.cookieJar=Ed.CookieJar(),e}(A5.XMLHttpRequestEventTarget);P0.XMLHttpRequest=Gf;Gf.prototype.nodejsHttpAgent=_l.globalAgent;Gf.prototype.nodejsHttpsAgent=Dy.globalAgent;Gf.prototype.nodejsBaseUrl=null;(function(t){function e(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}a(e,"__export"),Object.defineProperty(t,"__esModule",{value:!0}),e(P0);var r=Qa;t.XMLHttpRequestEventTarget=r.XMLHttpRequestEventTarget})(Uy);const S5=em("XMLHttpRequest")||Uy.XMLHttpRequest;class Fy extends YM{constructor(e){super(),this.url=e}formatError(e,r,n=-1){return{error:{message:r,code:n},id:e.id,jsonrpc:e.jsonrpc}}send(e,r){return new Promise(n=>{if(e.method==="eth_subscribe"){const f=this.formatError(e,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",f),n(f)}const i=new S5;let s=!1;const o=a((f,l)=>{if(!s)if(i.abort(),s=!0,r)r(f,l);else{const{id:d,jsonrpc:p}=e,x=f?{id:d,jsonrpc:p,error:{message:f.message,code:f.code}}:{id:d,jsonrpc:p,result:l};this.emit("payload",x),n(x)}},"res");i.open("POST",this.url,!0),i.setRequestHeader("Content-Type","application/json"),i.timeout=60*1e3,i.onerror=o,i.ontimeout=o,i.onreadystatechange=()=>{if(i.readyState===4)try{const f=JSON.parse(i.responseText);o(f.error,f.result)}catch(f){o(f)}},i.send(JSON.stringify(e))})}}a(Fy,"HTTPConnection");const C5=require("web3-provider-engine"),T5=require("web3-provider-engine/subproviders/cache"),I5=require("web3-provider-engine/subproviders/fixture"),M5=require("web3-provider-engine/subproviders/filters"),N5=require("web3-provider-engine/subproviders/hooked-wallet"),R5=require("web3-provider-engine/subproviders/nonce-tracker"),B5=require("web3-provider-engine/subproviders/subscriptions");class qy extends C5{constructor(e){if(super({pollingInterval:e.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=QM,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const r=await this.getWalletConnector();if(r)return this.start(),this.subscribeWalletConnector(),r.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async r=>this.send(r),this.send=async(r,n)=>{var i;if(typeof r=="string"){const s=r;let o=n;return s==="personal_sign"&&(o=ef(o)),this.sendAsyncPromise(s,o)}if(r=Object.assign({id:al(),jsonrpc:"2.0"},r),r.method==="personal_sign"&&(r.params=ef(r.params)),n){this.sendAsync(r,n);return}if(r.method==="eth_signTypedData_v4"&&((i=this.walletMeta)===null||i===void 0?void 0:i.name)==="MetaMask"){const{result:s}=await this.handleOtherRequests(r);return s}else return this.sendAsyncPromise(r.method,r.params)},this.onConnect=r=>{this.connectCallbacks.push(r)},this.triggerConnect=r=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach(n=>n(r))},this.bridge=e.connector?e.connector.bridge:e.bridge||"https://bridge.walletconnect.org",this.qrcode=typeof e.qrcode>"u"||e.qrcode!==!1,this.qrcodeModal=e.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=e.qrcodeModalOptions,this.wc=e.connector||new Bm({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta}),this.rpc=e.rpc||null,!this.rpc&&(!e.infuraId||typeof e.infuraId!="string"||!e.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=e.infuraId||"",this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){await(await this.getWalletConnector({disableSessionCreation:!0})).killSession(),await this.onDisconnect()}async handleRequest(e){try{let r,n=null;const i=await this.getWalletConnector();switch(e.method){case"wc_killSession":await this.close(),n=null;break;case"eth_accounts":n=i.accounts;break;case"eth_coinbase":n=i.accounts[0];break;case"eth_chainId":n=i.chainId;break;case"net_version":n=i.chainId;break;case"eth_uninstallFilter":this.sendAsync(e,s=>s),n=!0;break;default:r=await this.handleOtherRequests(e)}return r||this.formatResponse(e,n)}catch(r){throw this.emit("error",r),r}}async handleOtherRequests(e){if(!d0.includes(e.method)&&e.method.startsWith("eth_"))return this.handleReadRequests(e);const n=await(await this.getWalletConnector()).sendCustomRequest(e);return this.formatResponse(e,n)}async handleReadRequests(e){if(!this.http){const r=new Error("HTTP Connection not available");throw this.emit("error",r),r}return this.http.send(e)}formatResponse(e,r){return{id:e.id,jsonrpc:e.jsonrpc,result:r}}getWalletConnector(e={}){const{disableSessionCreation:r=!1}=e;return new Promise((n,i)=>{const s=this.wc;this.isConnecting?this.onConnect(o=>n(o)):!s.connected&&!r?(this.isConnecting=!0,s.on("modal_closed",()=>{i(new Error("User closed modal"))}),s.createSession({chainId:this.chainId}).then(()=>{s.on("connect",(o,f)=>{if(o)return this.isConnecting=!1,i(o);this.isConnecting=!1,this.connected=!0,f&&this.updateState(f.params[0]),this.emit("connect"),this.triggerConnect(s),n(s)})}).catch(o=>{this.isConnecting=!1,i(o)})):(this.connected||(this.connected=!0,this.updateState(s.session)),n(s))})}async subscribeWalletConnector(){const e=await this.getWalletConnector();e.on("disconnect",r=>{if(r){this.emit("error",r);return}this.onDisconnect()}),e.on("session_update",(r,n)=>{if(r){this.emit("error",r);return}this.updateState(n.params[0])})}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(e){const{accounts:r,chainId:n,networkId:i,rpcUrl:s}=e;(!this.accounts||r&&this.accounts!==r)&&(this.accounts=r,this.emit("accountsChanged",r)),(!this.chainId||n&&this.chainId!==n)&&(this.chainId=n,this.emit("chainChanged",n)),(!this.networkId||i&&this.networkId!==i)&&(this.networkId=i,this.emit("networkChanged",i)),this.updateRpcUrl(this.chainId,s||"")}updateRpcUrl(e,r=""){const n={infuraId:this.infuraId,custom:this.rpc||void 0};r=r||KI(e,n),r?(this.rpcUrl=r,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${e}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new Fy(this.rpcUrl),this.http.on("payload",e=>this.emit("payload",e)),this.http.on("error",e=>this.emit("error",e)))}sendAsyncPromise(e,r){return new Promise((n,i)=>{this.sendAsync({id:al(),jsonrpc:"2.0",method:e,params:r||[]},(s,o)=>{if(s){i(s);return}n(o.result)})})}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new I5({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new T5),this.addProvider(new B5),this.addProvider(new M5),this.addProvider(new R5),this.addProvider(new N5(this.configWallet())),this.addProvider({handleRequest:async(e,r,n)=>{try{const{error:i,result:s}=await this.handleRequest(e);n(i,s)}catch(i){n(i)}},setEngine:e=>e})}configWallet(){return{getAccounts:async e=>{try{const n=(await this.getWalletConnector()).accounts;n&&n.length?e(null,n):e(new Error("Failed to get accounts"))}catch(r){e(r)}},processMessage:async(e,r)=>{try{const i=await(await this.getWalletConnector()).signMessage([e.from,e.data]);r(null,i)}catch(n){r(n)}},processPersonalMessage:async(e,r)=>{try{const i=await(await this.getWalletConnector()).signPersonalMessage([e.data,e.from]);r(null,i)}catch(n){r(n)}},processSignTransaction:async(e,r)=>{try{const i=await(await this.getWalletConnector()).signTransaction(e);r(null,i)}catch(n){r(n)}},processTransaction:async(e,r)=>{try{const i=await(await this.getWalletConnector()).sendTransaction(e);r(null,i)}catch(n){r(n)}},processTypedMessage:async(e,r)=>{try{const i=await(await this.getWalletConnector()).signTypedData([e.from,e.data]);r(null,i)}catch(n){r(n)}}}}}a(qy,"WalletConnectProvider");async function k5(t){const e=new qy({infuraId:t,qrcodeModalOptions:{desktopLinks:["metamask","imToken","TokenPocket"],mobileLinks:["metamask","imToken","TokenPocket"]},rpc:{[Number(Oi.chainId)]:Oi.rpcUrls[0]}});return await e.enable(),e}a(k5,"walletconnect");async function P5(){const t=window.$onekey.ethereum;return t?(await t.request({method:"eth_requestAccounts"}),t):"OneKey is not installed"}a(P5,"onekey");async function O5(t,e){return t==="metamask"?pT():t==="onekey"?P5():k5(e.infuraId)}a(O5,"connect");var U0={exports:{}},ds=typeof Reflect=="object"?Reflect:null,_d=ds&&typeof ds.apply=="function"?ds.apply:a(function(e,r,n){return Function.prototype.apply.call(e,r,n)},"ReflectApply"),So;ds&&typeof ds.ownKeys=="function"?So=ds.ownKeys:Object.getOwnPropertySymbols?So=a(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):So=a(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys");function L5(t){console&&console.warn&&console.warn(t)}a(L5,"ProcessEmitWarning");var Vy=Number.isNaN||a(function(e){return e!==e},"NumberIsNaN");function Pt(){Pt.init.call(this)}a(Pt,"EventEmitter");U0.exports=Pt;U0.exports.once=q5;Pt.EventEmitter=Pt;Pt.prototype._events=void 0;Pt.prototype._eventsCount=0;Pt.prototype._maxListeners=void 0;var Ad=10;function jf(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}a(jf,"checkListener");Object.defineProperty(Pt,"defaultMaxListeners",{enumerable:!0,get:function(){return Ad},set:function(t){if(typeof t!="number"||t<0||Vy(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ad=t}});Pt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Pt.prototype.setMaxListeners=a(function(e){if(typeof e!="number"||e<0||Vy(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners");function Ky(t){return t._maxListeners===void 0?Pt.defaultMaxListeners:t._maxListeners}a(Ky,"_getMaxListeners");Pt.prototype.getMaxListeners=a(function(){return Ky(this)},"getMaxListeners");Pt.prototype.emit=a(function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var f=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw f.context=o,f}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")_d(l,this,r);else for(var d=l.length,p=$y(l,d),n=0;n<d;++n)_d(p[n],this,r);return!0},"emit");function Hy(t,e,r,n){var i,s,o;if(jf(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=Ky(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=o.length,L5(f)}return t}a(Hy,"_addListener");Pt.prototype.addListener=a(function(e,r){return Hy(this,e,r,!1)},"addListener");Pt.prototype.on=Pt.prototype.addListener;Pt.prototype.prependListener=a(function(e,r){return Hy(this,e,r,!0)},"prependListener");function U5(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}a(U5,"onceWrapper");function Gy(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=U5.bind(n);return i.listener=r,n.wrapFn=i,i}a(Gy,"_onceWrap");Pt.prototype.once=a(function(e,r){return jf(r),this.on(e,Gy(this,e,r)),this},"once");Pt.prototype.prependOnceListener=a(function(e,r){return jf(r),this.prependListener(e,Gy(this,e,r)),this},"prependOnceListener");Pt.prototype.removeListener=a(function(e,r){var n,i,s,o,f;if(jf(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){f=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():D5(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,f||r)}return this},"removeListener");Pt.prototype.off=Pt.prototype.removeListener;Pt.prototype.removeAllListeners=a(function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this},"removeAllListeners");function jy(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?F5(i):$y(i,i.length)}a(jy,"_listeners");Pt.prototype.listeners=a(function(e){return jy(this,e,!0)},"listeners");Pt.prototype.rawListeners=a(function(e){return jy(this,e,!1)},"rawListeners");Pt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):zy.call(t,e)};Pt.prototype.listenerCount=zy;function zy(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}a(zy,"listenerCount");Pt.prototype.eventNames=a(function(){return this._eventsCount>0?So(this._events):[]},"eventNames");function $y(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}a($y,"arrayClone");function D5(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}a(D5,"spliceOne");function F5(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}a(F5,"unwrapListeners");function q5(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}a(i,"errorListener");function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}a(s,"resolver"),Wy(t,e,s,{once:!0}),e!=="error"&&V5(t,i,{once:!0})})}a(q5,"once");function V5(t,e,r){typeof t.on=="function"&&Wy(t,"error",e,r)}a(V5,"addErrorHandlerIfEventEmitter");function Wy(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,a(function i(s){n.once&&t.removeEventListener(e,i),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}a(Wy,"eventTargetAgnosticAddListener");function Sd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}a(Sd,"ownKeys");function uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sd(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}a(uo,"_objectSpread");class Qy extends U0.exports{constructor(e){super(),this.user=null,this.contractOpt=null,this.library=null,this.provider=null,this.account="",this.connected=!1,this.api=new zl,this.config=void 0,this.cache=void 0,this.config=e,this.cache=new Pv(this.api)}async connenct(e){const r=await O5(e,this.config),n=new Nv(r,"any"),i=await n.listAccounts();if((await n.getNetwork()).chainId!==Number(Oi.chainId))try{var o,f;await kc((o=(f=n.provider).request)===null||o===void 0?void 0:o.call(f,{method:"wallet_switchEthereumChain",params:[{chainId:Oi.chainId}]}))}catch(N){var l;if(N.code===4902||N!=null&&(l=N.message)!==null&&l!==void 0&&l.includes("Unrecognized chain ID")){var d,p;await kc((d=n.provider)===null||d===void 0||(p=d.request)===null||p===void 0?void 0:p.call(d,{method:"wallet_addEthereumChain",params:[Oi]}))}}const x=i[0],T=pr(x),R=await io.getProxyUser(T);this.library=n,this.provider=r,this.account=T,this.user=R,this.contractOpt=new kv(n),this.connected=!0,this.api.config(R.key),r.on("accountsChanged",()=>this.disconnect()),r.on("chainChanged",N=>{N!==Oi.chainId&&this.disconnect()}),r.on("disconnect",()=>this.disconnect())}disconnect(){this.emit("disconnect"),this.clear()}clear(){this.library=null,this.provider=null,this.account="",this.contractOpt=null,this.user=null,this.connected=!1}getNetwork(){var e;return(e=this.library)===null||e===void 0?void 0:e.getNetwork()}async watchAsset(e){var r,n,i,s;const o=await((r=this.contractOpt)===null||r===void 0?void 0:r.getContractAddressByAssetId(e.assetId));await((n=this.library)===null||n===void 0||(i=(s=n.provider).request)===null||i===void 0?void 0:i.call(s,{method:"wallet_watchAsset",params:{options:{address:o,decimals:8,image:e.image,symbol:e.symbol},type:"ERC20"}}))}async withdraw(e){const r=await this.getNetwork();if((r==null?void 0:r.chainId)!==Number(Oi.chainId))throw new Error("Current chain is not Mixin Virtual Machine");const{action:n,amount:i,asset_id:s}=e,o=s===pu,f=await io.getExtra(n),l=await io.getProxyUserContract(this.account),d=rT(String(i),o);if(o){var p;await((p=this.contractOpt)===null||p===void 0?void 0:p.execBridgeContract("release",[l,f],d))}else{var x;await((x=this.contractOpt)===null||x===void 0?void 0:x.execAssetContract(s,"transferWithExtra",[l,d,f]))}}async getAsset(e){var r,n,i;const s=e===pu,o=s?((r=await((n=this.library)===null||n===void 0?void 0:n.getBalance(this.account)))!==null&&r!==void 0?r:"0").toString():await((i=this.contractOpt)===null||i===void 0?void 0:i.execAssetContract(e,"balanceOf",[this.account])),f=Bc(o,s),l=await this.cache.getAsset(e);return uo(uo({},l),{},{balance:f})}async getAssets(){const e=await io.getTokenList(this.account),r=await Promise.all(e.map(async i=>{var s;const o=await((s=this.contractOpt)===null||s===void 0?void 0:s.getAssetIdByContractAddress(i.contractAddress));if(!o)return null;const f=await this.cache.getAsset(o),l=Bc(i.balance);return uo(uo({},f),{},{balance:l})}));return[await this.getAsset(pu),...r].filter(i=>!!i)}getAuthToken(){return this.signToken({data:"",method:"GET",url:"/me"})}signToken({data:e,method:r,url:n}){if(!this.user)throw new Error("No proxy user found");return Xp(this.user.key.client_id,this.user.key.session_id,this.user.key.private_key,r,n,e)}}a(Qy,"MVM");function K5(t,e,r){const n=a(async()=>{var o,f;await r.fennec.connect(e.origin),r.token=(f=await((o=r.fennec.ctx)==null?void 0:o.wallet.signToken({payload:e.JWTPayload||{}})))!=null?f:""},"connectFennec"),i=a(async o=>{await r.mvm.connenct(o),r.token=r.mvm.getAuthToken()},"connectMVM"),s=a(async(o,f,l)=>{if(r.channel=o.type,r.channel==="fennec"&&(await n(),f({channel:r.channel,token:r.token})),ks(r.channel)&&(await i(r.channel),f({channel:r.channel,token:r.token})),r.channel==="mixin"){if(o.token)r.token=o.token;else{if(!e.getTokenByCode)return l("No auth actions provided");r.token=await e.getTokenByCode(o.code)}f({channel:r.channel,token:r.token})}},"handleAuth");return()=>new Promise((o,f)=>{t.config.globalProperties.$uikit.auth.show({checkFennec:()=>r.fennec.isAvailable(),checkMetamask:()=>{var l;return Boolean((l=window==null?void 0:window.ethereum)==null?void 0:l.isMetaMask)},checkOnekey:()=>Boolean(window.$onekey),handleAuth:async l=>{try{await s(l,o,f)}catch(d){f(d)}},handleError(l){f(l)}})})}a(K5,"createAuthAction");function H5(t){return async()=>{var e,r;return t.channel==="mixin"?await t.mixin.endpoints.getAssets():t.channel==="fennec"?(r=await((e=t.fennec.ctx)==null?void 0:e.wallet.getAssets()))!=null?r:[]:ks(t.channel)?await t.mvm.getAssets():[]}}a(H5,"createAssetsAction");function G5(t){return async e=>{var r;return t.channel==="mixin"?await t.mixin.endpoints.getAsset(e):t.channel==="fennec"?await((r=t.fennec.ctx)==null?void 0:r.wallet.getAsset(e)):ks(t.channel)?await t.mvm.getAsset(e):null}}a(G5,"createAssetAction");function j5(t,e){return async r=>{var N,O,B,k,L,D,H;const n=(N=r.code)!=null?N:"",i=(O=r.multisig)!=null?O:!1;let s=(B=r==null?void 0:r.assetId)!=null?B:"",o=(k=r==null?void 0:r.amount)!=null?k:"",f=(L=r==null?void 0:r.memo)!=null?L:"",l=[],d=0;const p=(D=r==null?void 0:r.recipient)!=null?D:"",x=(H=r==null?void 0:r.traceId)!=null?H:"",T=i?`mixin://codes/${n}`:t1(r);if(i){const K=await e.mixin.endpoints.codes(n);s=K==null?void 0:K.asset_id,o=K==null?void 0:K.amount,f=K==null?void 0:K.memo,l=K==null?void 0:K.receivers,d=K==null?void 0:K.threshold}const R={fennec:async()=>{var K,j;i?await((K=e.fennec.ctx)==null?void 0:K.wallet.multisigsPayment({code:n})):await((j=e.fennec.ctx)==null?void 0:j.wallet.transfer({amount:o,asset_id:s,memo:f,opponent_id:p,trace_id:x}))},mixin:()=>{window.location.href=T},mvm:async()=>{i?await e.mvm.withdraw({action:{extra:f,receivers:l,threshold:d},amount:o,asset_id:s}):await e.mvm.withdraw({action:{extra:f,receivers:[p],threshold:1},amount:o,asset_id:s})}};await t.config.globalProperties.$uikit.payment.show({...r,actions:R,amount:o,assetId:s,channel:e.channel,scheme:T})}}a(j5,"createPaymentAction");function z5(t,e){return async r=>{e.channel=r.channel,e.token=r.token;const n=a(async()=>{await e.fennec.connect(t.origin),e.token=await e.fennec.ctx.wallet.signToken({payload:{}})},"connectFennec"),i=a(async s=>{await e.mvm.connenct(s),e.token=e.mvm.getAuthToken()},"connectMVM");return e.channel==="fennec"&&await n(),ks(e.channel)&&await i(e.channel),{channel:e.channel,token:e.token}}}a(z5,"createSyncAction");function $5(t){return{isMVM:()=>ks(t.channel),logged:()=>Boolean(t.token),watchAsset:e=>{ks(t.channel)&&t.mvm.watchAsset(e)}}}a($5,"createHelper");function ks(t){return t==="metamask"||t==="walletconnect"||t==="onekey"}a(ks,"isMVM");function R8(){return Cd().appContext.config.globalProperties.$passport}a(R8,"usePassport");function W5(t,e){const r={channel:"",fennec:new l1,mixin:new zl,mvm:new Qy(e.config),token:""};r.mixin.provider.instance.interceptors.request.use(s=>(s.headers={...s.headers,Authorization:`Bearer ${r.token}`},s)),r.mvm.on("disconnect",()=>{var s;(s=e.onDisconnect)==null||s.call(e)});const n={auth:K5(t,e,r),fennec:r.fennec,getAsset:G5(r),getAssets:H5(r),helper:$5(r),mvm:r.mvm,payment:j5(t,r),sync:z5(e,r)},i=t.config.globalProperties;i.$passport=n}a(W5,"install");function Q5(){}a(Q5,"Passport");Q5.install=W5;export{s1 as A,Q5 as P,R8 as a,N8 as u};
//# sourceMappingURL=index.72cdf6b1.js.map
